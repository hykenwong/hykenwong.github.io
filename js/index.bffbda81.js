(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)i=o[u],s[i]&&d.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);h&&h(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var o=n[i];0!==s[o]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},i={index:0},s={index:0},r=[];function o(e){return c.p+"js/"+({auth:"auth","items~old-items":"items~old-items",items:"items","jobs~monsters~old-items~skills":"jobs~monsters~old-items~skills","old-items":"old-items",jobs:"jobs","monsters~skills":"monsters~skills",monsters:"monsters",skills:"skills",maps:"maps",resources:"resources",text:"text"}[e]||e)+"."+{auth:"60d8a87a","items~old-items":"7f98d5e6",items:"6aab9ad0","jobs~monsters~old-items~skills":"bd20459f","old-items":"bc2cda99",jobs:"1d54dcbd","monsters~skills":"0b9b31f2",monsters:"41ff2f25",skills:"143fe41b",maps:"6fea7237",resources:"d549d534",text:"ea6b8745"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={auth:1,"items~old-items":1,items:1,"jobs~monsters~old-items~skills":1,"old-items":1,jobs:1,"monsters~skills":1,monsters:1,skills:1,maps:1,resources:1,text:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var a="css/"+({auth:"auth","items~old-items":"items~old-items",items:"items","jobs~monsters~old-items~skills":"jobs~monsters~old-items~skills","old-items":"old-items",jobs:"jobs","monsters~skills":"monsters~skills",monsters:"monsters",skills:"skills",maps:"maps",resources:"resources",text:"text"}[e]||e)+"."+{auth:"a96bf1eb","items~old-items":"54f52594",items:"24fe1f49","jobs~monsters~old-items~skills":"b0f85ee1","old-items":"9532721a",jobs:"9926ed4d","monsters~skills":"34618e7a",monsters:"95db3f93",skills:"83e76e66",maps:"c9bff398",resources:"331d3705",text:"b45a7578"}[e]+".css",s=c.p+a,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var l=r[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===s))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===a||u===s)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||s,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete i[e],h.parentNode.removeChild(h),n(r)},h.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(h)})).then((function(){i[e]=0})));var a=s[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,n){a=s[e]=[t,n]}));t.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e),l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=s[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+a+": "+i+")");r.type=a,r.request=i,n[1](r)}s[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=u;r.push([0,"chunk-vendors","chunk-common"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1:function(e,t){},"1fc5":function(e,t,n){"use strict";n("8768")},2:function(e,t){},2395:function(e,t,n){},3:function(e,t){},"30ed":function(e,t,n){},"322f":function(e,t,n){"use strict";n("30ed")},"32df":function(e,t,n){"use strict";n("edcd")},"38f6":function(e,t,n){},"3bbf":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-string",attrs:{inline:e.inline}},[n("div",{staticClass:"display",attrs:{title:e.title},on:{click:e.onClick}},[e.message.isSuccess()&&"html"==e.format&&e.message.value?n("div",[n("span",{domProps:{innerHTML:e._s(e.message.value.message)}})]):e.message.isSuccess()&&e.message.value?n("span",[e._v(e._s(e.message.value.message))]):n("span",["html"==e.format?[n("span",{domProps:{innerHTML:e._s(e.alt)}})]:[e._v(e._s(e.alt?e.alt:"M:"+e.id))]],2)]),e._e()],2)},i=[],s=(n("4de4"),n("d81d"),n("a9e3"),n("d3b7"),n("3ca3"),n("ddb0"),n("96cf"),n("1da1")),r=n("2b0e"),o=n("bfe8"),c=n("7e55"),l=n("acc2"),u=n("3a0b"),d=r["a"].extend({name:"ui-string",props:{mid:{type:[String,Number]},params:{type:String},format:{type:String},region:{type:String},inline:{type:Boolean},alt:{type:String},messageData:{type:Object},preventRecursive:{type:Boolean,default:!1}},data:function(){return{message:new o["a"],altRegionMessages:null,showModal:!1,delayShowModal:!1}},watch:{mid:function(e,t){e!=t&&this.fetchData()},params:function(e,t){e!=t&&this.fetchData()},format:function(e,t){e!=t&&this.fetchData()},region:function(e,t){e!=t&&this.fetchData()},messageData:function(e,t){e!=t&&(this.altRegionMessages=null,this.fetchData())}},created:function(){this.fetchData()},computed:{id:function(){return Number(this.mid)||this.messageData&&this.messageData.id},resolvedRegion:function(){return this.region||u["a"].state.regionCode||l["b"]},title:function(){return this.preventRecursive?null:"Click to view other translations"}},methods:{fetchData:function(){var e=this;this.messageData?this.message.done(this.messageData):this.message.loading||(this.altRegionMessages=null,this.message.startLoad(),c["a"].get(this.id,this.region,this.params,this.format).then((function(t){e.message.done(t)})).catch((function(t){e.message.failed(t)})))},loadOtherRegionData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return");case 3:if(n=t.sent.filter((function(t){return t.shortName!=e.resolvedRegion})),0!==n.length){t.next=7;break}return e.altRegionMessages=null,t.abrupt("return");case 7:return e.altRegionMessages=[],a=n.map(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].get(e.id,n.shortName,e.params,e.format);case 2:return a=t.sent,t.abrupt("return",{message:a,region:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=11,Promise.all(a);case 11:e.altRegionMessages=t.sent;case 12:case"end":return t.stop()}}),t)})))()},onClick:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.preventRecursive){t.next=2;break}return t.abrupt("return");case 2:if(e.showModal=!0,r["a"].nextTick().then((function(){e.delayShowModal=!0})),null!=e.altRegionMessages){t.next=7;break}return t.next=7,e.loadOtherRegionData();case 7:r["a"].nextTick().then((function(){return e.positionModal()}));case 8:case"end":return t.stop()}}),t)})))()},dismissModal:function(){this.showModal=!1,this.delayShowModal=!1},positionModal:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.showModal){t.next=9;break}if(n=e.$refs.modal,!n){t.next=9;break}if(a=n.getBoundingClientRect(),!a){t.next=9;break}if(i=a.bottom-document.documentElement.clientHeight,!(i>0)){t.next=9;break}return t.next=9,e.$anime({targets:[n],translateY:[-i,-i-50],elasticity:0,duration:0}).finished;case 9:case"end":return t.stop()}}),t)})))()}}}),h=d,m=(n("32df"),n("2877")),f=Object(m["a"])(h,a,i,!1,null,"45871a7a",null);t["a"]=f.exports},"3dff":function(e,t,n){"use strict";n("c5b2")},4:function(e,t){},"400e":function(e,t,n){},4267:function(e,t,n){"use strict";n("d92c")},"5f38":function(e,t,n){"use strict";n("d3b7");var a=n("d4ec"),i=n("bee2"),s=n("14b7"),r=n.n(s),o="ZGV2bGluLmRpdmluaXRvci5jb20=",c="LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUhZd0VBWUhLb1pJemowQ0FRWUZLNEVFQUNJRFlnQUVST1ZITVZUQTkzZHpHVk5ROUZpOFZ3WTV3eVdJT0IyZVVuSmlPNU54SWozOE04Z1JHRlkrU2VFTGk0bklUUDYxNThxYmVuZEhDTHVtMEpjaW9oTlRJQlpjbjhlZ3g4b081YlVadlJuaGRSS0ZBWEdQTmxzMXRJSWVsL3FBdXhzSQotLS0tLUVORCBQVUJMSUMgS0VZLS0tLS0=",l=function(){function e(){Object(a["a"])(this,e),this.AUTH_URL="aHR0cHM6Ly9kZXZsaW4uZGl2aW5pdG9yLmNvbS9sb2dpbj9hPQ=="}return Object(i["a"])(e,[{key:"performDevlinOAuth2Flow",value:function(){var e=this;return new Promise((function(t,n){var a=atob(e.AUTH_URL)+"9d41832e-dad0-4c88-bbb3-7463cb746045";a+="&o="+encodeURIComponent(window.location.origin);var i=window.open(a,"dv.devlin.auth","width=400,height=600,menubar=no");if(i){var s=!1;window.onmessage=function(e){if("https://devlin.divinitor.com"===e.origin){var a=e.data;if(a.accessToken){if(a.accessToken){try{r.a.verify(a.accessToken,atob(c),{algorithms:["ES384"],issuer:atob(o),clockTolerance:3e4,audience:"9d41832e-dad0-4c88-bbb3-7463cb746045"})}catch(l){return console.error("Invalid token",l,a.accessToken),void n(new Error("Invalid token"))}t(a),s=!0,i.close()}}else console.error("No token")}else console.error("Origin mismatch",e.origin)};var l=setInterval((function(){if(i.closed){if(clearInterval(l),s)return;n(new Error("Login cancelled"))}}),1e3)}else n(new Error("Unable to open Devlin Auth window"))}))}}]),e}();t["a"]=new l},"61d1":function(e,t,n){},"6c50":function(e,t,n){"use strict";n("f4d9")},"746a":function(e,t,n){"use strict";n("400e")},"7c55":function(e,t,n){"use strict";n("2395")},8081:function(e,t,n){"use strict";n("db1b")},"86ed":function(e,t,n){"use strict";n("9e02")},8768:function(e,t,n){},"925a":function(e,t,n){"use strict";var a,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discord-hero"},[3==e.loginStatus?n("div",{staticClass:"discord-success"},[e._v(" Success! You are now logged in. ")]):0==e.loginStatus?n("div",{staticClass:"discord-login"},[n("button",{directives:[{name:"anime",rawName:"v-anime",value:{borderColor:["#98BCD4","#dcf1ff","#98BCD4","#98BCD4"],loop:!0,duration:3e3,delay:750,easing:"easeInOutExpo"},expression:"{\r\n                borderColor: ['#98BCD4', '#dcf1ff', '#98BCD4', '#98BCD4'],\r\n                loop: true,\r\n                duration: 3000,\r\n                delay: 750,\r\n                easing: 'easeInOutExpo'\r\n            }"}],staticClass:"dv-button discord-button button",on:{click:e.openDiscordAuth}},[n("div",{staticClass:"login-label"},[e._v("Log in")])]),n("br"),e.optional?n("div",{staticClass:"no-thanks"},[n("a",{attrs:{href:"#"},on:{click:e.skip}},[e._v("No thanks, just let me in")])]):e._e()]):1==e.loginStatus?n("div",{directives:[{name:"anime",rawName:"v-anime",value:{translateX:[-50,0],opacity:{value:["0.0","1.0"],duration:5e3},delay:500,duration:750,elasticity:100},expression:"{\r\n            translateX: [-50, 0],\r\n            opacity: {\r\n                value: ['0.0', '1.0'],\r\n                duration: 5000,\r\n            },\r\n            delay: 500,\r\n            duration: 750,\r\n            elasticity: 100,\r\n        }"}],staticClass:"discord-waiting"},[n("div",{staticClass:"loading-blinker"}),e._v(" Waiting for you to log in on the Devlin popup window... ")]):2==e.loginStatus?n("div",{staticClass:"discord-waiting"},[n("div",{staticClass:"loading-blinker"}),e._v(" Verifying login information... ")]):4==e.loginStatus?n("div",{staticClass:"discord-error"},[n("h4",{staticClass:"head"},[e._v(" Whoops, we couldn't log you in :( ")]),e.discordLoginError?n("div",{staticClass:"detail"},[e._v(" "+e._s(e.discordLoginError.message)+" ")]):e._e(),n("div",{staticClass:"button-row"},[n("button",{staticClass:"dv-button",on:{click:e.openDiscordAuth}},[e._v("Try again")]),e.optional?n("button",{staticClass:"dv-button",on:{click:e.skip}},[e._v("Skip for now")]):e._e()])]):e._e(),3==e.loginStatus?n("div",{staticClass:"got-it"},[n("button",{directives:[{name:"anime",rawName:"v-anime",value:{borderColor:["#98BCD4","#dcf1ff","#98BCD4","#98BCD4"],loop:!0,duration:3e3,delay:750,easing:"easeInOutExpo"},expression:"{\r\n                    borderColor: ['#98BCD4', '#dcf1ff', '#98BCD4', '#98BCD4'],\r\n                    loop: true,\r\n                    duration: 3000,\r\n                    delay: 750,\r\n                    easing: 'easeInOutExpo'\r\n                }"}],staticClass:"dv-button",on:{click:e.finish}},[e._v(" Awesome, let's go ")])]):e._e()])},s=[],r=(n("96cf"),n("1da1")),o=n("2b0e"),c=n("a0c2"),l=n("5f38");(function(e){e[e["IDLE"]=0]="IDLE",e[e["DISCORD_PROMPT"]=1]="DISCORD_PROMPT",e[e["VERIFICATION"]=2]="VERIFICATION",e[e["DONE"]=3]="DONE",e[e["ERROR"]=4]="ERROR"})(a||(a={}));var u=o["a"].extend({props:{optional:{type:Boolean}},data:function(){return{loginStatus:a.IDLE,discordLoginError:null}},methods:{finish:function(){this.$emit("finish")},skip:function(){this.$emit("skip")},openDiscordAuth:function(){var e=this;this.$anime({targets:".page-indicator .indicator[bad]",translateY:[-3,0,0],rotate:["+135deg"],duration:2e3}),this.$anime({targets:".modal-inner",rotate:["0deg"]}),this.loginStatus=a.DISCORD_PROMPT,this.discordLoginError=null,setTimeout(Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].performDevlinOAuth2Flow();case 3:n=t.sent,e.loginStatus=a.DONE,e.$store.dispatch(c["a"].SetAuthToken,n),e.$emit("done"),t.next=15;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0),e.loginStatus=a.ERROR,e.discordLoginError=t.t0,o["a"].nextTick().then((function(){e.$anime({targets:".page-indicator .indicator[bad]",translateX:[-5,5,-2,2,-3,0],translateY:[0,3],rotate:["+240deg"],elasticity:500,duration:1e3}),e.$anime({targets:".modal-inner",rotate:["+2deg"],delay:200,elasticity:800})}));case 15:case"end":return t.stop()}}),t,null,[[0,9]])}))),1e3)}}}),d=u,h=(n("8081"),n("2877")),m=Object(h["a"])(d,i,s,!1,null,"785244ba",null);t["a"]=m.exports},9858:function(e,t,n){"use strict";n("d3b7"),n("96cf");var a=n("1da1"),i=n("d4ec"),s=n("bee2"),r=n("27c7"),o=function(){function e(){Object(i["a"])(this,e)}return Object(s["a"])(e,[{key:"performDiscordOAuth2Flow",value:function(){return new Promise((function(e,t){var n="https://discordapp.com/api/oauth2/authorize";n+="?client_id=383108341196390401",n+="&redirect_uri="+encodeURIComponent(window.location.origin)+"/auth/discord",n+="&response_type=code&scope=identify%20email%20guilds";var a=window.open(n,"dv.minerva.auth","width=400,height=600,menubar=no");if(a){var i=!1;window.onmessage=function(t){if(t.origin===window.location.origin){var n=t.data;n.oauthCode&&n.oauthCode&&(e(n.oauthCode),i=!0,a.close())}};var s=setInterval((function(){if(a.closed){if(clearInterval(s),i)return;t(new Error("Login cancelled"))}}),1e3)}else t(new Error("Unable to open Discord Auth window"))}))}},{key:"redemptionWindowFlow",value:function(e){return new Promise((function(t,n){var a=e.query.error;if(a)n(new Error(a));else{var i=e.query.code;if(i){var s=window.opener;if(!s)return void n("Unable to communicate with opener");var r={oauthCode:i};s.postMessage(r,window.location.origin)}else n("Missing code")}}))}},{key:"redeemCode",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].get("/auth/discord?code="+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new o},"9e02":function(e,t,n){},a302:function(e,t,n){"use strict";n("38f6")},b040:function(e,t,n){"use strict";n("e60d")},ba20:function(e,t,n){"use strict";n("d163")},c050:function(e,t,n){"use strict";n("c245")},c245:function(e,t,n){},c5b2:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("45fc"),n("b0c0"),n("ac1f"),n("5319"),n("1276"),n("2ca0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?e._e():n("div",{attrs:{id:"app",embed:e.embedded}},[e.embedded?e._e():n("div",{staticClass:"site-header"},[n("div",{staticClass:"header-left"},[n("router-link",{staticClass:"header-link",attrs:{to:"/"}},[n("a",{attrs:{href:"https://dngamer.site",target:"_blank"}},[n("h1",[e._v("DN聚集地")])]),n("div",{staticClass:"subtitle"},[e._v("龙之谷游戏参考资料网站")]),e.useInstanceText?n("div",{staticClass:"subtitle"}):e._e()])],1),n("div",{staticClass:"mobile-header-right mobile-only"},[n("navigation-pane")],1)]),e.$store.getters.userInfo?n("div",{staticClass:"auth-box"},[n("site-auth-header")],1):e._e(),n("div",{staticClass:"region-indicator"},[n("region-header")],1),e.showFirstRun?n("first-run"):e._e(),n("div",{staticClass:"appbody",attrs:{embed:e.embedded}},[e.embedded?n("div",{staticClass:"embedded-header"},[e._v(" DN聚集地 ")]):e._e(),n("div",{staticClass:"flex-box"},[e.embedded?e._e():n("div",{staticClass:"left-pane mobile-hide"},[n("navigation-pane")],1),n("div",{staticClass:"main-pane"},[e.showRouteLoader?n("loader",{attrs:{"load-text":"正在加载信息中"}}):n("router-view")],1)])]),e._m(0),n("div",{staticClass:"startup",attrs:{started:e.started}},[e._m(1)]),n("div",{attrs:{id:"tooltip-host"}})],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"copyright"},[n("a",{attrs:{href:"https://dngamer.site",target:"_blank"}},[e._v("DN聚集地 © Copyright © 2019-2021 DN Gamer DN聚集地 版权所有 ")]),n("br"),e._v(" Forked from Divinitor © 2019 Vahr"),n("span",[e._v("#9959")]),e._v(" (Vincent Zhang)"),n("br"),e._v(" 免责声明：DN聚集地与 Dragon Nest © Eyedentity Games, Inc 没有从属关系 "),n("br")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"sub"},[e._v("DN游戏参考信息网站")]),n("div",{staticClass:"title"},[e._v("DN聚集地")]),n("div",{staticClass:"detail"},[e._v("正在加载中")])])}],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"first-run"},[n("div",{staticClass:"modal-shade"}),n("div",{staticClass:"modal"},[n("div",{directives:[{name:"anime",rawName:"v-anime",value:{translateY:["-100px",0],opacity:{value:["0.0","1.0"],duration:5e3},delay:500,duration:750,elasticity:100},expression:"{\r\n                translateY: ['-100px', 0],\r\n                opacity: {\r\n                    value: ['0.0', '1.0'],\r\n                    duration: 5000,\r\n                },\r\n                delay: 500,\r\n                duration: 750,\r\n                elasticity: 100,\r\n            }"}],staticClass:"modal-inner"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"page",attrs:{active:0==e.page,id:0}},[n("div",{staticClass:"content content-in",attrs:{active:0==e.page}},[n("h1",[e._v("欢迎来到DN聚集地 游戏参考信息网站！")]),n("p",[e._v(" 此站是有关龙之谷各方面的游戏参考信息网站。 ")]),e._m(0),n("div",{staticClass:"got-it"},[n("button",{directives:[{name:"anime",rawName:"v-anime",value:{borderColor:["#98BCD4","#dcf1ff","#98BCD4","#98BCD4"],loop:!0,duration:3e3,delay:750,easing:"easeInOutExpo"},expression:"{\r\n                                    borderColor: ['#98BCD4', '#dcf1ff', '#98BCD4', '#98BCD4'],\r\n                                    loop: true,\r\n                                    duration: 3000,\r\n                                    delay: 750,\r\n                                    easing: 'easeInOutExpo'\r\n                                }"}],staticClass:"dv-button",on:{click:function(t){return e.changePage(2,1)}}},[e._v(" 确定 ")])])])]),n("div",{staticClass:"page",attrs:{active:1==e.page,id:1}},[n("div",{staticClass:"content content-in"},[n("h4",[e._v("Quasi-legal stuff")]),e._m(1),n("div",{staticClass:"got-it"},[n("button",{directives:[{name:"anime",rawName:"v-anime",value:{borderColor:["#98BCD4","#dcf1ff","#98BCD4","#98BCD4"],loop:!0,duration:3e3,delay:750,easing:"easeInOutExpo"},expression:"{\r\n                                    borderColor: ['#98BCD4', '#dcf1ff', '#98BCD4', '#98BCD4'],\r\n                                    loop: true,\r\n                                    duration: 3000,\r\n                                    delay: 750,\r\n                                    easing: 'easeInOutExpo'\r\n                                }"}],on:{click:function(t){return e.changePage(2,1)}}},[e._v(" Sounds Good ")])])])]),n("div",{staticClass:"page",attrs:{active:2==e.page,id:2}},[n("div",{staticClass:"content content-in"},[n("h1",[e._v("请选择游戏服务器")]),n("p",[e._v(" 请选择你的龙之谷游戏服务器。当然，你选择后可在页面右上角点击切换服务器。 ")]),e.regionsLoading?e._e():n("div",{staticClass:"region-selector"},[n("region-select",{attrs:{regions:e.regions,selection:e.selectedRegionCode},on:{select:e.selectRegion}})],1),e.regionsError?n("div",{staticClass:"region-error"},[n("div",{staticClass:"warn toast"},[n("div",{staticClass:"content"},[n("div",{staticClass:"heading"},[e._v("Oops")]),n("p",[e._v(" Sorry! There might be an issue with the service: "),n("br"),e._v(" "+e._s(e.regionsError)+" ")])])]),n("div",{staticClass:"got-it"},[n("button",{directives:[{name:"anime",rawName:"v-anime",value:{borderColor:["#98BCD4","#dcf1ff","#98BCD4","#98BCD4"],loop:!0,duration:3e3,delay:750,easing:"easeInOutExpo"},expression:"{\r\n                                        borderColor: ['#98BCD4', '#dcf1ff', '#98BCD4', '#98BCD4'],\r\n                                        loop: true,\r\n                                        duration: 3000,\r\n                                        delay: 750,\r\n                                        easing: 'easeInOutExpo'\r\n                                    }"}],on:{click:function(t){return e.changePage(3,2)}}},[e._v(" Continue ")])])]):e._e()])]),n("div",{staticClass:"page",attrs:{active:3==e.page,id:3}},[n("div",{staticClass:"content content-in"},[n("h1",[e._v("登录")]),n("p",[e._v(" 请你先登录DN聚集地。 ")]),n("div",{staticClass:"got-it"},[n("button",{directives:[{name:"anime",rawName:"v-anime",value:{borderColor:["#98BCD4","#dcf1ff","#98BCD4","#98BCD4"],loop:!0,duration:3e3,delay:750,easing:"easeInOutExpo"},expression:"{\r\n                                    borderColor: ['#98BCD4', '#dcf1ff', '#98BCD4', '#98BCD4'],\r\n                                    loop: true,\r\n                                    duration: 3000,\r\n                                    delay: 750,\r\n                                    easing: 'easeInOutExpo'\r\n                                }"}],staticClass:"dv-button",on:{click:e.finish}},[e._v(" 确认 ")])]),e._e()],2)]),n("div",{staticClass:"page-indicator"},[n("div",{staticClass:"indicator",attrs:{active:0==e.page,disabled:1==e.loginStatus||2==e.loginStatus},on:{click:function(t){return e.changePage(0)}}}),n("div",{staticClass:"indicator",attrs:{active:2==e.page,disabled:e.completedStep<1||1==e.loginStatus||2==e.loginStatus},on:{click:function(t){return e.changePage(2)}}}),n("div",{staticClass:"indicator",attrs:{active:3==e.page,disabled:e.completedStep<2,bad:4==e.loginStatus},on:{click:function(t){return e.changePage(3)}}})])])])])])},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" 请注意该网站的信息在缓慢开发中，会有很多bug或者不完整的功能。如果遇到问题，请联系"),n("strong",[e._v("云玩家森美")]),e._v("。 ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"legal"},[e._v(" This site does not use cookies for any of its functionality. We do use "),n("a",{attrs:{href:"https://docs.microsoft.com/en-us/azure/application-insights/app-insights-overview",target:"_blank"}},[e._v("Azure Application Insights")]),e._v(" to gather basic usage and performance information to monitor site performance, issues, and usage. You can opt out of this data collection by blocking cookies or using a tracker blocker. If you log in to Minerva with Discord, your Discord information is only used to verify eligibility to access limited features and prevent fraudulent use. You may opt out of this by not signing in with Discord. A small amount of your browser's "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/Storage/LocalStorage",target:"_blank"}},[e._v("local storage")]),e._v(" is used to store your login token, login name, preferences, and a few bits of information (like if you have seen this message you're reading right now or not) necessary to the proper operation of the site. You may clear this data at any time by using your browser's local storage options. Vahr does not guarantee or have any obligation to the availability of this site and its services. These terms may change at any time without prior notice, however if they do change you will be notified the next time you access this site. ")])}],l=(n("99af"),n("a9e3"),n("5530")),u=n("2f62"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"region-select"},[n("div",{staticClass:"regions"},e._l(e.displayRegions,(function(t){return n("div",{key:t.id,staticClass:"region",attrs:{active:t.shortName==e.selected},on:{click:function(n){return e.select(t)}}},[n("div",{staticClass:"region-header"},[n("div",{staticClass:"head"},[e._v(e._s(e.getRegionLocalizedName(t)))]),n("div",{staticClass:"subheader"},[e._v(e._s(e.subscript(t)))])]),t.version?n("div",{staticClass:"version"},[e._v(" v"+e._s(t.version)+" ")]):e._e()])})),0)])},h=[],m=(n("4de4"),n("7db0"),n("acc2")),f=i["a"].extend({props:{regions:{type:Array},selection:{type:String}},watch:{selection:function(){this.selected=this.selection}},data:function(){return{selected:""}},computed:{displayRegions:function(){var e=this;return this.regions.filter((function(t){return t.id>=0||e.selected===m["e"]}))}},mounted:function(){this.selected=this.selection},methods:{select:function(e){this.$emit("select",e),this.selected=e.shortName},getRegionLocalizedName:function(e){var t=e.displayNames[e.defaultLocale];return t||e.displayNames.default},getRegionCurrentLocalizedName:function(e){var t=this,n=e.displayNames[e.defaultLocale],a=this.regions.find((function(e){return e.shortName==t.selected}));return a?e.displayNames[a.defaultLocale]||e.displayNames.default:n||e.displayNames.default},subscript:function(e){var t=e.displayNames.default,n=this.getRegionLocalizedName(e),a=this.getRegionCurrentLocalizedName(e);return t!==a&&n!==t&&n!==a?"".concat(a," | ").concat(t):n===a?t:a}}}),p=f,g=(n("dcfe"),n("2877")),v=Object(g["a"])(p,d,h,!1,null,"ee708bb6",null),_=v.exports,b=n("a0c2"),C=n("9858"),E=n("925a");(function(e){e[e["IDLE"]=0]="IDLE",e[e["DISCORD_PROMPT"]=1]="DISCORD_PROMPT",e[e["VERIFICATION"]=2]="VERIFICATION",e[e["DONE"]=3]="DONE",e[e["ERROR"]=4]="ERROR"})(a||(a={}));var R=i["a"].extend({data:function(){return{page:-1,completedStep:-1,regionsLoading:!1,regionsError:"",regions:[],loginStatus:a.IDLE,discordLoginError:null}},components:{RegionSelect:_,DiscordHeroButton:E["a"]},mounted:function(){var e=this;this.loadRegions(),setTimeout((function(){return e.changePage(0)}),500)},computed:Object(l["a"])(Object(l["a"])({selectedRegionCode:function(){return this.$store.state.regionCode}},Object(u["b"])(["authenticated","authInfo"])),{},{avatar:function(){var e=this.authInfo;if(e&&e.profile){var t=e.profile.avatar;if(!t){var n=Number(e.profile.discriminator)%5;return"https://cdn.discordapp.com/embed/avatars/".concat(n,".png?size=128")}var a="png";return t.startsWith("a_")&&(a="gif"),"https://cdn.discordapp.com/avatars/".concat(e.profile.id,"/").concat(t,".").concat(a,"?size=128")}return null}}),methods:{changePage:function(e,t){var n=this;this.$anime({targets:".modal-inner",rotate:["0deg"]}),void 0!==t&&(this.completedStep=t);var s=this.page;if(this.page=e,s!==e){this.loginStatus==a.ERROR&&(this.$anime({targets:".page-indicator .indicator[bad]",translateY:[-3,0,0],rotate:["+135deg"],duration:2e3}),this.loginStatus=a.IDLE,this.discordLoginError=null);var r=-30,o=0;s<e&&(r*=-1),-1===s&&(r=0,o=-50),i["a"].nextTick().then((function(){n.$anime({targets:".page[active] .content-in",translateX:[r,0],translateY:[o,0],elasticity:100,opacity:{value:["0.0","1.0"],delay:100,duration:2e3},delay:100}),n.$anime({targets:".page-indicator .indicator[active]",rotate:["+135deg"],duration:1e3})}))}},nextPage:function(){this.changePage(this.page+1)},nextStep:function(){this.changePage(this.page,this.completedStep+1)},loadRegions:function(){var e=this;this.regionsLoading=!0,m["a"].listRegions().then((function(t){e.regions=t,e.regionsLoading=!1}),(function(t){e.regionsError="Failed to get regions"}))},selectRegion:function(e){this.$store.dispatch(b["a"].SetRegion,e.shortName),this.changePage(3,2)},openDiscordAuth:function(){var e=this;this.$anime({targets:".page-indicator .indicator[bad]",translateY:[-3,0,0],rotate:["+135deg"],duration:2e3}),this.$anime({targets:".modal-inner",rotate:["0deg"]}),this.loginStatus=a.DISCORD_PROMPT,this.discordLoginError=null,setTimeout((function(){C["a"].performDiscordOAuth2Flow().then((function(t){return e.loginStatus=a.VERIFICATION,C["a"].redeemCode(t)})).then((function(t){e.loginStatus=a.DONE,e.$store.dispatch(b["a"].SetAuthToken,t)})).catch((function(t){console.error(t),e.loginStatus=a.ERROR,e.discordLoginError=t,i["a"].nextTick().then((function(){e.$anime({targets:".page-indicator .indicator[bad]",translateX:[-5,5,-2,2,-3,0],translateY:[0,3],rotate:["+240deg"],elasticity:500,duration:1e3}),e.$anime({targets:".modal-inner",rotate:["+2deg"],delay:200,elasticity:800})}))}))}),1e3)},logOut:function(){this.$store.dispatch(b["a"].ClearAuthToken),this.loginStatus=a.IDLE},finish:function(){var e=this;this.$anime({targets:".first-run",opacity:[1,0],duration:1e3,easing:"easeOutCubic"}).finished.then((function(){e.$store.dispatch(b["a"].SetFirstRunCompleted)}))}}}),S=R,P=(n("322f"),Object(g["a"])(S,o,c,!1,null,"55f0b20e",null)),k=P.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav"},[n("div",{staticClass:"mobile-hide"},[n("h1",[e._v("导航栏")]),n("ul",[n("router-link",{attrs:{to:"/",tag:"a",exact:""}},[n("li",[e._v("首页")])]),n("router-link",{attrs:{to:"/general",tag:"a"}},[n("li",[e._v("综合")])]),n("router-link",{attrs:{to:"/jobs",tag:"a"}},[n("li",{},[e._v("职业列表")])]),n("router-link",{attrs:{to:"/items",tag:"a"}},[n("li",{},[e._v("物品")])]),n("router-link",{attrs:{to:"/skills",tag:"a"}},[n("li",{},[e._v("技能")])])],1)]),n("div",{staticClass:"mobile-only"},[n("div",{staticClass:"menu-icon",attrs:{open:e.mobileOpenState},on:{click:e.toggleMenu}},[n("i",{staticClass:"fa fa-navicon"})]),e.mobileOpenState?n("div",{staticClass:"mobile"},[n("h1",[e._v("导航栏")]),n("ul",[n("router-link",{attrs:{to:"/",tag:"a",exact:""}},[n("li",[e._v("首页")])]),n("router-link",{attrs:{to:"/general",tag:"a"}},[n("li",[e._v("综合")])]),n("router-link",{attrs:{to:"/jobs",tag:"a"}},[n("li",{},[e._v("职业列表")])]),n("router-link",{attrs:{to:"/items",tag:"a"}},[n("li",{class:e.authed?"":"disabled"},[e._v("物品")])]),n("router-link",{attrs:{to:"/skills",tag:"a"}},[n("li",{staticClass:"disabled"},[e._v("技能")])])],1)]):e._e()])])},y=[],O=(n("96cf"),n("1da1")),D=n("ade3"),T=i["a"].extend({computed:{authed:function(){return this.$store.getters.authenticated},reduceSidebar:function(){return"true"===Object({NODE_ENV:"production",VUE_APP_ALLOW_UNAUTH:"false",VUE_APP_DEVLIN_APP_ID:"9d41832e-dad0-4c88-bbb3-7463cb746045",VUE_APP_DEV_URL:"http://localhost/dnwiki/api/",VUE_APP_OG_DESC:"Reference information for Dragon Nest",VUE_APP_PROD_URL:"https://dngamer.site/dnwiki/api/",VUE_APP_RES_OSS_URL:"https://dnbucket.oss-cn-shenzhen.aliyuncs.com/",VUE_APP_STATIC_REGION:"{}",VUE_APP_STATIC_REGION_SHORTCODE:"",VUE_APP_STATIC_REGION_VERSION_CFG_URL:"",VUE_APP_USE_STATIC_SERVER:"",BASE_URL:"/"}).VUE_APP_STATIC_REGION_REDUCE_SIDEBAR},pserverHome:function(){return Object({NODE_ENV:"production",VUE_APP_ALLOW_UNAUTH:"false",VUE_APP_DEVLIN_APP_ID:"9d41832e-dad0-4c88-bbb3-7463cb746045",VUE_APP_DEV_URL:"http://localhost/dnwiki/api/",VUE_APP_OG_DESC:"Reference information for Dragon Nest",VUE_APP_PROD_URL:"https://dngamer.site/dnwiki/api/",VUE_APP_RES_OSS_URL:"https://dnbucket.oss-cn-shenzhen.aliyuncs.com/",VUE_APP_STATIC_REGION:"{}",VUE_APP_STATIC_REGION_SHORTCODE:"",VUE_APP_STATIC_REGION_VERSION_CFG_URL:"",VUE_APP_USE_STATIC_SERVER:"",BASE_URL:"/"}).VUE_APP_STATIC_REGION_HOMEPAGE},pserverDiscord:function(){return Object({NODE_ENV:"production",VUE_APP_ALLOW_UNAUTH:"false",VUE_APP_DEVLIN_APP_ID:"9d41832e-dad0-4c88-bbb3-7463cb746045",VUE_APP_DEV_URL:"http://localhost/dnwiki/api/",VUE_APP_OG_DESC:"Reference information for Dragon Nest",VUE_APP_PROD_URL:"https://dngamer.site/dnwiki/api/",VUE_APP_RES_OSS_URL:"https://dnbucket.oss-cn-shenzhen.aliyuncs.com/",VUE_APP_STATIC_REGION:"{}",VUE_APP_STATIC_REGION_SHORTCODE:"",VUE_APP_STATIC_REGION_VERSION_CFG_URL:"",VUE_APP_USE_STATIC_SERVER:"",BASE_URL:"/"}).VUE_APP_STATIC_REGION_DISCORD}},data:function(){return{mobileOpenState:!1,pserverInfo:null}},watch:Object(D["a"])({},"$route",(function(){this.setMenuState(!1)})),mounted:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.next=4;break;case 3:e.pserverInfo=t.sent;case 4:case"end":return t.stop()}}),t)})))()},methods:{toggleMenu:function(){this.setMenuState(!this.mobileOpenState)},setMenuState:function(e){var t=this;this.mobileOpenState&&!e?this.$anime({targets:".mobile",opacity:["1.0","0.0"],duration:250,easing:"easeOutCubic"}).finished.then((function(){t.mobileOpenState=!1})):!this.mobileOpenState&&e&&(this.mobileOpenState=!0,i["a"].nextTick().then((function(){t.$anime({targets:".mobile",opacity:["0.0","1.0"],duration:250,easing:"easeInCubic"}),t.$anime({targets:".mobile ul",translateX:{value:["400","0"],duration:100,easing:"easeOutCubic",elasticity:500},opacity:{value:["0.0","1.0"],duration:250,easing:"easeOutCubic"},delay:150})})))}}}),A=T,I=(n("3dff"),Object(g["a"])(A,w,y,!1,null,"10e266fa",null)),x=I.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$route.query.embed?e._e():n("div",{staticClass:"site-auth-header"},[n("div",{staticClass:"logged-in"},[n("div",{staticClass:"left"},[n("p",[n("strong",[e._v(e._s(e.$store.getters.userInfo.username))])]),n("div",{staticClass:"log-out",on:{click:e.userLogOut}},[e._v(" 退出登录 ")])]),e.$store.getters.userInfo.avatar?n("img",{staticClass:"right discord-avatar",attrs:{src:e.$store.getters.userInfo.avatar,alt:"?"}}):e._e()])])},U=[],L=n("bfe8"),V=n("5f38"),$=i["a"].extend({data:function(){return{loginStatus:new L["a"]}},components:{},computed:{authenticated:function(){return this.$store.getters.authenticated},authInfo:function(){return this.$store.getters.authInfo},username:function(){var e=this.authInfo;return e&&e.profile&&e.profile.username||""},avatar:function(){var e=this.authInfo;if(!e||!e.profile)return null;var t=e.profile.avatar,n=e.profile.id;if(t){var a="png";return t.startsWith("a_")&&(a="gif"),"https://cdn.discordapp.com/avatars/".concat(n,"/").concat(t,".").concat(a,"?size=64")}return null}},methods:{promptLogin:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loginStatus.loading){t.next=2;break}return t.abrupt("return");case 2:return e.loginStatus.startLoad(),e.loginStatus.customStatus="Waiting for you to log in",t.prev=4,t.next=7,V["a"].performDevlinOAuth2Flow();case 7:n=t.sent,e.$store.dispatch(b["a"].SetAuthToken,n),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),e.loginStatus.failed(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()},userLogOut:function(){localStorage.removeItem("user_info"),window.location.href="https://dngamer.site/"},logOut:function(){this.$store.dispatch(b["a"].ClearAuthToken),this.loginStatus=new L["a"],this.$route.matched.some((function(e){return e.meta.auth}))&&this.$router.push({name:"auth",query:{path:this.$route.fullPath}})}}}),j=$,M=(n("ba20"),Object(g["a"])(j,N,U,!1,null,"06bf55e5",null)),B=M.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"locale-select"},[n("div",{staticClass:"selector",attrs:{noclick:!e.canChangeServer},on:{click:e.showSelector}},[n("i",{staticClass:"fa fa-globe"}),e._v(e._s(e.renderedName)+" "+e._s(e.renderedVersion)+" ")]),e.showSelect?n("div",{staticClass:"region-selector"},[n("div",{staticClass:"container"},[n("div",{staticClass:"top accent-box"}),n("div",{staticClass:"toast-body",attrs:{disable:e.disable}},[n("h1",[e._v("选择服务器")]),n("region-select",{attrs:{selection:e.selectedRegionCode,regions:e.regions.value},on:{select:e.selectRegion}}),n("div",{staticClass:"button-row"},[n("button",{staticClass:"cancel",on:{click:e.cancel}},[e._v("取消")])])],1),n("div",{staticClass:"bottom accent-box"})]),e.reloading?n("div",{staticClass:"reloading",attrs:{viz:e.reloading}},[n("div",{staticClass:"reload"},[n("div",{staticClass:"container"},[n("div",{staticClass:"sub"},[e._v("龙之谷游戏资料参考网站")]),n("div",{staticClass:"title"},[e._v("DNGamer")]),n("loader",{attrs:{loadText:"加载中",altText:"Please wait"}})],1)])]):e._e()]):e._e()])},G=[],H=n("40a3"),z=i["a"].extend({components:{RegionSelect:_,Loader:H["a"]},data:function(){return{showSelect:!1,regions:new L["a"],regionList:[],disable:!1,reloading:!1}},computed:{selectedRegionCode:function(){return this.$store.state.regionCode},selectedRegion:function(){var e=this,t=this.regionList.find((function(t){return t.shortName==e.selectedRegionCode}));return t||null},renderedName:function(){if(this.selectedRegion){var e=this.selectedRegion.displayNames[this.selectedRegion.defaultLocale],t=this.selectedRegion.displayNames.default;return e&&e!==t?"".concat(e," (").concat(t,")"):t}return"Unknown region"},renderedVersion:function(){return this.selectedRegion&&this.selectedRegion.id>0?"v".concat(this.selectedRegion.version||"???"):""},canChangeServer:function(){return this.regionList.length>1||this.selectedRegionCode===m["e"]}},mounted:function(){this.loadRegions()},methods:{showSelector:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.canChangeServer){t.next=2;break}return t.abrupt("return");case 2:return e.showSelect=!0,t.next=5,i["a"].nextTick();case 5:e.$anime({targets:".region-selector",opacity:{value:[0,1],elasticity:0},duration:2e3}),e.$anime({targets:".region-selector .container",translateY:[-200,"-50%"],translateX:["-50%","-50%"],elasticity:5,duration:1e3});case 7:case"end":return t.stop()}}),t)})))()},loadRegions:function(){var e=this;this.regions.startLoad(),m["a"].listRegions().then((function(t){e.regions.done(t),e.regionList=t}))},selectRegion:function(e){this.disable=!0,this.reloading=!0,this.$store.dispatch(b["a"].SetRegion,e.shortName);var t=this.$anime({targets:".region-selector .container",opacity:{value:[1,0],elasticity:0},translateY:[0,-10],translateX:["-50%","-50%"],duration:1e3});t.finished.then((function(){window.location.reload()}))},cancel:function(){var e=this;this.disable=!0;var t=this.$anime({targets:".region-selector",opacity:{value:[1,0],elasticity:0},translateY:[0,10],duration:1e3});t.finished.then((function(){e.showSelect=!1,e.disable=!1}))}}}),q=z,W=(n("b040"),Object(g["a"])(q,F,G,!1,null,"a8150558",null)),Y=W.exports,Z=n("bc3a"),J=n.n(Z),X=n("27c7"),Q=i["a"].extend({name:"app",components:{FirstRun:k,NavigationPane:x,SiteAuthHeader:B,RegionHeader:Y,Loader:H["a"]},data:function(){return{isLoading:!0,started:!1}},created:function(){var e=this,t=JSON.parse(localStorage.getItem("user_info")||"{}");console.log("localInfo: ",t),console.log("this.$route: ",this.$route),"/"===window.location.pathname&&(this.isLoading=!1);var n=Math.floor(Date.now()/1e3);t&&t.loginTime&&n-t.loginTime<604800?(X["a"].defaults.headers["Authorization"]=t.token,this.$store.dispatch(b["a"].SetUserInfo,t),this.isLoading=!1):J.a.get("https://dngamer.site/dnwiki/api/login.php",{withCredentials:!0}).then((function(t){if(200===t.data.code){console.log("登陆成功: ",t.data),e.isLoading=!1;var n=t.data;n.loginTime=Math.floor(Date.now()/1e3),e.$store.dispatch(b["a"].SetUserInfo,n),localStorage.setItem("user_info",JSON.stringify(n)),X["a"].defaults.headers["Authorization"]=n.token}else 403===t.data.code||(console.log("未登录：",t.data),window.location.href="https://dngamer.site/login")})).catch((function(e){window.location.href="https://dngamer.site/login"}))},computed:{embedded:function(){return!!this.$route.query.embed},showFirstRun:function(){return!this.embedded&&this.$store.getters.showFirstRun&&!this.isRedeemingCode},isRedeemingCode:function(){return this.$route.matched.some((function(e){return e.meta.redemption}))},showRouteLoader:function(){return this.$store.state.pageLoading},hideAuth:function(){return this.$route.meta.redemption},useInstanceText:function(){return""}},mounted:function(){var e=document.getElementById("startup-shade");e&&window.setTimeout((function(){e.classList.add("hidden")}),500),this.started=!0},methods:{}}),K=Q,ee=(n("7c55"),Object(g["a"])(K,s,r,!1,null,null,null)),te=ee.exports,ne=(n("d3b7"),n("8c4f")),ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("h1",[e._v("欢迎")]),n("p",[e._v(" 此站是有关《龙之谷》各方面的资料信息参考网站。目前仅开放查看职业信息、技能信息和物品信息。网站可能会有各种各样的bug，当你有任何问题或者任何改进的意见，请联系DN聚集地的运营方 @云玩家森美 或到服务台发帖留言。此游戏参考网站 DN聚集地 享有最终解释权。 ")]),n("p",[e._v(" 左边是导航栏分类信息。（其他资料将会缓慢开发中） "),e.staticServer?e._e():[e._v(" 你可以在页面右上角切换服务器查看国服和台服客户端数据。 ")]],2),e._m(0),e._m(1),e._m(2),n("h2",[e._v("游戏服务器信息")]),e.regionInfo.loading?n("div",{staticClass:"loading"},[n("loader",{attrs:{loadText:"服务器信息"}})],1):e._e(),e.regionInfo.error?n("div",{staticClass:"warn toast"},[n("div",{staticClass:"content"},[n("div",{staticClass:"heading"},[e._v(" 错误 ")]),n("p",[e._v(e._s(e.regionInfo.error))])])]):e._e(),e.regionInfo.value?n("div",{staticClass:"tag-table"},[n("div",{staticClass:"row"},[n("div",{staticClass:"rowhead"},[e._v("服务器")]),n("div",{staticClass:"data"},[e._v(e._s(e.regionInfo.value.displayNames.default))])]),n("div",{staticClass:"row"},[n("div",{staticClass:"rowhead"},[e._v("版本号")]),n("div",{staticClass:"data"},[e._v(e._s(e.regionInfo.value.version))])]),n("div",{staticClass:"row"},[n("div",{staticClass:"rowhead"},[e._v("补丁日期")]),n("div",{staticClass:"data"},[e._v(e._s(e.regionInfo.value.patchedTime))])])]):e._e()])},ie=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" 返回 "),n("a",{attrs:{href:"https://dngamer.site",target:"_blank"}},[e._v("DN聚集地主页")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" 前往 "),n("a",{attrs:{href:"https://dngamer.site/forums/helpdesk/",target:"_blank"}},[e._v("DN聚集地服务台")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v(" 私信 "),n("a",{attrs:{href:"https://dngamer.site/conversations/add?to=%E4%BA%91%E7%8E%A9%E5%AE%B6%E6%A3%AE%E7%BE%8E",target:"_blank"}},[e._v("DN聚集地运营方")])])}],se=n("3bbf"),re=i["a"].extend({components:{Loader:H["a"],UiString:se["a"]},data:function(){return{regionInfo:new L["a"]}},created:function(){this.fetchData()},computed:{pserverHome:function(){return Object({NODE_ENV:"production",VUE_APP_ALLOW_UNAUTH:"false",VUE_APP_DEVLIN_APP_ID:"9d41832e-dad0-4c88-bbb3-7463cb746045",VUE_APP_DEV_URL:"http://localhost/dnwiki/api/",VUE_APP_OG_DESC:"Reference information for Dragon Nest",VUE_APP_PROD_URL:"https://dngamer.site/dnwiki/api/",VUE_APP_RES_OSS_URL:"https://dnbucket.oss-cn-shenzhen.aliyuncs.com/",VUE_APP_STATIC_REGION:"{}",VUE_APP_STATIC_REGION_SHORTCODE:"",VUE_APP_STATIC_REGION_VERSION_CFG_URL:"",VUE_APP_USE_STATIC_SERVER:"",BASE_URL:"/"}).VUE_APP_STATIC_REGION_HOMEPAGE},pserverDiscord:function(){return Object({NODE_ENV:"production",VUE_APP_ALLOW_UNAUTH:"false",VUE_APP_DEVLIN_APP_ID:"9d41832e-dad0-4c88-bbb3-7463cb746045",VUE_APP_DEV_URL:"http://localhost/dnwiki/api/",VUE_APP_OG_DESC:"Reference information for Dragon Nest",VUE_APP_PROD_URL:"https://dngamer.site/dnwiki/api/",VUE_APP_RES_OSS_URL:"https://dnbucket.oss-cn-shenzhen.aliyuncs.com/",VUE_APP_STATIC_REGION:"{}",VUE_APP_STATIC_REGION_SHORTCODE:"",VUE_APP_STATIC_REGION_VERSION_CFG_URL:"",VUE_APP_USE_STATIC_SERVER:"",BASE_URL:"/"}).VUE_APP_STATIC_REGION_DISCORD},pserverDonate:function(){return Object({NODE_ENV:"production",VUE_APP_ALLOW_UNAUTH:"false",VUE_APP_DEVLIN_APP_ID:"9d41832e-dad0-4c88-bbb3-7463cb746045",VUE_APP_DEV_URL:"http://localhost/dnwiki/api/",VUE_APP_OG_DESC:"Reference information for Dragon Nest",VUE_APP_PROD_URL:"https://dngamer.site/dnwiki/api/",VUE_APP_RES_OSS_URL:"https://dnbucket.oss-cn-shenzhen.aliyuncs.com/",VUE_APP_STATIC_REGION:"{}",VUE_APP_STATIC_REGION_SHORTCODE:"",VUE_APP_STATIC_REGION_VERSION_CFG_URL:"",VUE_APP_USE_STATIC_SERVER:"",BASE_URL:"/"}).VUE_APP_STATIC_REGION_DONATE},pserverName:function(){return this.regionInfo.value&&this.regionInfo.value.displayNames.default||""},staticServer:function(){return""}},methods:{fetchData:function(){var e=this;this.regionInfo.startLoad(),m["a"].getRegionByShortName(this.$store.state.regionCode).then((function(t){e.regionInfo.done(t)})).catch((function(t){e.regionInfo.error(t)}))}}}),oe=re,ce=(n("746a"),Object(g["a"])(oe,ae,ie,!1,null,"0a1c7c90",null)),le=ce.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"blank-view"},[n("router-view")],1)},de=[],he=i["a"].extend({}),me=he,fe=(n("c050"),Object(g["a"])(me,ue,de,!1,null,"cd026710",null)),pe=fe.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"general"},[n("h1",{staticClass:"divided"},[e._v("综合")]),n("div",{staticClass:"options-grid"},[n("router-link",{staticClass:"option",attrs:{to:"/general/stat/"}},[n("h2",{staticClass:"heading"},[e._v(" 属性转换器 "),n("div",{staticClass:"icon fa fa-hashtag"})])])],1)])},ve=[],_e=i["a"].extend({}),be=_e,Ce=(n("86ed"),Object(g["a"])(be,ge,ve,!1,null,"0432ea82",null)),Ee=Ce.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"stats"},[n("h1",{staticClass:"divided"},[e._v("属性转换器")]),n("go-back"),n("h2",[e._v("最终伤害")]),n("stat-calc-card",{attrs:{stat:"finalDamage"}}),n("h2",[e._v("致命一击")]),n("stat-calc-card",{attrs:{stat:"critical"}}),e.hideCritDamage?e._e():[n("h2",[e._v("致命一击伤害")]),n("stat-calc-card",{attrs:{stat:"criticalDamage"}})],n("h2",[e._v("防御")]),n("stat-calc-card",{attrs:{stat:"defense"}})],2)},Se=[],Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"go-back",on:{click:e.goBack}},[n("i",{staticClass:"fa fa-angle-double-left"}),e._v(" 返回 ")])},ke=[],we=i["a"].extend({methods:{goBack:function(){this.$router.back()}}}),ye=we,Oe=(n("a302"),Object(g["a"])(ye,Pe,ke,!1,null,"a75518fc",null)),De=Oe.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"stat-small"},[n("div",{staticClass:"data-entry"},[n("div",{staticClass:"level"},[n("label",{attrs:{for:"level"}},[e._v("Lv")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.level,expression:"level"}],attrs:{type:"number"},domProps:{value:e.level},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.unfocus(t)},input:function(t){t.target.composing||(e.level=t.target.value)}}})]),n("div",{staticClass:"container"},[n("div",{staticClass:"left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputType,expression:"inputType"}],attrs:{type:"radio",id:"stat",value:"STAT"},domProps:{checked:e._q(e.inputType,"STAT")},on:{change:function(t){e.inputType="STAT"}}}),n("label",{attrs:{for:"stat",value:"STAT"}},[n("div",{staticClass:"tag"},[e._v("输入值")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"STAT",attrs:{type:"number"},domProps:{value:e.value},on:{click:e.select,focus:e.select,blur:e.capValue,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.unfocus(t)},input:function(t){t.target.composing||(e.value=t.target.value)}}})]),n("div",{staticClass:"cap"},[e._v(e._s(e._f("thousands")(e.limits.maxStat)))])]),n("div",{staticClass:"center"},["STAT"==e.inputType?n("div",{staticClass:"indicator stat"},[n("span",{attrs:{value:"PERCENT"},on:{click:e.select}},[n("i",{staticClass:"fa fa-angle-left left"})]),e._v(" • "),n("span",{attrs:{value:"STAT"},on:{click:e.select}},[n("i",{staticClass:"fa fa-angle-right right"})])]):n("div",{staticClass:"indicator percent",attrs:{value:"PERCENT"}},[n("span",{attrs:{value:"PERCENT"},on:{click:e.select}},[n("i",{staticClass:"fa fa-angle-left left"})]),e._v(" • "),n("span",{attrs:{value:"STAT"},on:{click:e.select}},[n("i",{staticClass:"fa fa-angle-right right"})])])]),n("div",{staticClass:"right"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputType,expression:"inputType"}],attrs:{type:"radio",id:"percent",value:"PERCENT"},domProps:{checked:e._q(e.inputType,"PERCENT")},on:{change:function(t){e.inputType="PERCENT"}}}),n("label",{attrs:{for:"percent",value:"PERCENT"}},[n("div",{staticClass:"tag"},[e._v("百分比")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.percent,expression:"percent"}],ref:"PERCENT",attrs:{type:"number"},domProps:{value:e.percent},on:{click:e.select,focus:e.select,blur:e.capPercent,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.unfocus(t)},input:function(t){t.target.composing||(e.percent=t.target.value)}}})]),n("div",{staticClass:"cap percent"},[e._v(e._s(e.limits.maxPercent))])])])])])},Ae=[],Ie=n("d4ec"),xe=n("bee2"),Ne=n("ae36"),Ue=n("3a0b"),Le=n("b908"),Ve={defense:.85,critical:.9,finalDamage:(Object(Le["getFeatureState"])(Le["netFeatures"].FdOverCap),1.2),criticalDamage:1},$e=function(){function e(){Object(Ie["a"])(this,e),this._cache={},this._requestCache=new Ne["a"]}return Object(xe["a"])(e,[{key:"getStatCap",value:function(e,t,n){return this.calculateValue(e,t,Ve[t],n)}},{key:"calculatePercent",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t,n,a,i){var s,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Object(Le["getFeatureState"])(Le["netFeatures"].Use40Cap)||"finalDamage"!==n){e.next=4;break}return e.next=3,this.calculateExpLinearFdPercent(t,a,i);case 3:return e.abrupt("return",e.sent);case 4:return i=this._ensureRegion(i),e.next=7,this._getStatCaps(t,i);case 7:return s=e.sent,r=s[n],o=Ve[n],c=Math.max(0,Math.min(o,a/r)),e.abrupt("return",{capped:c==o,percent:c,value:a});case 12:case"end":return e.stop()}}),e,this)})));function t(t,n,a,i){return e.apply(this,arguments)}return t}()},{key:"calculateExpLinearFdPercent",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,s,r,o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this._ensureRegion(a),e.next=3,this._getStatCaps(t,a);case 3:return i=e.sent,s=i["finalDamage"],r=Ve["finalDamage"],o=n/s*.35,c=Math.pow(n/s,2.2),l=Math.min(r,Math.max(c,o,0)),e.abrupt("return",{capped:l==r,percent:l,value:n});case 10:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"calculateValue",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t,n,a,i){var s,r,o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Object(Le["getFeatureState"])(Le["netFeatures"].Use40Cap)||"finalDamage"!==n){e.next=4;break}return e.next=3,this.calculateExpLinearValue(t,a,i);case 3:return e.abrupt("return",e.sent);case 4:return i=this._ensureRegion(i),e.next=7,this._getStatCaps(t,i);case 7:return s=e.sent,r=s[n],o=Ve[n],c=Math.max(0,Math.min(o,a)),l=r*c,e.abrupt("return",{capped:a==o,percent:a,value:l});case 13:case"end":return e.stop()}}),e,this)})));function t(t,n,a,i){return e.apply(this,arguments)}return t}()},{key:"calculateExpLinearValue",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,s,r,o,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this._ensureRegion(a),e.next=3,this._getStatCaps(t,a);case 3:return i=e.sent,s=i["finalDamage"],r=Ve["finalDamage"],o=Math.max(0,Math.min(r,n)),c=o/.35,l=Math.pow(o,1/2.2),u=Math.min(c,l)*s,e.abrupt("return",{capped:o==r,percent:o,value:u});case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"_getStatCaps",value:function(e,t){var n=this,a=this._cacheKey(e,t),i=this._cache[a];return i?Promise.resolve(i):this._requestCache.tryCache(a,Object(O["a"])(regeneratorRuntime.mark((function i(){var s,r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,X["a"].get("playerlevel.php?lan=".concat(t,"&id=").concat(e));case 2:return s=i.sent,r=s.data,o={level:r.id,defense:r._Cdefense,critical:r._Ccritical,finalDamage:r._Cfinaldamage,criticalDamage:r._CcriticalDamage},n._cache[a]=o,i.abrupt("return",o);case 7:case"end":return i.stop()}}),i)}))))}},{key:"_ensureRegion",value:function(e){return e||Ue["a"].state.regionCode}},{key:"_cacheKey",value:function(e,t){return"".concat(e,":").concat(t)}}]),e}(),je=new $e;function Me(){return Object(Le["getFeatureState"])(Le["netFeatures"].Use40Cap)?40:Object(Le["getFeatureState"])(Le["netFeatures"].Use70Cap)?70:95}var Be=i["a"].extend({props:{stat:{type:String}},data:function(){return{level:Me(),value:0,percent:0,limits:{minPercent:0,maxPercent:100,minStat:0,maxStat:99999},inputType:"STAT"}},watch:{level:function(){var e=this;this.loadStatCap().then((function(){e.calculate()}))},percent:function(){"PERCENT"==this.inputType&&this.calculate()},value:function(){"STAT"==this.inputType&&this.calculate()}},computed:{isCritDmg:function(){return"criticalDamage"===this.stat}},created:function(){this.loadStatCap()},methods:{loadStatCap:function(){var e=this;return isNaN(this.level)||this.level<=0||this.level>100?(this.limits.maxStat=0,Promise.resolve()):je.getStatCap(this.level,this.stat).then((function(t){isNaN(e.level)||e.level<=0||e.level>100?e.limits.maxStat=0:(e.limits.maxPercent=100*t.percent,e.limits.maxStat=Math.round(t.value),e.limits.minPercent=0,e.isCritDmg&&(e.limits.maxPercent+=200,e.limits.minPercent+=2),e.percent=100*e.getTruncatedPercent())}))},unfocus:function(e){e.target.blur()},select:function(e){null!=e.target&&e.target instanceof Element&&null!=e.target.parentNode&&(this.inputType=e.target.parentNode.attributes["value"].value,this.$refs[this.inputType].focus())},capValue:function(e){return this.value=Number(this.value),this.value>9999999?(this.value=9999999,!1):this.value<this.limits.minStat?(this.value=this.limits.minStat,!1):void 0},capPercent:function(e){return this.percent=Number(this.percent),this.percent>this.limits.maxPercent?(this.percent=this.limits.maxPercent,!1):this.percent<this.limits.minPercent?(this.percent=this.limits.minPercent,!1):void 0},getTruncatedValue:function(){return Math.min(this.limits.maxStat,Math.max(this.limits.minStat,this.value))},getTruncatedPercent:function(){return Math.min(this.limits.maxPercent,Math.max(this.limits.minPercent,this.percent/100))},calculate:function(){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function t(){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("STAT"!=e.inputType){t.next=9;break}return t.next=3,je.calculatePercent(e.level,e.stat,e.getTruncatedValue());case 3:n=t.sent,a=Math.floor(100*n.percent),e.isCritDmg&&(a+=200),e.percent=a,t.next=15;break;case 9:return i=e.getTruncatedPercent(),e.isCritDmg&&(i-=2),t.next=13,je.calculateValue(e.level,e.stat,i);case 13:s=t.sent,e.value=Math.floor(s.value);case 15:case"end":return t.stop()}}),t)})))()}}}),Fe=Be,Ge=(n("4267"),Object(g["a"])(Fe,Te,Ae,!1,null,"70518832",null)),He=Ge.exports,ze=i["a"].extend({components:{GoBack:De,UiString:se["a"],StatCalcCard:He},data:function(){return{stat:"",value:0}},computed:{hideCritDamage:function(){return Object(Le["getFeatureState"])(Le["netFeatures"].Use40Cap)}},created:function(){}}),qe=ze,We=(n("1fc5"),Object(g["a"])(qe,Re,Se,!1,null,"8307eff6",null)),Ye=We.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"httperror"},[n("h1",[e._v("Error")]),e._m(0),n("p",[e._v(" 抱歉，暂时不能找到页面。你可以 "),n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.goBack(t)}}},[e._v("返回")]),e._v(" 或 "),n("router-link",{attrs:{to:"/"}},[e._v("返回首页.")])],1)])},Je=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"warn toast"},[n("div",{staticClass:"content"},[n("div",{staticClass:"heading"},[e._v("404 Page Not Found")]),e._v(" 你请求的页面不存在. ")])])}],Xe=i["a"].extend({methods:{goBack:function(){this.$router.go(-1)}}}),Qe=Xe,Ke=(n("6c50"),Object(g["a"])(Qe,Ze,Je,!1,null,"6400a0e8",null)),et=Ke.exports,tt=function(){return n.e("auth").then(n.bind(null,"2fef"))},nt=function(){return n.e("auth").then(n.bind(null,"772a"))},at=function(){return n.e("auth").then(n.bind(null,"1128"))},it=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("jobs")]).then(n.bind(null,"ee68"))},st=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("jobs")]).then(n.bind(null,"d3e5"))},rt=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("items~old-items"),n.e("old-items")]).then(n.bind(null,"5854"))},ot=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("items~old-items"),n.e("old-items")]).then(n.bind(null,"d8a4"))},ct=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("items~old-items"),n.e("old-items")]).then(n.bind(null,"9204"))},lt=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("items~old-items"),n.e("old-items")]).then(n.bind(null,"2fa6"))},ut=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("items~old-items"),n.e("old-items")]).then(n.bind(null,"0d79"))},dt=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("items~old-items"),n.e("old-items")]).then(n.bind(null,"066e"))},ht=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("items~old-items"),n.e("old-items")]).then(n.bind(null,"a81c"))},mt=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("items~old-items"),n.e("old-items")]).then(n.bind(null,"4ef2"))},ft=function(){return Promise.all([n.e("items~old-items"),n.e("items")]).then(n.bind(null,"65cc"))},pt=function(){return n.e("maps").then(n.bind(null,"daba"))},gt=function(){return n.e("maps").then(n.bind(null,"556a"))},vt=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("monsters~skills"),n.e("monsters")]).then(n.bind(null,"b78a"))},_t=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("monsters~skills"),n.e("monsters")]).then(n.bind(null,"146d"))},bt=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("monsters~skills"),n.e("skills")]).then(n.bind(null,"ad83"))},Ct=function(){return Promise.all([n.e("jobs~monsters~old-items~skills"),n.e("monsters~skills"),n.e("skills")]).then(n.bind(null,"42db"))},Et=function(){return n.e("text").then(n.bind(null,"5a8e"))},Rt=function(){return n.e("text").then(n.bind(null,"0800"))},St=function(){return n.e("text").then(n.bind(null,"abf4"))},Pt=function(){return n.e("resources").then(n.bind(null,"153d"))},kt=function(){return n.e("resources").then(n.bind(null,"ab41"))};i["a"].use(ne["a"]);var wt=new ne["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:le},{path:"/auth",component:tt,children:[{path:"discord",component:nt,meta:{redemption:!0}},{path:"redirect",component:at,name:"auth",meta:{redemption:!0}}]},{path:"/general",component:pe,children:[{path:"",component:Ee},{path:"stat",component:Ye}]},{path:"/jobs",component:pe,meta:{auth:!1},children:[{path:"",name:"jobs",component:it},{path:":jobId",name:"job-view",component:st,props:!0}]},{path:"/items",component:rt,meta:{auth:!1},children:[{path:"",name:"item-home",component:lt},{path:"search",name:"item-search",component:ct},{path:":itemId",name:"item-view",component:ot},{path:"toolkit",component:ut,children:[{path:"index",name:"item-toolkit",component:dt},{path:"dropgroup/:id?",name:"item-drop-group",component:mt},{path:"drop/:id?",name:"item-drop",component:ht},{path:"itemshop/:id?",name:"item-shop",component:ft}]}]},{path:"/maps",component:pe,children:[{path:"",name:"maps",component:pt},{path:":id",name:"map-view",props:!0,component:gt}]},{path:"/monsters",component:pe,children:[{path:"",name:"monsters",component:vt},{path:":monsterSlug",name:"monster-view",props:!0,component:_t}]},{path:"/skills",component:pe,meta:{auth:!1},children:[{path:"",name:"skills",component:bt},{path:":skillSlug",name:"skill-view",props:!0,component:Ct}]},{path:"/text",component:pe,meta:{auth:!0},children:[{path:"",redirect:"uistring"},{path:"uistring",component:Et,children:[{path:"",redirect:"browse"},{path:"browse",component:Rt,name:"uistring-browse"},{path:"midlup",name:"uistring-midlup",component:St},{path:"*",component:et}]}]},{path:"/resources",component:pe,children:[{path:"",name:"resources",component:Pt},{path:"downloadgame",name:"resources-game-client",component:kt}]},{path:"*",component:et}]}),yt=n("1b9a"),Ot=n("01e8"),Dt=n.n(Ot),Tt=n("85ee"),At=n("2ead"),It=n.n(At);i["a"].config.productionTip=!1,i["a"].use(Dt.a),i["a"].use(yt),i["a"].use(Le),i["a"].use(It.a),new i["a"]({router:wt,store:Ue["a"],render:function(e){return e(te)},data:function(){return{}},created:function(){this.$store.dispatch(b["a"].Init),Le["init"](),this.configureApiRoute(this.$route),this.redirectDirectLinkIfUnauthenticatedNotEmbedded(),this.configureRouterNavigation(),this.applyAuthFilter(),this.applyRegionOverride()},methods:{configureApiRoute:function(e){var t=window.localStorage.getItem(Tt["a"]);if(t||e.query[Tt["a"]]){var n=e.query[Tt["a"]]||t||Tt["b"];"local"===n&&(n="http://localhost:8081/api",this.$store.dispatch(b["a"].SetRegion,"local")),n.startsWith("/")||n.startsWith("http")||(n="/"+n),X["a"].defaults.baseURL=n,n!==Tt["b"]?window.localStorage.setItem(Tt["a"],n):window.localStorage.removeItem(Tt["a"])}else X["a"].defaults.baseURL="https://dngamer.site/dnwiki/api/",X["a"].defaults.resourceURL="https://dngamer.site/dnwiki/api/"},isEmbedded:function(e){return e?!!e.query.embed:!!this.$route.query.embed},isAuthenticated:function(){return"localhost"===window.location.hostname||this.$store.getters.authenticated},redirectDirectLinkIfUnauthenticatedNotEmbedded:function(){this.isEmbedded()||!this.$route.matched.some((function(e){return e.meta.auth}))||this.$fOn(this.$f.RequireLogin)||this.isAuthenticated()||this.$router.push({name:"auth",query:{path:this.$route.fullPath}})},applyRegionOverride:function(e,t){var n=e||this.$route;if(Tt["d"]in n.query){var a=n.query[Tt["d"]];this.$store.dispatch(b["a"].SetRegionSoft,a);var i={};Object.assign(i,n.query),delete i[Tt["d"]],t?t(i):this.$router.replace({path:this.$route.path,query:i,params:this.$route.params})}},configureRouterNavigation:function(){var e=this;this.$router.beforeResolve((function(t,n,a){return e.beforeResolve(t,n,a)})),this.$router.beforeEach((function(t,n,a){return e.beforeEach(t,n,a)})),this.$router.afterEach((function(t,n){return e.afterEach(t,n)}))},applyAuthFilter:function(){var e=this;X["a"].interceptors.request.use((function(t){var n=Object.assign({},t);return e.isAuthenticated()&&(n.headers.Authorization=e.$store.getters.authToken),n}))},beforeResolve:function(e,t,n){var a=this.isAuthenticated(),i=e.matched.some((function(e){return e.meta.auth})),s=this.isEmbedded(e)||this.isEmbedded(t);if(s&&"/"!=t.fullPath){var r=e.params[Tt["c"].ItemId],o=t.params[Tt["c"].ItemId],c=!0;if(null!=r&&null!=o){var l=r.split("-",2),u=o.split("-",2);l[0]===u[0]&&(c=!1)}if(c)return window.open(window.location.origin+"/"+e.fullPath,"_blank"),void n(!1)}if(!i||a||s||this.$fOn(this.$f.RequireLogin)){var d=e.name?e.name:"unknown",h=t.name?t.name:"unknown";d!=h&&window.appInsights.trackPageView(d);var m=!1;this.applyRegionOverride(e,(function(t){n({path:e.path,query:t,params:e.params}),m=!0})),m||(this.configureApiRoute(e),n())}else n({name:"auth",query:{path:e.fullPath}})},beforeEach:function(e,t,n){this.$store.dispatch(b["a"].StartPageLoad),n()},afterEach:function(e,t){this.$store.dispatch(b["a"].FinishPageLoad)}}}).$mount("#app")},d163:function(e,t,n){},d92c:function(e,t,n){},db1b:function(e,t,n){},dcfe:function(e,t,n){"use strict";n("61d1")},e60d:function(e,t,n){},edcd:function(e,t,n){},f4d9:function(e,t,n){}});
//# sourceMappingURL=index.bffbda81.js.map