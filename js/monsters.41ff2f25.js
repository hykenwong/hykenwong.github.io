(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["monsters"],{"146d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade-fast",mode:"out-in"}},[s("div",{staticClass:"monster-view"},[t.loading?s("div",{staticClass:"loading"},[s("loader",{attrs:{"load-text":"Loading monster "+this.monsterId}})],1):t._e(),t.error?s("div",{staticClass:"error"},[t._v(" "+t._s(t.error)+" ")]):t._e(),t.monster?[s("div",{staticClass:"header"},[s("div",{staticClass:"title"},[s("div",{staticClass:"remark"},[s("span",{staticClass:"iid"},[t._v("#"+t._s(t.monster.id))])]),s("h2",{staticClass:"head"},[s("ui-string",{attrs:{messageData:t.monster.name}})],1),s("div",{staticClass:"remark"},[s("span",{staticClass:"level"},[t._v(t._s(t.monster.level)+" ")])])])]),s("div",{staticClass:"info toast"},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fa fa-exclamation-triangle"})]),s("div",{staticClass:"content"},[s("div",{staticClass:"heading"},[t._v(" Beware the imposter ")]),s("p",[t._v(" Please make sure you're viewing the correct monster, as many monsters have duplicates. Verify the monster by performing a sanity check on the stats and by inspecting the Actor Info below (pay attention to the file names). ")])])]),s("div",{staticClass:"section"},[s("div",{staticClass:"title"},[t._v("Stats")]),t._v(" Please note that difficulty IDs are arbitrary and don't necessarily go in order of difficulty. "),s("div",{staticClass:"stats"},[s("table",[s("thead",[s("th",[t._v("RowID")]),s("th",[t._v("Diff")]),s("th",[t._v("HP")]),s("th",[t._v("PDMG")]),s("th",[t._v("MDMG")]),s("th",[t._v("PDEF")]),s("th",[t._v("MDEF")]),s("th",[t._v("Crit")]),s("th",[t._v("Crit Res")]),s("th",[t._v("Ele%")]),s("th",[t._v("Fire Def")]),s("th",[t._v("Ice Def")]),s("th",[t._v("Light Def")]),s("th",[t._v("Dark Def")]),s("th",[t._v("AI Script")])]),s("tbody",t._l(t.sortedDifficulties,(function(e){return s("tr",{key:e.id},[s("th",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.difficulty))]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.hp*e.statWeights.hp)))]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.pdmg.min*e.statWeights.pdmg.min))+" - "+t._s(t._f("stat")(t.monster.baseStats.pdmg.max*e.statWeights.pdmg.max)))]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.mdmg.min*e.statWeights.mdmg.min))+" - "+t._s(t._f("stat")(t.monster.baseStats.mdmg.max*e.statWeights.mdmg.max)))]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.pdef*e.statWeights.pdef)))]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.mdef*e.statWeights.mdef)))]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.crit*e.statWeights.crit)))]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.critResist*e.statWeights.critResist)))]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.eleAtk*e.statWeights.eleAtk*100))+"%")]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.fireDef*e.statWeights.fireDef*100))+"%")]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.iceDef*e.statWeights.iceDef*100))+"%")]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.lightDef*e.statWeights.lightDef*100))+"%")]),s("td",[t._v(t._s(t._f("stat")(t.monster.baseStats.darkDef*e.statWeights.darkDef*100))+"%")]),s("td",{staticClass:"left"},[s("a",{attrs:{href:t.baseApiUrl+"/files/"+e.aiScript,target:"_blank"}},[t._v(t._s(e.aiScript))])])])})),0)])]),s("div",{staticClass:"section"},[s("div",{staticClass:"title"},[t._v("Actor Info")]),s("table",[s("thead",[s("th",{staticClass:"first smaller"},[t._v("Resource")]),s("th",[t._v("File")])]),s("tr",[s("th",[t._v("Skin")]),s("td",{staticClass:"left"},[s("a",{attrs:{href:t.baseApiUrl+"/files/"+t.monster.actor.skn.name,target:"_blank"}},[t._v(t._s(t.monster.actor.skn.name))]),s("span",{staticClass:"fid"},[t._v(t._s(t.monster.actor.skn.id))])])]),s("tr",[s("th",[t._v("Action")]),s("td",{staticClass:"left"},[s("a",{attrs:{href:t.baseApiUrl+"/files/"+t.monster.actor.act.name,target:"_blank"}},[t._v(t._s(t.monster.actor.act.name))]),s("span",{staticClass:"fid"},[t._v(t._s(t.monster.actor.act.id))])])]),s("tr",[s("th",[t._v("Animation")]),s("td",{staticClass:"left"},[s("a",{attrs:{href:t.baseApiUrl+"/files/"+t.monster.actor.ani.name,target:"_blank"}},[t._v(t._s(t.monster.actor.ani.name))]),s("span",{staticClass:"fid"},[t._v(t._s(t.monster.actor.ani.id))])])]),s("tr",[s("th",[t._v("Camera")]),s("td",{staticClass:"left"},[s("a",{attrs:{href:t.baseApiUrl+"/files/"+t.monster.actor.cam.name,target:"_blank"}},[t._v(t._s(t.monster.actor.cam.name))]),s("span",{staticClass:"fid"},[t._v(t._s(t.monster.actor.cam.id))])])])])])]),s("div",{staticClass:"section"},[s("div",{staticClass:"title"},[t._v("Skills")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.skillFilter,expression:"skillFilter"}],attrs:{type:"text",placeholder:"Search ID..."},domProps:{value:t.skillFilter},on:{input:function(e){e.target.composing||(t.skillFilter=e.target.value)}}}),s("responsive-card-list",{attrs:{count:t.skillList.length}},t._l(t.skillList,(function(t,e){return s("responsive-card-list-entry",{key:e},[s("skill-stub-link",{attrs:{skillId:t.id,fill:!0,level:t.level}})],1)})),1)],1),s("div",{staticClass:"section"},[s("div",{staticClass:"title"},[t._v("Immunities")]),s("table",[s("thead",[s("th",{staticClass:"first smaller"},[t._v("State Effect")]),s("th",[t._v("Immunity Rate")])]),t._l(t.immunities,(function(e,a){return s("tr",{key:a},[s("th",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.immuneRateInt)+"%")])])}))],2)])]:t._e()],2)])},r=[],n=(s("99af"),s("4de4"),s("d81d"),s("b0c0"),s("a9e3"),s("96cf"),s("1da1")),i=s("5530"),o=s("2b0e"),c=s("40a3"),l=s("3bbf"),u=s("53d4"),d=s("b461"),m=s("db4b"),f=s("d4ec"),v=s("bee2"),h=s("ae36"),_=s("27c7"),p=s("3a0b"),b=function(){function t(){Object(f["a"])(this,t),this._monsterCache={},this._requestCache=new h["a"]}return Object(v["a"])(t,[{key:"getMonster",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,s){var a,r,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=this._ensureRegion(s),a=this._cacheKey(e,s),r=this._monsterCache[a],!r){t.next=5;break}return t.abrupt("return",r);case 5:return t.abrupt("return",this._requestCache.tryCache(a,Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_["a"].get("server/".concat(s,"/monsters/").concat(e),{params:{}});case 2:return r=t.sent,n=r.data,i._monsterCache[a]=n,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))));case 6:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}()},{key:"getMonsterSkills",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,s){var a,r,n,i,o,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=this._ensureRegion(s),t.next=3,_["a"].get("server/".concat(s,"/tables/virt.monsterskilltable/").concat(e));case 3:for(a=t.sent,r=a.data,n=[],i=1;i<120;++i)o="_SkillIndex".concat(i),c="_SkillLevel".concat(i),l=r[o],u=r[c],l&&l>0&&u&&u>0&&n.push({id:l,level:u});return t.abrupt("return",n);case 8:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}()},{key:"_ensureRegion",value:function(t){return t||p["a"].state.regionCode}},{key:"_cacheKey",value:function(t,e){return"".concat(e,":").concat(t)}}]),t}(),g=new b,k=s("45ac"),C=o["a"].extend({components:{Loader:c["a"],UiString:l["a"],ResponsiveCardList:u["a"],ResponsiveCardListEntry:d["a"],SkillStubLink:m["a"]},props:{monsterSlug:{type:String}},data:function(){return{loading:!1,error:"",monster:null,skills:[],skillFilter:""}},filters:{stat:function(t){var e=Number(t);return isNaN(e)?t:e.toLocaleString(void 0,{useGrouping:!0,maximumFractionDigits:0})}},computed:{monsterId:function(){if(this.monsterSlug){var t=Number(this.monsterSlug);return isNaN(t)?-1:t}return-1},sortedDifficulties:function(){return this.monster?this.monster.difficulties.sort((function(t,e){return t.difficulty-e.difficulty})):[]},baseApiUrl:function(){var t=this.$store.state.regionCode;return"/api/server/".concat(t)},skillList:function(){if(!this.skills)return[];if(this.skillFilter){var t=Number(this.skillFilter);if(!isNaN(t))return this.skills.filter((function(e){return e.id===t}))}return this.skills},immunities:function(){return this.monster?this.monster.immunities.sort((function(t,e){return t.stateEffectId-e.stateEffectId})).map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{name:k["a"][t.stateEffectId]&&k["a"][t.stateEffectId].name?"".concat(k["a"][t.stateEffectId].name," (").concat(t.stateEffectId,")"):"Unk ".concat(t.stateEffectId)})})):[]}},watch:{monsterId:function(){this.load()}},mounted:function(){this.load()},methods:{load:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.monsterId<=0)){e.next=4;break}return t.monster=null,t.error="Invalid monster ID",e.abrupt("return");case 4:return t.loading=!0,e.prev=5,e.next=8,g.getMonster(t.monsterId);case 8:return t.monster=e.sent,e.prev=9,e.next=12,g.getMonsterSkills(t.monster.skillTableId);case 12:t.skills=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](9),console.error(e.t0);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e["catch"](5),t.error=String(e.t1);case 23:return e.prev=23,t.loading=!1,e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[5,20,23,26],[9,15]])})))()}}}),I=C,S=(s("aefc"),s("2877")),y=Object(S["a"])(I,a,r,!1,null,"1a9c2be4",null);e["default"]=y.exports},7589:function(t,e,s){"use strict";s("8490")},8490:function(t,e,s){},aefc:function(t,e,s){"use strict";s("ddf0")},b78a:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"monsters"},[s("h1",{staticClass:"divided"},[t._v("Monsters")]),s("form",{staticClass:"search-form",on:{submit:function(e){return e.preventDefault(),t.loadMonster(e)}}},[s("div",{staticClass:"name-class-filter"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.monsterId,expression:"monsterId",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"Monster ID"},domProps:{value:t.monsterId},on:{input:function(e){e.target.composing||(t.monsterId=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),s("button",{staticClass:"dv-button small",attrs:{disabled:!t.valid}},[t._v("Load")])])])},r=[],n=(s("a9e3"),s("2b0e")),i=n["a"].extend({components:{},data:function(){return{monsterId:null}},computed:{valid:function(){return!isNaN(Number(this.monsterId))&&!!this.monsterId&&this.monsterId>0}},methods:{loadMonster:function(){this.$router.push("/monsters/".concat(this.monsterId))}}}),o=i,c=(s("7589"),s("2877")),l=Object(c["a"])(o,a,r,!1,null,"d99b9be6",null);e["default"]=l.exports},ddf0:function(t,e,s){}}]);
//# sourceMappingURL=monsters.41ff2f25.js.map