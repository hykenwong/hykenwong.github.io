(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["farm"],{"0a2a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-home"},[a("h1",[t._v("农场图鉴")]),a("div",{staticClass:"options-grid"},[a("router-link",{staticClass:"option",attrs:{to:{name:"farm-skill"}}},[a("h2",{staticClass:"heading"},[a("div",{staticClass:"icon fa fa-certificate"}),t._v(" 技能概况 ")])]),a("router-link",{staticClass:"option",attrs:{to:{name:"farm-cultivate"}}},[a("h2",{staticClass:"heading"},[a("div",{staticClass:"icon fa fa-tree"}),t._v(" 耕种 ")])]),a("router-link",{staticClass:"option",attrs:{to:{name:"farm-cook"}}},[a("h2",{staticClass:"heading"},[a("div",{staticClass:"icon fa fa-eraser"}),t._v(" 料理 ")])]),a("router-link",{staticClass:"option",attrs:{to:{name:"farm-fish"}}},[a("h2",{staticClass:"heading"},[a("div",{staticClass:"icon fa fa-bitbucket"}),t._v(" 钓鱼 ")])])],1)])},r=[],i={},s=i,o=a("2877"),c=Object(o["a"])(s,n,r,!1,null,null,null);e["default"]=c.exports},"0f49":function(t,e,a){},"0fe6":function(t,e,a){"use strict";a("af25")},"16ce":function(t,e,a){},2880:function(t,e,a){"use strict";a("4efe")},"3b64":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));a("4160"),a("a9e3"),a("3ca3"),a("159b"),a("ddb0");var n=a("2909"),r=(a("96cf"),a("1da1")),i=a("d4ec"),s=a("bee2"),o=a("6fd2"),c=a("6ebb"),l=1e9,u=function(){function t(){Object(i["a"])(this,t)}return Object(s["a"])(t,[{key:"getItemCharmRequiredKeys",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var n,r,i,s,l,u,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(o["a"])(a),t.next=3,c["a"].getTableRowsMatching("charmitemkeytable","_CharmItemID","eq",e,a);case 3:if(n=t.sent,!(n.length>0)){t.next=13;break}for(r=n[0],i=function(t){return"_Key".concat(t)},s=function(t){return"_Key".concat(t,"cost")},l=[],u=1;u<=5;++u)d=Number(r[i(u)]),p=Number(r[s(u)]),d&&p&&l.push([d,p]);return t.abrupt("return",l);case 13:return t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getItemDrop",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var r,i,s,u,d,p,f,v=this,h=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=h.length>2&&void 0!==h[2]?h[2]:0,!(r>=5)){t.next=3;break}return t.abrupt("return",[]);case 3:return a=Object(o["a"])(a),t.next=6,c["a"].getTableRow("itemdroptable",e,a);case 6:i=t.sent,s=0,u=[],d=regeneratorRuntime.mark((function t(e){var o,c,d,p,f,h,m,_,b,g,k,C;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o="_IsGroup".concat(e),c="_Item".concat(e,"Index"),d="_Item".concat(e,"Info"),p="_Item".concat(e,"Prob"),f=i[o],h=i[c],m=i[d],_=i[p],!(h<=0||_<=0||!f&&m<=0)){t.next=10;break}return t.abrupt("return","continue");case 10:if(b=s,s+=_,g=_/l,k=b>=l||void 0,!f){t.next=28;break}return t.prev=15,t.next=18,v.getItemDrop(h,a,r+1);case 18:C=t.sent,C.forEach((function(t){t.rate*=k?0:g,t.prob*=g,t.isOverProb=k})),u.push.apply(u,Object(n["a"])(C)),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](15),u.push({count:m,cutoff:b,itemId:-1,rate:k?0:g,prob:_,isOverProb:k,depth:r});case 26:t.next=29;break;case 28:u.push({count:m,cutoff:b,itemId:h,rate:k?0:g,prob:_,isOverProb:k,depth:r});case 29:case"end":return t.stop()}}),t,null,[[15,23]])})),p=1;case 11:if(!(p<=20)){t.next=19;break}return t.delegateYield(d(p),"t0",13);case 13:if(f=t.t0,"continue"!==f){t.next=16;break}return t.abrupt("continue",16);case 16:++p,t.next=11;break;case 19:return t.abrupt("return",u);case 20:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()}]),t}();e["b"]=new u},"3da1":function(t,e,a){},"49f8":function(t,e,a){"use strict";a("3da1")},"4efe":function(t,e,a){},"50a6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"divided"},[t._v("料理")]),a("go-back"),t.loading?a("div",[a("load-indicator",{attrs:{loadText:"正在加载中"}})],1):t._e(),t.loading?t._e():[a("table",{attrs:{border:"1"}},[t._m(0),t._l(t.result.list,(function(e,n){return a("tr",{key:n},[a("td",[a("item-icon-tooltip",{attrs:{itemId:e.RowId,itemStub:e.recipe,count:1,noLink:t.noLink}})],1),a("td",[t._v(t._s(t._f("farmLevelName")(parseInt(e._SecondarySkillClass))))]),a("td",[t._v(t._s(e.category))]),a("td",[a("item-icon-tooltip",{attrs:{itemId:e._MakeItemID,itemStub:e.makeItem.item,count:e.makeItem.count,noLink:t.noLink}})],1),a("td",[a("div",{staticClass:"Title"},t._l(e.material,(function(e,n){return a("div",{key:n,staticClass:"titleitem"},[a("item-icon-tooltip",{attrs:{itemId:e.itemId,itemStub:e.item,count:e.count,noLink:t.noLink}})],1)})),0)]),a("td",[t._v(t._s(e._SuccessUpExp)+"点")])])}))],2),a("pager",{staticStyle:{float:"right"},attrs:{pageSize:t.pageSize},on:{"on-jump":t.jump},model:{value:t.pageNo,callback:function(e){t.pageNo=e},expression:"pageNo"}}),a("p",[t._v(" 注：每次制作需耗时3秒 ")])]],2)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("食谱")]),a("th",[t._v("需要熟练度")]),a("th",[t._v("名称")]),a("th",[t._v("料理")]),a("th",[t._v("需要材料")]),a("th",[t._v("获得经验值")])])}],i=a("2b0e"),s=a("f1aa"),o=a("e3c0"),c=a("f62c"),l=a("40a3"),u=a("0f69");i["a"].component("load-indicator",l["a"]);var d={created:function(){this.fetchData()},components:{GoBack:o["a"],ItemIconTooltip:c["a"],pager:u["a"]},data:function(){return{result:{list:null,count:null},noLink:!1,loading:!0,pageSize:30,pageNo:1,cacheArray:[]}},methods:{jump:function(t){this.pageNo=t,this.fetchData()},fetchData:function(){var t=this;this.cacheArray[this.pageNo]?(this.result=this.cacheArray[this.pageNo],this.loading=!1):(this.loading=!0,s["a"].FarmCook(this.pageNo,this.$store.state.regionCode,(function(e){t.result=e,t.pageSize=Math.floor(e.count/15)+1,t.loading=!1,t.cacheArray[t.pageNo]=e}),(function(e){t.error=e,t.loading=!1})))}}},p=d,f=(a("0fe6"),a("2877")),v=Object(f["a"])(p,n,r,!1,null,"f9303556",null);e["default"]=v.exports},"53d4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-list",attrs:{long:t.isLong}},[t._t("default"),0===t.count?t._t("empty",[t._m(0)]):t._e()],2)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty"},[a("span",{staticClass:"desc"},[t._v("列表里无任何物品")])])}],i=(a("a9e3"),a("2b0e")),s=i["a"].extend({props:{count:{type:Number}},computed:{isLong:function(){return this.count>6}}}),o=s,c=(a("de79"),a("2877")),l=Object(c["a"])(o,n,r,!1,null,"a4b37af2",null);e["a"]=l.exports},"6a4b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"itemdrop"},[t.loading?a("div",{staticClass:"loading"},[a("load-indicator",{attrs:{loadText:"正在加载掉落"}})],1):t._e(),t.error?a("div",{staticClass:"error"},[t._v(" "+t._s(t.error)+" ")]):t._e(),t.drops?a("div",[a("responsive-card-list",{attrs:{count:t.drops.length}},[t._l(t.drops,(function(t,e){return a("responsive-card-list-entry",{key:e},[a("item-card",{class:{over:t.isOverProb},attrs:{itemId:t.itemId,itemStub:t.item,count:t.count,rate:t.rate}})],1)})),t.nothingChance>0?a("responsive-card-list-entry",[a("div",{staticClass:"nothing-card"},[a("div",{staticClass:"head"},[t._v(t._s(t._f("percent")(t.nothingChance))+"% 概率无掉落")])])]):t._e()],2)],1):t._e()])},r=[],i=(a("13d5"),a("a9e3"),a("96cf"),a("1da1")),s=a("2b0e"),o=a("53d4"),c=a("b461"),l=a("3b64"),u=s["a"].extend({components:{ResponsiveCardList:o["a"],ResponsiveCardListEntry:c["a"]},props:{dropId:{type:Number},dropsItem:{}},data:function(){return{loading:!1,drops:[],error:""}},watch:{dropId:function(){this.load()}},computed:{nothingChance:function(){if(this.loading)return 0;var t=this.drops.reduce((function(t,e){return e.prob+t}),0);if(t<l["a"]){var e=l["a"]-t;return e/l["a"]}return 0}},mounted:function(){this.load()},methods:{load:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.loading=!0,t.error="",!t.dropsItem){e.next=7;break}t.drops=t.dropsItem,e.next=11;break;case 7:return t.drops=[],e.next=10,l["b"].getItemDrop(t.dropId);case 10:t.drops=e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),t.error=String(e.t0);case 16:return e.prev=16,t.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})))()}}}),d=u,p=(a("49f8"),a("2877")),f=Object(p["a"])(d,n,r,!1,null,"2497b54a",null);e["a"]=f.exports},"6fd2":function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("3a0b");function r(t){return t||n["a"].state.regionCode}},"7df3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"divided"},[t._v("钓鱼")]),a("go-back"),t.loading?a("div",[a("load-indicator",{attrs:{loadText:"正在加载中"}})],1):t._e(),t.loading?t._e():[t.dropId?a("div",[a("h4",[t._v("钓鱼")]),a("item-drop-list",{attrs:{dropId:t.dropId,dropsItem:t.result.drops}})],1):t._e(),t._v(" 注： "),a("p",[t._v("每次自动钓鱼需花"+t._s(t.result.list._MaxTime)+"秒")]),a("p",[t._v("钓鱼成功时，获得经验值"+t._s(t.result.list._GetSkillPointSuccess)+",失败时获得经验值"+t._s(t.result.list._GetSkillPointFailure))]),a("h4",[t._v("鱼竿大全")]),a("responsive-card-list",{attrs:{count:t.result.rod.length}},t._l(t.result.rod,(function(t,e){return a("responsive-card-list-entry",{key:e},[a("item-card",{attrs:{itemId:t.id,itemStub:t,count:1}})],1)})),1)]],2)},r=[],i=a("2b0e"),s=a("f1aa"),o=a("e3c0"),c=a("f62c"),l=a("40a3"),u=a("7ea2"),d=a("6a4b"),p=a("53d4"),f=a("b461");i["a"].component("load-indicator",l["a"]),i["a"].component("item-card",u["a"]);var v={created:function(){this.fetchData()},components:{GoBack:o["a"],ItemIconTooltip:c["a"],ItemDropList:d["a"],ResponsiveCardList:p["a"],ResponsiveCardListEntry:f["a"]},data:function(){return{result:null,noLink:!1,loading:!0,dropId:0}},methods:{fetchData:function(){var t=this;s["a"].FarmFishCache?(this.result=s["a"].FarmFishCache,this.dropId=parseInt(s["a"].FarmFishCache.list._SuccessDrapID),this.loading=!1):(this.loading=!0,s["a"].FarmFish(this.$store.state.regionCode,(function(e){t.dropId=parseInt(e.list._SuccessDrapID),t.result=e,t.loading=!1}),(function(e){t.error=e,t.loading=!1})))}}},h=v,m=(a("9b10"),a("2877")),_=Object(m["a"])(h,n,r,!1,null,"1f26dc3e",null);e["default"]=_.exports},"80ea":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"divided"},[t._v("耕种")]),a("go-back"),t.loading?a("div",[a("load-indicator",{attrs:{loadText:"正在加载中"}})],1):t._e(),t.loading?t._e():[a("table",{attrs:{border:"1"}},[t._m(0),t._l(t.result.list,(function(e,n){return a("tr",{key:n},[a("td",[a("item-icon-tooltip",{attrs:{itemId:e.item.id,itemStub:e.item,count:1,noLink:t.noLink}})],1),a("td",[t._v(t._s(t._f("farmLevelName")(parseInt(e._SecondarySkillClass))))]),a("td",[t._v(t._s(t._f("formattingTime")(e._CultivateMaxTime)))]),a("td",[t._v(" 最大浇水量:"+t._s(e._MaxWater)+" 每秒消耗水量"+t._s(e._ConsumeWater)+" ")]),a("td",[t._v(" 播种"+t._s(e._SkillpointSeed)+"点，每次浇水"+t._s(e._SkillpointWater)+"点 ")]),a("td",[a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(a){return t.checkHarvest(e._HarvestDropID,e.item.name.name)}}},[t._v("查看收成")])])])}))],2),t.popup&&t.dropId?[a("dialog-frame",{attrs:{title:t.title,visible:t.popup},on:{closePopup:t.closeHarvest}},[a("item-drop-list",{attrs:{dropId:t.dropId}})],1)]:t._e(),t._v(" 注： "),a("p",[t._v("收割农产品需携带镰刀。可从农场商店购买")]),a("p",[t._v("上述耕种均可用成长促进剂 "),a("item-icon-tooltip",{attrs:{itemId:t.result.harvest.id,itemStub:t.result.harvest,count:1,noLink:t.noLink}})],1),a("h3",[t._v("农场商店")]),a("shop-browser",{attrs:{shopId:t.shopId,useClick:t.useClick}})]],2)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("种子")]),a("th",[t._v("需要熟练度")]),a("th",[t._v("栽培时间")]),a("th",[t._v("浇水")]),a("th",[t._v("经验值")]),a("th",{staticStyle:{"min-width":"92px"}},[t._v("收成")])])}],i=a("2b0e"),s=a("f1aa"),o=a("e3c0"),c=a("f62c"),l=a("40a3"),u=a("dfc5"),d=a("c003"),p=a("7ea2"),f=a("6a4b");i["a"].component("item-card",p["a"]),i["a"].component("load-indicator",l["a"]);var v={created:function(){this.fetchData()},components:{GoBack:o["a"],ItemIconTooltip:c["a"],ShopBrowser:d["a"],DialogFrame:u["a"],ItemDropList:f["a"]},data:function(){return{result:{list:null,count:null},noLink:!1,loading:!0,popup:!1,dropId:0,title:null,shopId:45001,useClick:!0}},methods:{fetchData:function(){var t=this;s["a"].FarmCultivateCache?(this.result=s["a"].FarmCultivateCache,this.loading=!1):(this.loading=!0,s["a"].FarmCultivate(this.$store.state.regionCode,(function(e){t.result=e,t.loading=!1}),(function(e){t.error=e,t.loading=!1})))},checkHarvest:function(t,e){this.popup=!0,this.title=e+" 收成如下",this.dropId=parseInt(t)},closeHarvest:function(){this.popup=!1}}},h=v,m=a("2877"),_=Object(m["a"])(h,n,r,!1,null,null,null);e["default"]=_.exports},"88f1":function(t,e,a){},"9b10":function(t,e,a){"use strict";a("0f49")},"9c49":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"divided"},[t._v("生活技能")]),a("go-back"),t.loading?a("div",[a("load-indicator",{attrs:{loadText:"正在加载中"}})],1):t._e(),t.loading?t._e():[a("table",{attrs:{border:"1"}},[a("tr",[a("td"),t._l(t.result.skill,(function(e,n){return a("td",{key:n,staticStyle:{height:"2rem"}},[a("div",{staticClass:"item-icon"},[a("span",{staticClass:"item",style:"background:url("+t.cover+") -"+t.getIcon(e._SecondarySkillIcon).x+"px -"+t.getIcon(e._SecondarySkillIcon).y+"px"})]),a("div",[t._v(t._s(e.skillName))])])}))],2),t._l(t.result.level,(function(e,n){return a("tr",{key:n},[a("td",{staticStyle:{"min-width":"2rem"}},[t._v(t._s(n)+"级")]),t._l(e,(function(e,n){return a("td",{key:n},[a("p",[t._v("需达到经验值："),a("span",{staticStyle:{color:"#91c32e"}},[t._v(t._s(e._SecondarySkillExp))])]),a("span",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(e.levelName))])])}))],2)}))],2)]],2)},r=[],i=a("2b0e"),s=a("f1aa"),o=a("e3c0"),c=a("40a3"),l=a("27c7");i["a"].component("load-indicator",c["a"]);var u={created:function(){this.fetchData()},components:{GoBack:o["a"]},data:function(){return{result:null,loading:!0,cover:"".concat(l["a"].defaults.resourceURL,"/dds/lifeskillicon.png")}},methods:{fetchData:function(){var t=this;s["a"].FarmSkillCache?(this.result=s["a"].FarmSkillCache,this.loading=!1):s["a"].FarmSkill(this.$store.state.regionCode,(function(e){t.result=e,t.loading=!1}),(function(e){t.error=e,t.loading=!1}))},getIcon:function(t){var e=Math.floor(t/10),a=t%10,n=52,r={x:Math.max(n*a,0),y:n*e};return r}}},d=u,p=(a("dcb2"),a("2877")),f=Object(p["a"])(d,n,r,!1,null,"109eb810",null);e["default"]=f.exports},af25:function(t,e,a){},b461:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-list-entry",attrs:{narrow:t.narrow}},[t._t("default")],2)},r=[],i=a("2b0e"),s=i["a"].extend({props:{narrow:{type:Boolean}}}),o=s,c=(a("fe73"),a("2877")),l=Object(c["a"])(o,n,r,!1,null,"83cab26c",null);e["a"]=l.exports},dcb2:function(t,e,a){"use strict";a("16ce")},de79:function(t,e,a){"use strict";a("e708")},dfc5:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visible?a("div",{staticClass:"first-run"},[a("div",{staticClass:"modal-shade"}),a("div",{staticClass:"modal"},[a("div",{directives:[{name:"anime",rawName:"v-anime",value:{translateY:["-100px",0],opacity:{value:["0.0","1.0"],duration:5e3},delay:500,duration:750,elasticity:100},expression:"{\r\n                translateY: ['-100px', 0],\r\n                opacity: {\r\n                    value: ['0.0', '1.0'],\r\n                    duration: 5000,\r\n                },\r\n                delay: 500,\r\n                duration: 750,\r\n                elasticity: 100,\r\n            }"}],staticClass:"modal-inner"},[a("div",{staticClass:"modal-content",style:"height:"+this.height+";"},[a("div",{staticClass:"page",attrs:{active:!0,id:0}},[a("div",{staticClass:"content content-in",attrs:{active:!0}},[a("h3",[t._v(t._s(t.title))]),t._t("default"),a("div",{staticClass:"got-it"},[a("button",{directives:[{name:"anime",rawName:"v-anime",value:{borderColor:["#98BCD4","#dcf1ff","#98BCD4","#98BCD4"],loop:!0,duration:3e3,delay:750,easing:"easeInOutExpo"},expression:"{\r\n                                    borderColor: ['#98BCD4', '#dcf1ff', '#98BCD4', '#98BCD4'],\r\n                                    loop: true,\r\n                                    duration: 3000,\r\n                                    delay: 750,\r\n                                    easing: 'easeInOutExpo'\r\n                                }"}],staticClass:"dv-button",on:{click:t.finish}},[t._v(" 确定 ")])])],2)])])])])]):t._e()},r=[],i={name:"dialog-frame",props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},height:{type:String,default:"250px"}},methods:{finish:function(){this.$anime({targets:".first-run",opacity:[1,0],duration:1e3,easing:"easeOutCubic"}),this.$emit("closePopup",!1)}}},s=i,o=(a("2880"),a("2877")),c=Object(o["a"])(s,n,r,!1,null,"32fe0e2c",null);e["a"]=c.exports},e708:function(t,e,a){},fe73:function(t,e,a){"use strict";a("88f1")}}]);
//# sourceMappingURL=farm.9b7d72c2.js.map