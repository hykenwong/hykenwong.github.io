{"version":3,"sources":["webpack:///./src/new/Event/Bingo.vue?7da8","webpack:///./src/new/Event/Bingo.vue?ee1e","webpack:///src/new/Event/Bingo.vue","webpack:///./src/new/Event/Bingo.vue?1966","webpack:///./src/new/Event/Bingo.vue","webpack:///./src/components/item/shop/ShopBrowser.vue?eaff","webpack:///./src/components/item/shop/ShopBrowser.vue?bdd2","webpack:///./src/models/items/IItemShop.ts","webpack:///./src/api/ShopProvider.ts","webpack:///./src/components/item/shop/ShopBrowser.vue?09e0","webpack:///./src/components/item/shop/ShopBrowser.vue?aa14","webpack:///./src/components/item/shop/ShopBrowser.vue","webpack:///./src/new/api/GameInfo.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","_e","loading","result","_s","start","end","_BingoMax","_BingoTime","_BingoNum","_l","vv","kk","key","itemId","item","count","noLink","shopId","useClick","staticRenderFns","component","PurchaseType","PurchaseLimitType","ShopLimitResetType","shopData","i","num","pageNumber","on","$event","setPage","slot","class","highlight","findIndex","sl","quantity","clickItem","seals","cost","costType","_f","costParam","costItemId","limitString","limitType","limitParam","value","tab","id","tabIndex","setTab","name","message","_shopCache","_shopReqCache","RequestCache","region","_ensureRegion","_cacheKey","cached","Promise","resolve","tryCache","TableProvider","getTableRowsMatching","limit","res","ret","tabs","tabIds","Object","values","reduce","pv","cv","_TabID","tabId","first","find","r","tabNameId","_TabNameID","UiStringProvider","get","entries","filter","e","entry","index","_ListID","_itemindex","_Quantity","_PurchaseType1","_PurchaseItem1","_PurchaseItemValue1","_PurchaseType2","_PurchaseItem2","_PurchaseItemValue2","c","_PurchaseLimitType","_PurchaseLimitValue","limitCount","_buyLimitCount","limitReset","_ShopLimitReset","itemOption","_ItemOptionID","RepurchaseTime","_RepurchaseTime","_ShopSealCount","rollPotentialOnPurchase","_PotentialList","push","store","state","regionCode","Points","extend","props","type","Number","Boolean","default","Array","components","Loader","ItemIconTooltip","ItemCard","data","LoadingErrorable","watch","load","computed","numPages","currentTab","Math","max","ceil","map","t","currentTabItems","currentPageItems","currentPageSlots","idx","mounted","methods","startLoad","getShop","done","failed","formattingTime","DAILY","DAILY_ACCOUNT","WEEKLY","WEEKLY_ACCOUNT","WEEKLY_ACCOUNT_PER","ud","$emit","time","second","minute","hour","day","hexToColor","hexy","undefined","startsWith","colorNum","parseInt","substring","alpha","g","b","donationCache","getDonation","okcb","errcb","ensureRegion","ApiHttpClient","then","herostatCache","herostat","levelId","params","ladderCache","ladderInfo","titleCache","titleInfo","page","sendParams","fixstate","titleBookCache","titleBook","promiseCache","PromiseInfo","labyrinthCache","Labyrinth","taxCache","Tax","FeatCache","Feat","GuildInfoCache","GuildInfo","GuildContentCache","GuildContent","GuildMission","grade","FarmSkillCache","FarmSkill","FarmCultivateCache","FarmCultivate","FarmCook","BingoCache","Bingo","FarmFishCache","FarmFish","MainQuestCache","MainQuest","Repute","FishingCache","Fishing","HidshopCache","HidShop","HidShopCondition","groupId","MissionInfo","categoryId","EquipmentBook","jobId","getJobList","vipcache","getVip","alteiaCache","Alteia"],"mappings":"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","file":"js/Event.fca0e338.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bingo.vue?vue&type=style&index=0&id=7bb942e8&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"divided\"},[_vm._v(\"宾戈\")]),_c('go-back'),(_vm.loading)?_c('div',[_c('load-indicator',{attrs:{\"loadText\":\"正在加载中\"}})],1):_vm._e(),(!_vm.loading)?[(_vm.result.length)?[_c('h3',[_vm._v(\"活动时间：\"+_vm._s(_vm.result[0].start)+\" ~ \"+_vm._s(_vm.result[0].end))]),_c('p',[_vm._v(\"宾戈最大值：\"+_vm._s(_vm.result[0]._BingoMax))]),_c('p',[_vm._v(\"每次出现时间间隔：\"+_vm._s(_vm.result[0]._BingoTime)+\"分\")]),_c('p',[_vm._v(\"每次出现\"+_vm._s(_vm.result[0]._BingoNum)+\"个数字\")]),_c('h4',[_vm._v(\"奖励如下\")]),_c('div',{staticClass:\"Title\"},_vm._l((_vm.result[0].items),function(vv,kk){return _c('div',{key:kk,staticClass:\"titleitem\"},[_c('item-icon-tooltip',{attrs:{\"itemId\":vv[0].itemId,\"itemStub\":vv[0].item,\"count\":vv[0].count,\"noLink\":_vm.noLink}})],1)}),0),_c('h3',[_vm._v(\"活动商店\")]),_c('shop-browser',{attrs:{\"shopId\":_vm.shopId,\"useClick\":_vm.useClick}})]:[_c('h3',[_vm._v(\"当前无正进行的宾戈活动\")])]]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <h1 class=\"divided\">宾戈</h1>\r\n        <go-back />\r\n         <div v-if=\"loading\">\r\n                <load-indicator loadText=\"正在加载中\"></load-indicator>\r\n        </div>\r\n        <template v-if=\"!loading\">\r\n            <template v-if=\"result.length\">\r\n                <h3>活动时间：{{result[0].start}} ~ {{result[0].end}}</h3>\r\n                <p>宾戈最大值：{{result[0]._BingoMax}}</p>\r\n                <p>每次出现时间间隔：{{result[0]._BingoTime}}分</p>\r\n                <p>每次出现{{result[0]._BingoNum}}个数字</p>\r\n                <h4>奖励如下</h4>\r\n                <div class=\"Title\">\r\n                    <div v-for=\"(vv,kk) in result[0].items\" :key=\"kk\" class=\"titleitem\">\r\n                        <item-icon-tooltip\r\n                            :itemId=\"vv[0].itemId\" \r\n                            :itemStub=\"vv[0].item\"\r\n                            :count=\"vv[0].count\"\r\n                            :noLink=\"noLink\">\r\n                        </item-icon-tooltip>\r\n                    </div>\r\n                </div>\r\n                <h3>活动商店</h3>\r\n                <shop-browser :shopId=\"shopId\"  :useClick=\"useClick\" />\r\n            </template>\r\n            <template v-else>\r\n                <h3>当前无正进行的宾戈活动</h3>\r\n            </template>\r\n        </template>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Vue from 'vue';\r\nimport GameInfo from '../api/GameInfo';\r\nimport GoBack from \"@/components/util/GoBack.vue\";\r\nimport ItemIconTooltip from '@/old/items/ItemIconTooltip.vue';\r\nimport Loader from \"@/components/util/Loader\";\r\nimport ShopBrowser from '@/components/item/shop/ShopBrowser.vue';\r\nVue.component(\"load-indicator\", Loader);\r\nexport default {\r\n    created(){\r\n        this.fetchData();\r\n    },\r\n    components: {\r\n        GoBack,\r\n        ItemIconTooltip,\r\n        ShopBrowser\r\n    },\r\n    data(){\r\n        return{\r\n            result:null,\r\n            noLink:false,\r\n            loading:true,\r\n            title:null,\r\n            shopId:100004,\r\n            useClick: true\r\n        }\r\n    },\r\n    methods:{\r\n        fetchData(){\r\n            if(GameInfo.BingoCache){\r\n                this.result = GameInfo.BingoCache;\r\n                this.loading = false;\r\n            }else{\r\n            this.loading = true;\r\n            GameInfo.Bingo(this.$store.state.regionCode,\r\n                    (res) => {\r\n                        this.result = res;\r\n                        this.loading = false;\r\n                    },\r\n                    (err) => {\r\n                        this.error = err;\r\n                        this.loading = false;\r\n                    });\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.Title {\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    .titleitem {\r\n        flex: 0 0 auto;\r\n    }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bingo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bingo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Bingo.vue?vue&type=template&id=7bb942e8&scoped=true&\"\nimport script from \"./Bingo.vue?vue&type=script&lang=js&\"\nexport * from \"./Bingo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Bingo.vue?vue&type=style&index=0&id=7bb942e8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bb942e8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopBrowser.vue?vue&type=style&index=0&id=20fe35eb&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item-shop\"},[(_vm.shopData.loading)?_c('div',{staticClass:\"loading\"},[_c('loader',{attrs:{\"load-text\":\"正在加载商店\"}})],1):_vm._e(),(_vm.shopData.value)?_c('div',{staticClass:\"result\"},[_c('div',{staticClass:\"shop-pane\"},[_c('div',{staticClass:\"pages\"},_vm._l((_vm.numPages),function(i,num){return _c('div',{key:i,staticClass:\"page-tab\",attrs:{\"active\":num === _vm.pageNumber},on:{\"click\":function($event){return _vm.setPage(num)}}},[_vm._v(\" \"+_vm._s(i)+\" \")])}),0),_c('div',{staticClass:\"item-grid\"},_vm._l((_vm.currentPageSlots),function(slot,i){return _c('div',{key:i,staticClass:\"grid-entry\",class:_vm.highlight.findIndex(function (sl) { return i === sl; }) !== -1 ? 'highlight' : ''},[(slot)?[_c('item-icon-tooltip',{attrs:{\"itemId\":slot.itemId,\"count\":slot.quantity,\"userData\":slot,\"noLink\":!_vm.useClick,\"directionHint\":i > 9 ? 'up' : 'down'},on:{\"click\":_vm.clickItem}},[_c('div',{staticClass:\"purchase-details\"},[(slot.seals >= 0)?_c('div',{staticClass:\"seals section\"},[(slot.seals == 0)?[_vm._v(\" Item can have bindings added \")]:[_vm._v(\" Item has \"),_c('strong',[_vm._v(_vm._s(slot.seals))]),_vm._v(\" unbinds \")]],2):_vm._e(),_c('div',{staticClass:\"costs section\"},[_c('div',{staticClass:\"cost-label\"},[_vm._v(\"购买\")]),_vm._l((slot.cost),function(cost,i){return _c('div',{key:i,staticClass:\"cost\"},[(cost.costType == 1)?_c('div',{staticClass:\"gold\"},[(cost.costParam)?[_vm._v(_vm._s(_vm._f(\"gold\")(cost.costParam)))]:_vm._e()],2):(cost.costType == 2)?_c('div',{staticClass:\"card-container\"},[_c('item-card',{attrs:{\"itemId\":cost.costItemId,\"count\":cost.costParam,\"noLink\":true,\"onClick\":function (){}}})],1):(cost.costType == 3)?[_c('strong',[_vm._v(_vm._s(cost.costParam)+\" 天梯点数\")])]:(cost.costType == 4)?[_c('strong',[_vm._v(_vm._s(cost.costParam)+\" 联盟点数\")])]:_c('div',{staticClass:\"point-container\"},[_c('point-tag',{attrs:{\"pointId\":cost.costType,\"amount\":cost.costParam,\"noTip\":true}})],1)],2)})],2),(slot.limitReset)?_c('div',{staticClass:\"limits section\"},[_vm._v(\" 限制 \"),_c('strong',[_vm._v(_vm._s(_vm.limitString(slot)))])]):_vm._e(),(slot.limitType)?_c('div',{staticClass:\"requirements section\"},[(slot.limitType == 2)?[_vm._v(\" 需要 Lv \"),_c('strong',[_vm._v(_vm._s(slot.limitParam)+\"+\")])]:(slot.limitType == 3)?[_vm._v(\" 需要 PvP 等级 \"),_c('strong',[_vm._v(_vm._s(slot.limitParam)+\"+\")])]:(slot.limitType == 6)?[_c('strong',[_vm._v(_vm._s(slot.limitParam)+\"+\")]),_vm._v(\" 需要成就点数 \")]:(slot.limitType == 7)?[_vm._v(\" 需要天梯等级 \"),_c('strong',[_vm._v(_vm._s(_vm._f(\"LadderRank\")(slot.limitParam))+\"以上\")])]:_vm._e()],2):_vm._e()])])]:_vm._e()],2)}),0)]),_c('div',{staticClass:\"tabs\"},_vm._l((_vm.shopData.value.tabs),function(tab){return _c('div',{key:tab.id,staticClass:\"tab\",attrs:{\"active\":_vm.tabIndex === tab.id},on:{\"click\":function($event){return _vm.setTab(tab.id)}}},[_vm._v(\" \"+_vm._s(tab.name.message)+\" \")])}),0)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import IUiStringMessage from '@/models/uistring/IUiStringMessage';\r\n\r\nexport default interface IItemShop {\r\n    id: number;\r\n    tabs: IItemShopTab[];\r\n}\r\n\r\nexport interface IItemShopTab {\r\n    id: number;\r\n    name: IUiStringMessage;\r\n    entries: IItemShopTabEntry[];\r\n}\r\n\r\nexport interface IItemShopTabEntry {\r\n    id: number;\r\n    index: number;\r\n    itemId: number;\r\n    quantity: number;\r\n    cost: {\r\n        costType: PurchaseType;\r\n        costItemId: number;\r\n        costParam: number;\r\n    }[];\r\n    limitType: PurchaseLimitType;\r\n    limitParam: number;\r\n    limitCount: number;\r\n    limitReset: ShopLimitResetType;\r\n    itemOption: number;\r\n    seals: number;\r\n    rollPotentialOnPurchase: boolean;\r\n    RepurchaseTime:number;\r\n}\r\n\r\nexport enum PurchaseType {\r\n    NONE,\r\n    COIN,\r\n    ITEM,\r\n    LADDER_POINTS,\r\n    FRIENDSHIP,\r\n    BEGIN_POINTS = 8,\r\n}\r\n\r\nexport enum PurchaseLimitType {\r\n    NONE,\r\n    MIN_LEVEL = 2,\r\n    MIN_PVP_RANK,\r\n    ACHIEVEMENT_POINTS = 6,\r\n    MIN_LADDER_RANK,\r\n}\r\n\r\nexport enum ShopLimitResetType {\r\n    NONE,\r\n    DAILY,\r\n    WEEKLY,\r\n    DAILY_ACCOUNT,\r\n    WEEKLY_ACCOUNT,\r\n    WEEKLY_ACCOUNT_PER,\r\n}\r\n","import ITypedMap from '@/models/util/ITypedMap';\r\nimport RequestCache from '@/models/util/RequestCache';\r\n\r\nimport { ApiHttpClient } from \"@/globals\";\r\nimport store from '@/store';\r\nimport IItemShop, { IItemShopTab, IItemShopTabEntry } from '@/models/items/IItemShop';\r\nimport ICombinedShopTableRow from '@/models/items/raw/ICombinedShopTableRow';\r\nimport UiStringProvider from './UiStringProvider';\r\nimport TableProvider from './TableProvider';\r\n\r\nexport interface IShopProvider {\r\n    \r\n    getShop(id: number, region?: string): Promise<IItemShop>;\r\n}\r\n\r\nclass ShopProvider implements IShopProvider {\r\n    private _shopCache: ITypedMap<IItemShop>;\r\n    private _shopReqCache: RequestCache<IItemShop>;\r\n\r\n    constructor() {\r\n        this._shopCache = {};\r\n        this._shopReqCache = new RequestCache();\r\n    }\r\n\r\n    public async getShop(id: number, region?: string): Promise<IItemShop> {\r\n        region = this._ensureRegion(region);\r\n        let key = this._cacheKey(id, region);\r\n        let cached = this._shopCache[key];\r\n        if (cached) {\r\n            return Promise.resolve(cached);\r\n        }\r\n        \r\n        return this._shopReqCache.tryCache(key, async () => {\r\n            const res = await TableProvider.getTableRowsMatching<ICombinedShopTableRow>('virt.combinedshoptable', '_ShopID', 'eq', id, region, {\r\n                limit: 2000,\r\n            });\r\n\r\n            const ret: IItemShop = {\r\n                id,\r\n                tabs: [],\r\n            };\r\n\r\n            const tabIds = Object.values(res.reduce((pv, cv) => {\r\n                pv[cv._TabID] = cv._TabID;\r\n                return pv;\r\n            }, {} as {[k:number]: number}));\r\n            for (const tabId of tabIds) {\r\n                const first = res.find((r) => r._TabID === tabId);\r\n                if (first) {\r\n                    const tabNameId = first._TabNameID;\r\n                    const tab: IItemShopTab = {\r\n                        id: tabId,\r\n                        name: await UiStringProvider.get(tabNameId, region),\r\n                        entries: [],\r\n                    };\r\n\r\n                    const entries = res.filter((r) => r._TabID === tabId);\r\n                    for (let e of entries) {\r\n                        const entry: IItemShopTabEntry = {\r\n                            id: e.id,\r\n                            index: e._ListID,\r\n                            itemId: e._itemindex,\r\n                            quantity: e._Quantity,\r\n                            cost: [\r\n                                {\r\n                                    costType: e._PurchaseType1,\r\n                                    costItemId: e._PurchaseItem1,\r\n                                    costParam: e._PurchaseItemValue1,\r\n                                },\r\n                                {\r\n                                    costType: e._PurchaseType2,\r\n                                    costItemId: e._PurchaseItem2,\r\n                                    costParam: e._PurchaseItemValue2,\r\n                                },\r\n                            ].filter((c) => c.costType),\r\n                            limitType: e._PurchaseLimitType,\r\n                            limitParam: e._PurchaseLimitValue,\r\n                            limitCount: e._buyLimitCount,\r\n                            limitReset: e._ShopLimitReset,\r\n                            itemOption: e._ItemOptionID,\r\n                            RepurchaseTime: e._RepurchaseTime,\r\n                            seals: e._ShopSealCount,\r\n                            rollPotentialOnPurchase: e._PotentialList,\r\n                        };\r\n\r\n                        tab.entries.push(entry);\r\n                    }\r\n\r\n                    ret.tabs.push(tab);\r\n                }\r\n            }\r\n\r\n            return ret;\r\n        });\r\n\r\n    }\r\n\r\n    private _ensureRegion(region?: string): string {\r\n        if (!region) {\r\n            return store.state.regionCode;\r\n        }\r\n\r\n        return region;\r\n    }\r\n\r\n    private _cacheKey(id: number, region: string) {\r\n        return `${region}:${id}`;\r\n    }\r\n}\r\n\r\nexport default new ShopProvider() as IShopProvider;\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from 'vue';\r\nimport LoadingErrorable from '@/models/util/LoadingErrorable';\r\nimport ShopProvider from '@/api/ShopProvider';\r\nimport Loader from \"@/components/util/Loader.vue\";\r\nimport IItemShop, { IItemShopTab, IItemShopTabEntry, PurchaseLimitType, ShopLimitResetType } from '@/models/items/IItemShop';\r\nimport ItemIconTooltip from '@/old/items/ItemIconTooltip.vue';\r\nimport ItemCard from '@/old/items/ItemCard.vue';\r\nimport Points from '@/old/game/Points.vue';\r\n\r\nVue.component('point-tag', Points);\r\n\r\ninterface IData {\r\n    shopData: LoadingErrorable<IItemShop, any>,\r\n    tabIndex: number;\r\n    pageNumber: number;\r\n}\r\n\r\nexport default Vue.extend({\r\n    props: {\r\n        shopId: {\r\n            type: Number as () => number,\r\n        },\r\n        useClick: {\r\n            type: Boolean as () => boolean,\r\n            default: false,\r\n        },\r\n        highlight: {\r\n            type: Array as () => number[],\r\n            default() {\r\n                return [];\r\n            },\r\n        }\r\n    },\r\n    components: {\r\n        Loader,\r\n        ItemIconTooltip,\r\n        ItemCard,\r\n    },\r\n    data(): IData {\r\n        return {\r\n            shopData: new LoadingErrorable(),\r\n            tabIndex: 0,\r\n            pageNumber: 0,\r\n        };\r\n    },\r\n    watch: {\r\n        shopId() {\r\n            this.load();\r\n        }\r\n    },\r\n    computed: {\r\n        numPages(): number {\r\n            if (this.shopData.value) {\r\n                const tab = this.currentTab;\r\n                if (tab) {\r\n                    return Math.max(1, Math.ceil(Math.max(...tab.entries.map((r) => r.index)) / 30));\r\n                }\r\n            }\r\n\r\n            return 0;\r\n        },\r\n        currentTab(): IItemShopTab|null {\r\n            if (this.shopData.value) {\r\n                return this.shopData.value.tabs.find((t) => t.id === this.tabIndex) || null;\r\n            }\r\n\r\n            return null;\r\n        },\r\n        currentTabItems(): IItemShopTabEntry[] {\r\n            const tab = this.currentTab;\r\n            if (tab) {\r\n                return tab.entries;\r\n            }\r\n\r\n            return [];\r\n        },\r\n        currentPageItems(): IItemShopTabEntry[] {\r\n            return this.currentTabItems.filter((r) => r.index >= (this.pageNumber * 30) && r.index < ((this.pageNumber + 1) * 30));\r\n        },\r\n        currentPageSlots(): (IItemShopTabEntry|null)[] {\r\n            const ret = [];\r\n            for (let i = 0; i < 30; ++i) {\r\n                const idx = (this.pageNumber * 30) + i;\r\n                ret[i] = this.currentPageItems.find((r) => r.index === idx) || null;\r\n            }\r\n\r\n            return ret;\r\n        }\r\n    },\r\n    mounted() {\r\n        this.load();\r\n    },\r\n    methods: {\r\n        async load() {\r\n            if (this.shopData.loading) {\r\n                return;\r\n            }\r\n\r\n            this.shopData.startLoad();\r\n            try {\r\n                this.shopData.done(await ShopProvider.getShop(this.shopId));\r\n                if (this.shopData.value && this.shopData.value.tabs[0]) {\r\n                    this.tabIndex = this.shopData.value!.tabs[0].id;\r\n                }\r\n            } catch (error) {\r\n                this.shopData.failed(error);\r\n            }\r\n        },\r\n        setTab(idx: number) {\r\n            this.tabIndex = idx;\r\n            this.pageNumber = 0;\r\n        },\r\n        setPage(idx: number) {\r\n            this.pageNumber = idx;\r\n        },\r\n        limitString(entry: IItemShopTabEntry): string {\r\n            if(entry.RepurchaseTime>0){\r\n                return this.formattingTime(entry.RepurchaseTime) + `可以再次购买`\r\n            }\r\n            switch (entry.limitReset) {\r\n                case ShopLimitResetType.DAILY:\r\n                    return `每天可购买 ${entry.limitCount} 个`;\r\n                case ShopLimitResetType.DAILY_ACCOUNT:\r\n                    return `账号每天可购买 ${entry.limitCount} 个`;\r\n                case ShopLimitResetType.WEEKLY:\r\n                    return `每周可购买 ${entry.limitCount} 个`;\r\n                case ShopLimitResetType.WEEKLY_ACCOUNT:\r\n                    return `账号每周可购买 ${entry.limitCount} 个`;\r\n                case ShopLimitResetType.WEEKLY_ACCOUNT_PER:\r\n                    return `账号每周可购买 ${entry.limitCount} 个`;\r\n                default:\r\n                    return `${entry.limitCount} per unknown:${entry.limitReset}`;\r\n            }\r\n        },\r\n        clickItem(ud: IItemShopTabEntry) {\r\n            this.$emit('click', ud);\r\n        },\r\n        formattingTime(count: number) {\r\n            let time = '';\r\n            let second = count % 60;\r\n            let minute = (count / 60) % 60;\r\n            time = second + \"秒\";\r\n            if (minute >= 1 ) {\r\n                time = minute + \"分\" +second + \"秒\";\r\n            }\r\n            let hour = ( count / 60 / 60 ) % 24;\r\n            if ( hour >= 1 ) {\r\n                time = hour + \"小时\" + minute + \"分\" + second + \"秒\";\r\n            }\r\n            let day = ( ( count / 60 / 60 ) / 24 );\r\n            if ( day >= 1 ) {\r\n                time = day + \"天\" + hour + \"小时\" + minute + \"分\" + second + \"秒\";\r\n            }\r\n            return time;\r\n        }\r\n\r\n    }\r\n});\r\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopBrowser.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopBrowser.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ShopBrowser.vue?vue&type=template&id=20fe35eb&scoped=true&\"\nimport script from \"./ShopBrowser.vue?vue&type=script&lang=ts&\"\nexport * from \"./ShopBrowser.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ShopBrowser.vue?vue&type=style&index=0&id=20fe35eb&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20fe35eb\",\n  null\n  \n)\n\nexport default component.exports","import { ensureRegion } from \"@/api/RegionProvider\";\r\nimport { ApiHttpClient } from \"@/globals\";\r\n\r\nexport default {\r\n    hexToColor(hexy){\r\n        if(hexy === undefined) return;\r\n        if (hexy.startsWith('0x')) {\r\n            const colorNum = parseInt(hexy.substring(2), 16);\r\n            const alpha = (((colorNum >> 24) & 0xFF) / 255);\r\n            const r = ((colorNum >> 16) & 0xFF);\r\n            const g = ((colorNum >> 8) & 0xFF);\r\n            const b = (colorNum & 0xFF);\r\n    \r\n            return `rgba(${r}, ${g}, ${b}, ${alpha})`;\r\n        }\r\n    \r\n        return hexy;\r\n    },\r\n\r\n    donationCache: null,\r\n\r\n    getDonation(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`table.php?lan=${region}&table=donation`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.donationCache = res.data,\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    herostatCache:null,\r\n    herostat(region, levelId=0, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`herostat.php?lan=${region}`,\r\n        {\r\n            params: {\r\n                levelId: levelId!=0 ? levelId : 0,\r\n            },\r\n        }).then(\r\n        (res) => {\r\n            if(levelId == 0){\r\n                this.herostatCache = res.data;\r\n            }\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    ladderCache:null,\r\n    ladderInfo(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`ladder.php?lan=${region}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.ladderCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n    titleCache:[],\r\n    titleInfo(page,sendParams,region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`title.php?lan=${region}&page=${page}`,\r\n        {\r\n            params:sendParams\r\n        }).then(\r\n        (res) => {\r\n            if(sendParams.name === undefined && sendParams.fixstate === undefined && sendParams.type === undefined){\r\n                this.titleCache[page] = res.data;\r\n            }\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n    titleBookCache:[],\r\n    titleBook(region, page, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`titlebook.php?lan=${region}&page=${page}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.titleBookCache[page] = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n    promiseCache:null,\r\n    PromiseInfo(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`promise.php?lan=${region}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.promiseCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    labyrinthCache:null,\r\n    Labyrinth(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`labyrinth.php?lan=${region}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.labyrinthCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    taxCache:null,\r\n    Tax(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`table.php?lan=${region}&table=tax`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.taxCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n    FeatCache:null,\r\n    Feat(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`table.php?lan=${region}&table=feat`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.FeatCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    GuildInfoCache:null,\r\n    GuildInfo(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`guild.php?lan=${region}&type=info`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.GuildInfoCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    GuildContentCache:null,\r\n    GuildContent(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`guild.php?lan=${region}&type=content`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.GuildContentCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    GuildMission(grade,page,region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`guild.php?lan=${region}&type=mission&grade=${grade}&page=${page}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    FarmSkillCache:null,\r\n    FarmSkill(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`farm.php?lan=${region}&type=skill`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.FarmSkillCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n    FarmCultivateCache:null,\r\n    FarmCultivate(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`farm.php?lan=${region}&type=cultivate`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.FarmCultivateCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    FarmCook(page,region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`farm.php?lan=${region}&type=cook&page=${page}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    BingoCache:null,\r\n    Bingo(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`Event.php?lan=${region}&type=bingo`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.BingoCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n    FarmFishCache:null,\r\n    FarmFish(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`farm.php?lan=${region}&type=fish`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.FarmFishCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n    MainQuestCache:null,\r\n    MainQuest(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`quest.php?lan=${region}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.MainQuestCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    Repute(page,region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`repute.php?lan=${region}&page=${page}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    FishingCache:null,\r\n    Fishing(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`event.php?lan=${region}&type=fishing`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.FishingCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    HidshopCache:null,\r\n    HidShop(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`Cash.php?lan=${region}&type=hidshop`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            this.HidshopCache = res.data;\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    HidShopCondition(groupId,region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`Cash.php?lan=${region}&type=hidshopCheck&id=${groupId}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    MissionInfo(categoryId,region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`mission.php?lan=${region}&type=pannel&cateId=${categoryId}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    EquipmentBook(categoryId,jobId,region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`equipmentbook.php?lan=${region}&cateId=${categoryId}&job=${jobId}`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    getJobList(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`table.php?lan=${region}&table=job`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            okcb(res.data);\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    vipcache:null,\r\n    getVip(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`Cash.php?lan=${region}&type=vip`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            okcb(res.data);\r\n            this.vipcache = res.data\r\n        }, \r\n        errcb);\r\n    },\r\n\r\n    alteiaCache:null,\r\n    Alteia(region, okcb, errcb){\r\n        region = ensureRegion(region);\r\n        ApiHttpClient.get(`Event.php?lan=${region}&type=alteia`,\r\n        {\r\n        }).then(\r\n        (res) => {\r\n            okcb(res.data);\r\n            this.alteiaCache = res.data\r\n        }, \r\n        errcb);\r\n    }\r\n}"],"sourceRoot":""}