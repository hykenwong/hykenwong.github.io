(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["drop-view"],{"13d5":function(t,e,a){"use strict";var r=a("23e7"),i=a("d58f").left,n=a("a640"),s=a("ae40"),o=a("2d00"),c=a("605d"),l=n("reduce"),d=s("reduce",{1:0}),u=!c&&o>79&&o<83;r({target:"Array",proto:!0,forced:!l||!d||u},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"18f1":function(t,e,a){"use strict";a("d249")},"208d":function(t,e,a){"use strict";a("b0c0"),a("ac1f"),a("5319"),a("1276"),a("2ca0");e["a"]={shouldRender:function(t,e){var a=e.rank.toLowerCase();if(!t.grades[a])return!1;var r=e.level;return!(r<t.minLevel||r>t.maxLevel)&&!!this.nameMatch(t.nameSearch,e.name.name)},nameMatch:function(t,e){if(!t)return!0;t=t.toLowerCase(),e=e.toLowerCase().replace(/[^a-z0-9]/g," ");for(var a=t.split(/\s+/g),r=e.split(/\s+/g),i=0,n=0;n<a.length;++n){var s=a[n];if(s){for(var o=!1,c=i;c<r.length;++c){var l=r[c];if(l&&l.startsWith(s)){o=!0,i=c;break}}if(!o)return!1}}return!0},defaultFilter:function(){return{minLevel:0,maxLevel:100,nameSearch:"",selectClass:"",grades:{normal:!0,magic:!0,rare:!0,epic:!0,unique:!0,legendary:!0,divine:!0,ancient:!0},type:{weapon:!0,parts:!0,crest:!0,dragonGem:!0,talisman:!0,fairy:!0,wtd:!0,source:!0,buff:!0,vehicle:!0,mercenary:!0}}}}},2909:function(t,e,a){"use strict";var r=a("6b75");function i(t){if(Array.isArray(t))return Object(r["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return i(t)||n(t)||Object(s["a"])(t)||o()}a.d(e,"a",(function(){return c}))},"3b64":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));a("4160"),a("a9e3"),a("3ca3"),a("159b"),a("ddb0");var r=a("2909"),i=(a("96cf"),a("1da1")),n=a("d4ec"),s=a("bee2"),o=a("6fd2"),c=a("6ebb"),l=1e9,d=function(){function t(){Object(n["a"])(this,t)}return Object(s["a"])(t,[{key:"getItemCharmRequiredKeys",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var r,i,n,s,l,d,u,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(o["a"])(a),t.next=3,c["a"].getTableRowsMatching("charmitemkeytable","_CharmItemID","eq",e,a);case 3:if(r=t.sent,!(r.length>0)){t.next=13;break}for(i=r[0],n=function(t){return"_Key".concat(t)},s=function(t){return"_Key".concat(t,"cost")},l=[],d=1;d<=5;++d)u=Number(i[n(d)]),p=Number(i[s(d)]),u&&p&&l.push([u,p]);return t.abrupt("return",l);case 13:return t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getItemDrop",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var i,n,s,d,u,p,f,m=this,h=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=h.length>2&&void 0!==h[2]?h[2]:0,!(i>=5)){t.next=3;break}return t.abrupt("return",[]);case 3:return a=Object(o["a"])(a),t.next=6,c["a"].getTableRow("itemdroptable",e,a);case 6:n=t.sent,s=0,d=[],u=regeneratorRuntime.mark((function t(e){var o,c,u,p,f,h,v,g,_,y,b,D;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o="_IsGroup".concat(e),c="_Item".concat(e,"Index"),u="_Item".concat(e,"Info"),p="_Item".concat(e,"Prob"),f=n[o],h=n[c],v=n[u],g=n[p],!(h<=0||g<=0||!f&&v<=0)){t.next=10;break}return t.abrupt("return","continue");case 10:if(_=s,s+=g,y=g/l,b=_>=l||void 0,!f){t.next=28;break}return t.prev=15,t.next=18,m.getItemDrop(h,a,i+1);case 18:D=t.sent,D.forEach((function(t){t.rate*=b?0:y,t.prob*=y,t.isOverProb=b})),d.push.apply(d,Object(r["a"])(D)),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](15),d.push({count:v,cutoff:_,itemId:-1,rate:b?0:y,prob:g,isOverProb:b,depth:i});case 26:t.next=29;break;case 28:d.push({count:v,cutoff:_,itemId:h,rate:b?0:y,prob:g,isOverProb:b,depth:i});case 29:case"end":return t.stop()}}),t,null,[[15,23]])})),p=1;case 11:if(!(p<=20)){t.next=19;break}return t.delegateYield(u(p),"t0",13);case 13:if(f=t.t0,"continue"!==f){t.next=16;break}return t.abrupt("continue",16);case 16:++p,t.next=11;break;case 19:return t.abrupt("return",d);case 20:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()}]),t}();e["b"]=new d},"3da1":function(t,e,a){},"49f8":function(t,e,a){"use strict";a("3da1")},"53d4":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-list",attrs:{long:t.isLong}},[t._t("default"),0===t.count?t._t("empty",[t._m(0)]):t._e()],2)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty"},[a("span",{staticClass:"desc"},[t._v("列表里无任何物品")])])}],n=(a("a9e3"),a("2b0e")),s=n["a"].extend({props:{count:{type:Number}},computed:{isLong:function(){return this.count>6}}}),o=s,c=(a("de79"),a("2877")),l=Object(c["a"])(o,r,i,!1,null,"a4b37af2",null);e["a"]=l.exports},5713:function(t,e,a){t.exports=a.p+"img/open.2018282d.svg"},"6a4b":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"itemdrop"},[t.loading?a("div",{staticClass:"loading"},[a("load-indicator",{attrs:{loadText:"正在加载掉落"}})],1):t._e(),t.error?a("div",{staticClass:"error"},[t._v(" "+t._s(t.error)+" ")]):t._e(),t.drops?a("div",[a("responsive-card-list",{attrs:{count:t.drops.length}},[t._l(t.drops,(function(t,e){return a("responsive-card-list-entry",{key:e},[a("item-card",{class:{over:t.isOverProb},attrs:{itemId:t.itemId,itemStub:t.item,count:t.count,rate:t.rate}})],1)})),t.nothingChance>0?a("responsive-card-list-entry",[a("div",{staticClass:"nothing-card"},[a("div",{staticClass:"head"},[t._v(t._s(t._f("percent")(t.nothingChance))+"% 概率无掉落")])])]):t._e()],2)],1):t._e()])},i=[],n=(a("13d5"),a("a9e3"),a("96cf"),a("1da1")),s=a("2b0e"),o=a("53d4"),c=a("b461"),l=a("3b64"),d=s["a"].extend({components:{ResponsiveCardList:o["a"],ResponsiveCardListEntry:c["a"]},props:{dropId:{type:Number},dropsItem:{}},data:function(){return{loading:!1,drops:[],error:""}},watch:{dropId:function(){this.load()}},computed:{nothingChance:function(){if(this.loading)return 0;var t=this.drops.reduce((function(t,e){return e.prob+t}),0);if(t<l["a"]){var e=l["a"]-t;return e/l["a"]}return 0}},mounted:function(){this.load()},methods:{load:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.loading=!0,t.error="",!t.dropsItem){e.next=7;break}t.drops=t.dropsItem,e.next=11;break;case 7:return t.drops=[],e.next=10,l["b"].getItemDrop(t.dropId);case 10:t.drops=e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),t.error=String(e.t0);case 16:return e.prev=16,t.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})))()}}}),u=d,p=(a("49f8"),a("2877")),f=Object(p["a"])(u,r,i,!1,null,"2497b54a",null);e["a"]=f.exports},"6ac47":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-toolkit-index"},[a("go-back"),a("div",{staticClass:"kit-list"},[t.loading?a("div",[a("load-indicator",{attrs:{loadText:"正在加载中"}})],1):t._e(),1==t.routeName&&t.indexData?[a("item-drop-index",{attrs:{indexData:t.indexData.Dungeon}})]:2==t.routeName&&t.indexData?[a("item-drop-index",{attrs:{indexData:t.indexData.requestBoard}})]:3==t.routeName&&t.indexData?[a("item-drop-index",{attrs:{indexData:t.indexData.week}})]:4==t.routeName&&t.indexData?[a("item-drop-index",{attrs:{indexData:t.indexData.special}})]:5==t.routeName&&t.indexData?[a("item-drop-index",{attrs:{indexData:t.indexData.balance}})]:6==t.routeName&&t.indexData?[a("item-drop-index",{attrs:{indexData:t.indexData.event}})]:7==t.routeName&&t.indexData?[a("item-drop-index",{attrs:{indexData:t.indexData.dragon}})]:t._e()],2)],1)},i=[],n=(a("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"itemdropgroup"},[t.loading?r("div",{staticClass:"loading"},[r("load-indicator",{attrs:{loadText:"加载基础奖励"}})],1):t._e(),this.displayName?r("h3",[t._v(t._s(this.displayName))]):t._e(),t.floors.length>0?[r("div",{staticStyle:{margin:"10px 0"}},[t._v(" 请选择楼层掉落 "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.floorSelected,expression:"floorSelected"}],ref:"floorNum",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.floorSelected=e.target.multiple?a:a[0]},t.watchChange]}},[r("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}}),t._l(t.floors,(function(e,a){return r("option",{key:a,domProps:{value:e}},[t._v(t._s(t._f("floorName")(e)))])}))],2)])]:t._e(),t.groups?r("div",{directives:[{name:"show",rawName:"v-show",value:t.groups[0].entries.length>0,expression:"groups[0].entries.length > 0"}],staticStyle:{"margin-bottom":"20px"}},[r("div",{staticClass:"drop-title"},[r("h4",[t._v("基础掉落")]),r("img",{directives:[{name:"show",rawName:"v-show",value:t.isOpenBaseDrop,expression:"isOpenBaseDrop"}],staticStyle:{cursor:"pointer"},attrs:{src:a("5713"),alt:""},on:{click:function(e){t.isOpenBaseDrop=!t.isOpenBaseDrop}}}),r("img",{directives:[{name:"show",rawName:"v-show",value:!t.isOpenBaseDrop,expression:"!isOpenBaseDrop"}],staticStyle:{cursor:"pointer"},attrs:{src:a("bf37"),alt:""},on:{click:function(e){t.isOpenBaseDrop=!t.isOpenBaseDrop}}})]),r("collapse-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpenBaseDrop,expression:"isOpenBaseDrop"}],staticClass:"group-list"},t._l(t.groups,(function(e){return r("div",{key:e.difficulty,staticClass:"group-entry"},[r("div",{staticClass:"drop-entry-list"},t._l(e.entries,(function(e,a){return r("div",{key:a,staticClass:"drop-entry"},[r("p",[e.expectation>=1?r("span",[t._v(" 掉落"),r("strong",[t._v(t._s(Math.floor(e.expectation))+"x")]),e.expectation!=Math.floor(e.expectation)?r("span",[t._v(" + "),r("strong",[t._v(t._s(t._f("rate")(e.expectation-Math.floor(e.expectation)))+"%")]),t._v(" 概率额外掉落 ")]):t._e()]):r("span",[r("strong",[t._v(t._s(t._f("rate")(e.expectation))+"%")]),t._v("掉落 ")]),r("span",{staticClass:"iid"},[t._v("#"+t._s(e.dropId))]),1==e.ftg?r("span",{staticClass:"ftg-boost"},[t._v("支持疲劳值燃烧效果")]):t._e(),0==e.PropertyDrop?r("span",{staticClass:"property-drop"},[t._v("队伍需roll")]):t._e()]),r("div",{staticClass:"item-list"},t._l(e.items,(function(t,e){return r("div",{key:e,staticClass:"entry"},[r("item-card",{attrs:{itemId:t.item.id,itemStub:t.item,count:t.count,timeLimit:t.durationDays,goldAmt:t.gold/1e4,rate:t.rate}})],1)})),0)])})),0)])})),0)])],1):t._e(),r("div",[t.exloading?r("div",{staticClass:"loading"},[r("load-indicator",{attrs:{loadText:"层数加载"}})],1):t._e(),t.floorGroups?r("div",[r("div",{staticClass:"drop-title"},[r("h4",[t._v("层数掉落")]),r("img",{directives:[{name:"show",rawName:"v-show",value:t.isOpenFloorDrop,expression:"isOpenFloorDrop"}],staticStyle:{cursor:"pointer"},attrs:{src:a("5713"),alt:""},on:{click:function(e){t.isOpenFloorDrop=!t.isOpenFloorDrop}}}),r("img",{directives:[{name:"show",rawName:"v-show",value:!t.isOpenFloorDrop,expression:"!isOpenFloorDrop"}],staticStyle:{cursor:"pointer"},attrs:{src:a("bf37"),alt:""},on:{click:function(e){t.isOpenFloorDrop=!t.isOpenFloorDrop}}})]),r("collapse-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpenFloorDrop,expression:"isOpenFloorDrop"}],staticClass:"group-list"},t._l(t.floorGroups,(function(e){return r("div",{key:e.difficulty,staticClass:"group-entry"},[r("div",{staticClass:"drop-entry-list"},t._l(e.entries,(function(e,a){return r("div",{key:a,staticClass:"drop-entry"},[r("p",[r("b",[t._v(t._s(e.difficulty))]),e.expectation>=1?r("span",[t._v(" 掉落"),r("strong",[t._v(t._s(Math.floor(e.expectation))+"x")]),e.expectation!=Math.floor(e.expectation)?r("span",[t._v(" + "),r("strong",[t._v(t._s(t._f("rate")(e.expectation-Math.floor(e.expectation)))+"%")]),t._v(" 概率额外掉落 ")]):t._e()]):r("span",[r("strong",[t._v(t._s(t._f("rate")(e.expectation))+"%")]),t._v("掉落 ")]),r("span",{staticClass:"iid"},[t._v("#"+t._s(e.dropId))]),1==e.ftg?r("span",{staticClass:"ftg-boost"},[t._v("支持疲劳值燃烧效果")]):t._e(),0==e.PropertyDrop?r("span",{staticClass:"property-drop"},[t._v("队伍需roll")]):t._e()]),r("div",{staticClass:"item-list"},t._l(e.items,(function(t,e){return r("div",{key:e,staticClass:"entry"},[r("item-card",{attrs:{itemId:t.item.id,itemStub:t.item,count:t.count,timeLimit:t.durationDays,goldAmt:t.gold/1e4,rate:t.rate}})],1)})),0)])})),0)])})),0)])],1):t._e()]),t.error?r("div",[t._v(" "+t._s(t.error)+" ")]):t._e()],2)}),s=[],o=(a("d3b7"),a("25f0"),a("ddb0"),a("2b0e")),c=a("5489"),l=a("f62c"),d=a("7ea2"),u=(a("ae0c"),a("6a4b")),p=a("5a8f"),f=a("208d"),m="0.3s height ease-in-out, 0.3s padding-top ease-in-out, 0.3s padding-bottom ease-in-out",h={"before-enter":function(t){t.style.transition=m,t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter:function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},"after-enter":function(t){t.style.transition="",t.style.height="",t.style.overflow=t.dataset.oldOverflow},"before-leave":function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},leave:function(t){0!==t.scrollHeight&&(t.style.transition=m,t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},"after-leave":function(t){t.style.transition="",t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}},v={name:"collapseTransition",functional:!0,render:function(t,e){var a=e.children,r={on:h};return t("transition",r,a)}};o["a"].component("item-icon",c["a"]),o["a"].component("item-drop-list",u["a"]),o["a"].component("item-icon-tooltip",l["a"]),o["a"].component("item-card",d["a"]);var g={props:["dropGroupId","displayName","stageClearDropId"],name:"item-drop-group",components:{collapseTransition:v},data:function(){return{loading:!0,groups:null,error:null,filter:f["a"].defaultFilter(),floorGroups:null,exDifficulty:0,exloading:!1,floors:[],floorSelected:"",isOpenBaseDrop:!0,isOpenFloorDrop:!0,cacheArray:[]}},created:function(){0!=this.dropGroupId&&this.fetchData(),0!=this.stageClearDropId&&this.stageClear()},watch:{dropGroupId:function(t){this.isOpenBaseDrop=!0,this.dropGroupId=t,this.floorSelected="",this.exDifficulty=0,this.fetchData()},stageClearDropId:function(t){this.isOpenBaseDrop=!0,this.stageClearDropId=t,this.floorSelected="",this.exDifficulty=0,this.stageClear()}},filters:{floorName:function(t){switch(t){case 4:return"深渊";case 3:return"大师";case 2:return"困难";case 1:return"普通";case 0:return"简单";default:return t-4}}},methods:{fetchData:function(){var t=this;if(this.error=null,this.groups=null,this.floorGroups=null,this.dropGroupId){var e=this.exDifficulty.toString()+this.dropGroupId.toString();if(this.loading=!0,this.cacheArray[e]){this.isOpenBaseDrop=!0;var a=this.cacheArray[e];return this.groups=a,this.loading=!1,this.error=null,this.floors=a.floors,void(0==a[0].entries.length&&a.floors.length>0&&(this.selectFloor(a.floors[0]),this.floorSelected=a.floors[0]))}p["a"].getItemDropGroup(this.dropGroupId,this.exDifficulty,this.$store.state.regionCode,(function(a){t.groups=a,t.loading=!1,t.error=null,t.floors=a.floors,t.cacheArray[e]=a,0==a[0].entries.length&&a.floors.length>0&&(t.selectFloor(a.floors[0]),t.floorSelected=a.floors[0])}),(function(e){t.loading=!1,t.error=e}))}else this.loading=!1},stageClear:function(){var t=this;if(this.error=null,this.groups=null,this.floorGroups=null,this.stageClearDropId){var e=this.exDifficulty.toString()+this.stageClearDropId.toString();if(this.loading=!0,this.cacheArray[e]){var a=this.cacheArray[e];return this.groups=a,this.loading=!1,this.error=null,this.floors=a.floors,void(0==a[0].entries.length&&a.floors.length>0&&(this.selectFloor(a.floors[0]),this.floorSelected=a.floors[0]))}p["a"].getStageClearDrop(this.stageClearDropId,this.exDifficulty,this.$store.state.regionCode,(function(a){t.groups=a,t.loading=!1,t.error=null,t.floors=a.floors,t.cacheArray[e]=a,0==a[0].entries.length&&a.floors.length>0&&(t.selectFloor(a.floors[0]),t.floorSelected=a.floors[0])}),(function(e){t.loading=!1,t.error=e}))}else this.loading=!1},watchChange:function(t){this.selectFloor(t.target.value),this.isOpenBaseDrop=!1,this.isOpenFloorDrop=!0},selectFloor:function(t){var e=this;if(this.dropGroupId||this.stageClearDropId)if(this.exDifficulty=t,this.error=null,this.floorGroups=null,this.exDifficulty)if(0!=this.dropGroupId){this.exloading=!0;var a=this.exDifficulty.toString()+this.dropGroupId.toString();if(this.cacheArray[a]){var r=this.cacheArray[a];return this.floorGroups=r,this.exloading=!1,void(this.error=null)}p["a"].getItemDropGroup(this.dropGroupId,this.exDifficulty,this.$store.state.regionCode,(function(t){e.floorGroups=t,e.cacheArray[a]=t,e.exloading=!1,e.error=null}),(function(t){e.exloading=!1,e.error=t}))}else{this.exloading=!0,this.groups=null;var i=this.exDifficulty.toString()+this.stageClearDropId.toString();if(this.cacheArray[i]){var n=this.cacheArray[i];return this.floorGroups=n,this.exloading=!1,void(this.error=null)}p["a"].getStageClearDrop(this.stageClearDropId,this.exDifficulty,this.$store.state.regionCode,(function(t){e.floorGroups=t,e.cacheArray[i]=t,e.exloading=!1,e.error=null}),(function(t){e.exloading=!1,e.error=t}))}else this.exloading=!1}}},_=g,y=(a("ac93"),a("2877")),b=Object(y["a"])(_,n,s,!1,null,"0a119a40",null),D=b.exports,x=a("e3c0"),C=a("27c7"),I={cache:{dropIndex:""},getDropIndex:function(t,e){var a=this;""==this.cache.dropIndex?C["a"].get("dropIndex.php?lan=cn",{}).then((function(e){a.cache.dropIndex=e.data,t(e.data)}),e):t(this.cache.dropIndex)}},w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-toolkit-index"},[a("div",{staticClass:"kit-list"},[t.indexData?a("div",t._l(t.indexData,(function(e,r){return a("div",{key:r},[t._v(" "+t._s(e.name)+"： "),t._l(e.children,(function(e,r){return a("span",{key:r},[1==e.type?[a("button",{on:{click:function(a){return t.ShowDrops(e.id,e.displayName)}}},[t._v(t._s(e.buttonName))])]:2==e.type?[a("button",{staticClass:"gold-box",on:{click:function(a){return t.ClearDrops(e.id,e.displayName)}}},[t._v(t._s(e.buttonName))])]:3==e.type?[a("button",{staticClass:"sliver-box",on:{click:function(a){return t.ClearDrops(e.id,e.displayName)}}},[t._v(t._s(e.buttonName))])]:4==e.type?[a("button",{on:{click:function(a){return t.Drops(e.id,e.displayName)}}},[t._v(t._s(e.buttonName))])]:t._e()],2)}))],2)})),0):t._e(),0!=t.dropGroupId||0!=t.stageclearDropId?[a("item-drop-group",{attrs:{dropGroupId:t.dropGroupId,displayName:t.displayName,stageClearDropId:t.stageclearDropId}})]:t._e(),0!=t.dropId?[a("item-drop-list",{attrs:{dropId:t.dropId}})]:t._e()],2)])},k=[],O={name:"item-drop-index",props:["indexData"],components:{ItemDropGroup:D,ItemDropList:u["a"]},data:function(){return{dropGroupId:0,displayName:"",stageclearDropId:0,dropId:0}},methods:{ShowDrops:function(t,e){this.dropId=0,this.stageclearDropId=0,this.dropGroupId=t,this.displayName=e},ClearDrops:function(t,e){this.dropId=0,this.dropGroupId=0,this.stageclearDropId=t,this.displayName=e},Drops:function(t,e){this.dropId=t,this.stageclearDropId=0,this.dropGroupId=0,this.displayName=e}}},S=O,N=(a("76fa"),Object(y["a"])(S,w,k,!1,null,"ab9af9e6",null)),j=N.exports,R={components:{ItemDropGroup:D,GoBack:x["a"],ItemDropList:u["a"],ItemDropIndex:j},computed:{routeName:function(){switch(this.$route.name){case"item-drop-dungeon":return 1;case"item-drop-requestBorard":return 2;case"item-drop-weekDungeon":return 3;case"item-drop-specialDungeon":return 4;case"item-drop-balanceDungeon":return 5;case"item-drop-eventDungeon":return 6;case"item-drop-dragon":return 7;default:break}}},data:function(){return{indexData:null,loading:!0}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;I.getDropIndex((function(e){t.indexData=e,t.loading=!1}),(function(t){console.log(t)}))}}},G=R,L=Object(y["a"])(G,r,i,!1,null,null,null);e["default"]=L.exports},"6ebb":function(t,e,a){"use strict";a("99af"),a("a15b"),a("96cf");var r=a("1da1"),i=a("d4ec"),n=a("bee2"),s=a("27c7"),o=a("3a0b"),c=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,[{key:"getTableSchema",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this._ensureRegion(a),t.next=3,s["a"].get("/server/".concat(a,"/tables/").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getTableRow",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a,r,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=this._ensureRegion(r),t.next=3,s["a"].get("table.php?lan=".concat(r,"&id=").concat(a,"&table=").concat(e),{});case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,r,i){return t.apply(this,arguments)}return e}()},{key:"getTableRows",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a,r,i){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=this._ensureRegion(r),t.next=3,s["a"].get("/server/".concat(r,"/tables/").concat(e,"/").concat(a.join(",")),{params:{uiresolve:i&&i.uiresolve?i.uiresolve.join(","):void 0,fileresolve:i&&i.fileresolve?i.fileresolve.join(","):void 0,select:i&&i.select?i.select.join(","):void 0,limit:i&&i.limit?i.limit:void 0}});case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,r,i){return t.apply(this,arguments)}return e}()},{key:"getTableRowIdsMatching",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a,r,i,n){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this._ensureRegion(n),t.next=3,s["a"].get("/server/".concat(n,"/tables/").concat(e,"/columns/").concat(a,"/").concat(r,"/").concat(i));case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,r,i,n){return t.apply(this,arguments)}return e}()},{key:"getTableRowsMatching",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a,r,i,n,o){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this._ensureRegion(n),t.next=3,s["a"].get("/table.php?lan=".concat(n,"&id=").concat(i,"&table=").concat(e),{params:{uiresolve:o&&o.uiresolve?o.uiresolve.join(","):void 0,fileresolve:o&&o.fileresolve?o.fileresolve.join(","):void 0,select:o&&o.select?o.select.join(","):void 0,limit:o&&o.limit?o.limit:void 0}});case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,r,i,n,s){return t.apply(this,arguments)}return e}()},{key:"getTable",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var r,i,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=n.length>2&&void 0!==n[2]?n[2]:9e3,a=this._ensureRegion(a),t.next=4,s["a"].get("/server/".concat(a,"/tables/").concat(e),{params:{limit:r}});case 4:return i=t.sent,t.abrupt("return",i.data);case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"_ensureRegion",value:function(t){return t||o["a"].state.regionCode}}]),t}();e["a"]=new c},"6fd2":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var r=a("3a0b");function i(t){return t||r["a"].state.regionCode}},"76fa":function(t,e,a){"use strict";a("befa")},"7ea2":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.valid?a("div",{staticClass:"item-card"},[t.noLink?a("div",{on:{click:t.onClick}},[a("transition",{attrs:{name:"fade"}},[t.loading?a("div",{staticClass:"loading"},[a("div",{staticClass:"loader-box"},[a("div",{staticClass:"loader"}),a("div",{staticClass:"label"},[t._v("Loading #"+t._s(t.itemId))])])]):t._e()]),a("transition",{attrs:{name:"fade"}},[t.loading?t._e():a("div",{staticClass:"entry"},[a("div",{staticClass:"icon"},[a("item-icon",{staticClass:"centering",attrs:{iconIndex:t.itemData.iconIndex,rank:t.itemData.rank,count:t.stackSize,type:t.itemData.type.type}})],1),t.rate?a("div",{staticClass:"rate"},[t._v(" "+t._s(t._f("rate")(t.rate))+"% ")]):t._e(),a("div",{staticClass:"title"},[a("div",{staticClass:"remark"},[a("span",{staticClass:"iid"},[t._v("#"+t._s(t.itemId))])]),a("div",{staticClass:"head"},[t.goldAmt?a("span",[t._v(t._s(t._f("thousands")(t.goldAmt)))]):t._e(),t._v(" "+t._s(t.name)+" ")]),a("div",{staticClass:"remark"},[t.itemData.level>1?a("span",{staticClass:"level"},[t._v(t._s(t.itemData.level)+" ")]):t._e(),t.itemData.tier?a("span",{staticClass:"tier",domProps:{innerHTML:t._s(t.itemData.tier+" ")}}):t._e(),a("span",{class:"rank-"+t.itemData.rank.toLowerCase()},[t._v(t._s(t._f("rankname")(t.itemData.rank))+" ")]),t.timeLimit?a("span",[t._v(t._s(t.timeLimit)+"-天 ")]):t.itemData.durationDays?a("span",[t._v(t._s(t.itemData.durationDays)+"-天 ")]):t._e(),t.canUse?a("span",{staticClass:"can-use"},[t._v(t._s(t.canUse)+" ")]):t._e(),t.itemData.cashItem?a("span",{staticClass:"cash"},[t._v("点券 ")]):t._e(),t._v(" "+t._s(t.category)+" ")])]),t.potentialNum?a("div",{staticClass:"potential"},[a("div",{staticClass:"wrapper"},[t._v(" Option "),t._l(t.potentialStatList,(function(e){return a("div",{key:e.abbv,staticClass:"potential-entry"},[t._v(" "+t._s(e.abbv)+" ")])}))],2)]):t._e()])])],1):a("router-link",{attrs:{to:{path:"/items/"+t.itemEasyUrl,query:t.itemQuery}}},[a("transition",{attrs:{name:"fade"}}),a("transition",{attrs:{name:"fade"}},[t.loading?t._e():a("div",{staticClass:"entry"},[a("div",{staticClass:"icon"},[a("item-icon",{staticClass:"centering",attrs:{iconIndex:t.itemData.iconIndex,rank:t.itemData.rank,count:t.stackSize,type:t.itemData.type.type}})],1),t.rate?a("div",{staticClass:"rate"},[t._v(" "+t._s(t._f("rate")(t.rate))+"% ")]):t._e(),a("div",{staticClass:"title"},[a("div",{staticClass:"remark"},[a("span",{staticClass:"iid"},[t._v("#"+t._s(t.itemId))])]),a("div",{staticClass:"head"},[t.goldAmt?a("span",[t._v(t._s(t._f("thousands")(t.goldAmt)))]):t._e(),t._v(" "+t._s(t.name)+" ")]),a("div",{staticClass:"remark"},[t.itemData.level>1?a("span",{staticClass:"level"},[t._v(t._s(t.itemData.level)+" ")]):t._e(),t.itemData.tier?a("span",{staticClass:"tier",domProps:{innerHTML:t._s(t.itemData.tier+" ")}}):t._e(),a("span",{class:"rank-"+t.itemData.rank.toLowerCase()},[t._v(t._s(t._f("rankname")(t.itemData.rank))+" ")]),t.timeLimit?a("span",[t._v(t._s(t.timeLimit)+"-天 ")]):t.itemData.durationDays?a("span",[t._v(t._s(t.itemData.durationDays)+"-天 ")]):t._e(),t.canUse?a("span",{staticClass:"can-use"},[t._v(t._s(t.canUse)+" ")]):t._e(),t.itemData.cashItem?a("span",{staticClass:"cash"},[t._v("点券 ")]):t._e(),t._v(" "+t._s(t.category)+" ")]),t.seafishLength?a("div",{staticClass:"skill"},[t._v(" "+t._s(t.seafishLength)+"cm ")]):t._e(),t.itemData.skillInfo?a("div",{staticClass:"skill"},[t.itemData.skillInfo.name?a("span",[t._v(" "+t._s(t.itemData.skillInfo.name.message)+" ")]):a("span",[t._v(" Skill "+t._s(t.itemData.skillInfo.id)+" ")]),t.itemData.skillInfo.job?a("span",{staticClass:"job"},[t._v(" ("+t._s(t.itemData.skillInfo.job.displayName)+") ")]):t._e()]):t._e()]),t.potentialNum?a("div",{staticClass:"potential"},[a("div",{staticClass:"wrapper"},[t._v(" Option "),t._l(t.potentialStatList,(function(e){return a("div",{key:e.abbv,staticClass:"potential-entry"},[t._v(" "+t._s(e.abbv)+" ")])}))],2)]):t._e()])])],1)],1):t._e()},i=[],n=(a("4de4"),a("a15b"),a("d81d"),a("fb6a"),a("b0c0"),a("2b0e")),s=a("5489"),o=a("ae0c"),c=a("5a8f");n["a"].component("item-icon",s["a"]);var l={props:["itemId","count","itemStub","noLink","onClick","timeLimit","goldAmt","potentialNum","rate"],name:"item-card",data:function(){return{stackSize:0,loading:!0,itemData:null,valid:!0}},created:function(){this.fetchData()},watch:{itemId:function(t,e){t!=e&&this.fetchData()},count:function(t,e){t!=e&&(this.stackSize=t)}},computed:{seafishLength:function(){return 175===this.itemData.type.typeId&&this.itemData.type.weight},name:function(){if(this.itemData.name){if(this.itemData.name.name&&this.itemData.name._NameID)return this.itemData.name.name;if(this.itemData.name._NameID)return"Item MID: "+this.itemData.name._NameID}return"未知物品"+this.itemId},canUse:function(){return this.itemData.needClass?this.itemData.needClass.filter((function(t){return 0!=t.id})).map((function(t){return t.displayName})).join("/​"):null},category:function(){return c["a"].getItemDetailedCategory(this.itemData)},statSet:function(){return o["a"].joinStatSet(this.itemData.stats)},itemQuery:function(){var t={};return this.potentialNum&&(t.potential=this.potentialNum),t},potentialStatList:function(){if(!this.itemData.potentials||!this.potentialNum)return[];var t=this.itemData.potentials;for(var e in t){var a=t[e];if(a.potentialNumber==this.potentialNum){var r=[],i=a.states,n={};for(var s in i){var c=i[s].state,l=o["a"].getStateInfo(c);l.minmax&&(c=l.minmax,l=o["a"].getStateInfo(c)),n[c]||(n[c]=l,r.push(l))}return r.slice(0,Math.min(3,r.length))}}},itemEasyUrl:function(){return c["a"].itemEasyUrl(this.itemId,this.itemData?this.itemData:this.itemStub)}},methods:{fetchData:function(){var t=this;if(this.loading=!0,this.itemData=null,this.stackSize=this.count,this.valid=!0,this.itemStub)return this.itemData=this.itemStub,this.itemStub.count&&(this.stackSize=this.itemStub.count),this.itemData.type?void(this.loading=!1):void(this.valid=!1);c["a"].getItem(this.itemId,this.$store.state.regionCode,(function(e){t.itemData=e,t.loading=!1}),(function(t){}))}}},d=l,u=(a("18f1"),a("2877")),p=Object(u["a"])(d,r,i,!1,null,"58fa4d7b",null);e["a"]=p.exports},"88f1":function(t,e,a){},a27d:function(t,e,a){},ac93:function(t,e,a){"use strict";a("a27d")},b461:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-list-entry",attrs:{narrow:t.narrow}},[t._t("default")],2)},i=[],n=a("2b0e"),s=n["a"].extend({props:{narrow:{type:Boolean}}}),o=s,c=(a("fe73"),a("2877")),l=Object(c["a"])(o,r,i,!1,null,"83cab26c",null);e["a"]=l.exports},befa:function(t,e,a){},bf37:function(t,e,a){t.exports=a.p+"img/close.3c98b7b4.svg"},d249:function(t,e,a){},d58f:function(t,e,a){var r=a("1c0b"),i=a("7b0b"),n=a("44ad"),s=a("50c4"),o=function(t){return function(e,a,o,c){r(a);var l=i(e),d=n(l),u=s(l.length),p=t?u-1:0,f=t?-1:1;if(o<2)while(1){if(p in d){c=d[p],p+=f;break}if(p+=f,t?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:u>p;p+=f)p in d&&(c=a(c,d[p],p,l));return c}};t.exports={left:o(!1),right:o(!0)}},de79:function(t,e,a){"use strict";a("e708")},e708:function(t,e,a){},fe73:function(t,e,a){"use strict";a("88f1")}}]);
//# sourceMappingURL=drop-view.75b5bc19.js.map