(function(t){function e(e){for(var n,r,c=e[0],o=e[1],m=e[2],u=0,l=[];u<c.length;u++)r=c[u],i[r]&&l.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);_&&_(e);while(l.length)l.shift()();return s.push.apply(s,m||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,c=1;c<a.length;c++){var o=a[c];0!==i[o]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={embedShop:0,"Appellation~Event~GameInfo~appellation~cash~drop-view~event~farm~gameinfo~guild~items~old-items":0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var m=0;m<c.length;m++)e(c[m]);var _=o;s.push([5,"chunk-vendors","chunk-common"]),a()})({"04c5":function(t,e,a){},"063f":function(t,e,a){"use strict";a("3440")},"09f6":function(t,e,a){"use strict";a("490d")},"18f1":function(t,e,a){"use strict";a("d249")},"343a":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"points"},[t.pointData?a("div",[t.big?a("div",{staticClass:"big icon",style:"background-image: url("+t.url+"); background-position: -"+t.coords.x+"px -"+t.coords.y+"px;"}):a("div",{staticClass:"icon",style:"background:url("+t.url+") -"+.75*t.coords.x/2+"px -"+.75*t.coords.y/2+"px; background-size: 800% 800%;"}),t.hideText?t._e():a("span",{staticClass:"pts"},[t.amount?a("span",[t._v(t._s(t._f("thousands")(t.amount))+" ")]):t._e(),t.hideName?t._e():a("span",[t._v(t._s(t.pointData.name))])]),t.noTip?t._e():a("div",{staticClass:"point-tooltip"},[a("h2",[a("div",{staticClass:"icon",style:"background:url("+t.url+") -"+.75*t.coords.x/2+"px -"+.75*t.coords.y/2+"px; background-size: 800% 800%;"}),t._v(" "+t._s(t.pointData.name)+" ")]),a("div",{domProps:{innerHTML:t._s(t.pointData.desc)}})])]):t.amount?a("div",[t.big?a("div",{staticClass:"big icon"}):a("div",{staticClass:"icon"}),t.hideText?t._e():a("span",{staticClass:"pts"},[t.amount?a("span",[t._v(t._s(t._f("thousands")(t.amount)))]):t._e()])]):t._e()])},i=[],s=(a("99af"),a("d3b7"),a("acc2")),r=a("27c7"),c={cache:{},requests:{},getPointIconCoordinates:function(t){var e=Math.floor(t/8),a=t%8,n=64,i={x:n*a,y:n*e,size:n};return i},getPointIconUrl:function(t){return"".concat(r["a"].defaults.resourceURL,"/dds/pointicon.png")},getPoint:function(t,e){var a=this;e=Object(s["c"])(e);var n="".concat(t,":").concat(e);if(this.cache[n])return Promise.resolve(this.cache[n]);if(this.requests[n])return this.requests[n];var i=r["a"].get("table.php?lan=".concat(e,"&id=").concat(t,"&table=point"),{}).then((function(t){return a.cache[n]=t.data,delete a.requests[n],t.data}),(function(t){return delete a.requests[n],Promise.reject(t)}));return this.requests[n]=i,i}},o={props:["pointId","amount","hideText","hideName","big","noTip"],data:function(){return{pointData:null,coords:null,url:c.getPointIconUrl(this.$store.state.regionCode)}},created:function(){this.fetchData()},watch:{pointId:function(t,e){t!=e&&this.fetchData()}},methods:{fetchData:function(){var t=this;c.getPoint(this.pointId,this.$store.state.regionCode).then((function(e){t.coords=c.getPointIconCoordinates(e.iconIndex),t.pointData=e}),(function(t){console.error(t)}))}}},m=o,_=(a("09f6"),a("2877")),u=Object(_["a"])(m,n,i,!1,null,null,null);e["a"]=u.exports},3440:function(t,e,a){},"3b55":function(t,e,a){"use strict";a("04c5")},"490d":function(t,e,a){},4925:function(t,e,a){"use strict";a("9359")},5:function(t,e,a){t.exports=a("a498")},5489:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-icon",attrs:{title:t.iconIndex}},[t.enhanceLvl>0?a("div",{staticClass:"enhance"},[t._v(t._s(t.enhanceLvl))]):t._e(),t.count>1?a("div",{staticClass:"count"},[t._v(t._s(t._f("thousands")(t.count)))]):t._e(),a("div",{staticClass:"item",style:"background:url("+t.iconData.url+") -"+t.iconData.x+"px -"+t.iconData.y+"px"}),a("div",{staticClass:"overlay",style:"background:url("+t.slotData.url+") -"+t.slotData.x+"px -"+t.slotData.y+"px"})])},i=[],s=a("5a8f"),r={props:["iconIndex","rank","type","count","enhanceLvl"],computed:{iconData:function(){var t=s["a"].getIconCoordinates(this.iconIndex);return t.url=s["a"].getItemIconPageUrl(t.page,this.$store.state.regionCode),t},slotData:function(){var t=s["a"].getSlotOverlay(this.rank,this.type,this.$store.state.regionCode);return t}}},c=r,o=(a("ef94"),a("2877")),m=Object(o["a"])(c,n,i,!1,null,"6b6c2116",null);e["a"]=m.exports},"5a8f":function(t,e,a){"use strict";a("99af"),a("c975"),a("a15b"),a("b0c0"),a("a9e3"),a("ac1f"),a("5319"),a("498a");var n=a("acc2"),i=a("27c7");e["a"]={cache:{},setCache:{},enhCache:{},tunerCache:{},tuningCache:{},acquireCache:{},getItem:function(t,e,a,s){var r=this;e=Object(n["c"])(e);var c="".concat(t,":").concat(e);this.cache[c]?a(this.cache[c]):i["a"].get("item.php?lan=".concat(e,"&id=").concat(t),{}).then((function(t){r.cache[c]=t.data,a(t.data)}),s)},getItemTunings:function(t,e,a,s){var r=this;e=Object(n["c"])(e);var c="".concat(t,":").concat(e);this.tuningCache[c]?a(this.tuningCache[c]):i["a"].get("tuning.php?lan=".concat(e,"&id=").concat(t),{}).then((function(t){r.tuningCache[c]=t.data,a(t.data)}),s)},getItemAcquire:function(t,e,a,s){var r=this;e=Object(n["c"])(e);var c="".concat(t,":").concat(e);this.acquireCache[c]?a(this.acquireCache[c]):i["a"].get("acquire.php?lan=".concat(e,"&id=").concat(t),{}).then((function(t){r.acquireCache[c]=t.data,a(t.data)}),s)},getItemSet:function(t,e,a,s,r){var c=this;a=Object(n["c"])(a);var o="".concat(t,":").concat(a);this.setCache[o]?s(this.setCache[o]):i["a"].get("itemset.php?lan=".concat(a,"&id=").concat(t),{params:{jobs:e&&e.length?e.join(","):void 0}}).then((function(t){c.setCache[o]=t.data,s(t.data)}),r)},getIconCoordinates:function(t){var e=Math.floor(Number(t)/200)+1,a=t%200,n=Math.floor(a/10),i=a%10,s=50,r={page:e,x:Math.max(s*i,0),y:s*n,size:s};return r},getItemIconPageUrl:function(t,e){var a;return e=Object(n["c"])(e),a=t<10?"0"+t:t,"".concat(i["a"].defaults.resourceURL,"/dds/itemicon").concat(a,".png")},getSlotOverlay:function(t,e,a){a=Object(n["c"])(a);var s=52,r={url:"".concat(i["a"].defaults.resourceURL,"/dds/uit_itemslotbutton.png"),x:0,y:0},c="WEAPON"===e||"PARTS"===e;return"NORMAL"!==t&&0!==t||(c?(r.x=0*s,r.y=0*s):(r.x=2*s,r.y=2*s)),"MAGIC"!==t&&1!==t||(c?(r.x=6*s,r.y=1*s):(r.x=0*s,r.y=1*s)),"RARE"!==t&&2!==t||(c?(r.x=6*s,r.y=2*s):(r.x=6*s,r.y=0*s)),"EPIC"!==t&&3!==t||(c?(r.x=7*s,r.y=2*s):(r.x=8*s,r.y=3*s)),"UNIQUE"!==t&&4!==t||(c?(r.x=7*s,r.y=3*s):(r.x=0*s,r.y=2*s)),"LEGENDARY"!==t&&5!==t||(r.x=5*s,r.y=3*s),"DIVINE"!==t&&6!==t||(c?(r.x=4*s,r.y=1*s):(r.x=1*s,r.y=2*s)),"ANCIENT"!==t&&7!==t||(c?(r.x=1*s,r.y=3*s):(r.x=0*s,r.y=3*s)),r},getEnhancementInfo:function(t,e,a,s){var r=this;e=Object(n["c"])(e);var c="blacksmith:".concat(t,":").concat(e);this.enhCache[c]?a(this.enhCache[c]):i["a"].get("enhance.php?lan=".concat(e,"&id=").concat(t),{}).then((function(t){r.enhCache[c]=t.data,a(t.data)}),s)},getMobileEnchantInfo:function(t,e,a,s){var r=this;e=Object(n["c"])(e);var c="mobile:".concat(t,":").concat(e);this.enhCache[c]?a(this.enhCache[c]):i["a"].get("mobileEnchant.php?lan=".concat(e,"&id=").concat(t),{}).then((function(t){r.enhCache[c]=t.data,a(t.data)}),s)},getTunerInfo:function(t,e,a,s){var r=this;e=Object(n["c"])(e);var c="".concat(t,":").concat(e);this.tunerCache[c]?a(this.tunerCache[c]):i["a"].get("tuner.php?lan=".concat(e,"&id=").concat(t),{}).then((function(t){r.tunerCache[c]=t.data,a(t.data)}),s)},getItemTunerInfo:function(t,e,a,s){e=Object(n["c"])(e),i["a"].get("server/".concat(e,"/items/").concat(t,"/tuning"),{}).then((function(t){a(t.data)}),s)},getItemSetForItem:function(t,e,a,s,r){a=Object(n["c"])(a),i["a"].get("server/".concat(a,"/items/").concat(t,"/set"),{params:{jobs:e.join(",")}}).then((function(t){s(t.data)}),r)},getItemDetailedCategory:function(t){var e=t.type.type;switch(e){case"QUEST":return"任务物品";case"ENHANCEMENT_HAMMER":return"强化锤子";case"HAIRDYE":return"染发剂";case"SKINDYE":return"肤色";case"CONTACT_LENS":return"瞳孔色";case"PET_ALICORN":return"宠物号角";case"ENCHANT_JELLY":return"保护药";case"WORLD_BIRD":return"鸟";case"DNP_COUPON":return"龙币券";case"SKILL_RESET_SCROLL":case"UNLIMITED_RESET_SCROLL":return"技能重置物";case"EXP_SCROLL":return"经验物品";case"VEHICLE":case"VEHICLE_MULTI_MOUNT":return"坐骑";case"TALISMAN_SLOT_EXPANSION":return"扩展道具";case"UNSEAL_INCR_AND_WARRANTY":return"鉴定书";case"MERCENARY_EXP_POTION":case"MERC_EXPLORATION_AWAKENING_POTION":return"佣兵药水";case"ITEM_TUNER":return"物品转换器";case"HERO_LEVEL_EXP_POTION":return"英雄经验药水";case"HERO_LEVEL_JUMP_TO_LEVEL":return"英雄等级跳级";case"HERO_LEVEL_EXP_SCROLL":return"英雄等级跳级";case"FORTUNE_COIN_POINTS":return"点数";case"ITEM_DROP_POUCH":return"随机袋子";case"ITEM_DROP_DUAL_POUCH":return"1到2个随机物袋子";case"MULTI_ITEM_DROP_POUCH":return"袋子";case"HERO_POUCH":return"职业物品袋子";case"RANDOM":return"随机掉落袋子";case"TITLE":return"称号";case"DUAL_SKILL_TREE_EXPANSION":return"技能树扩展书"}if(t.category&&t.category.name){var a=t.category.name;return"CREST"===e?a+" 纹章":"CROP"===e?"收割 "+a+" 庄稼":a}switch(t.type.typeId){case 142:return"altera box"}return"道具"},getCharm:function(t,e,a,s){e=Object(n["c"])(e),i["a"].get("charm.php?lan=".concat(e,"&id=").concat(t),{}).then((function(t){a(t.data)}),s)},getRandom:function(t,e,a,n){this.getItemDrop(t,e,a,n)},getItemDrop:function(t,e,a,s){e=Object(n["c"])(e),i["a"].get("table.php?lan=".concat(e,"&id=").concat(t,"&table=itemdropInfo"),{}).then((function(t){a(t.data)}),s)},getItemDropGroup:function(t,e,a,s,r){a=Object(n["c"])(a),i["a"].get("itemdropgroup.php?lan=".concat(a,"&id=").concat(t,"&difficulty=").concat(e),{}).then((function(t){s(t.data)}),r)},getStageClearDrop:function(t,e,a,s,r){a=Object(n["c"])(a),i["a"].get("stageclearDrop.php?lan=".concat(a,"&id=").concat(t,"&difficulty=").concat(e),{}).then((function(t){s(t.data)}),r)},getBulk:function(t,e,a,s){var r=t.page,c=t.size,o=t.query,m=e.region;function _(t,e){for(var a in t){var n=t[a];if(e(n))return!0}return!1}m=Object(n["c"])(m);var u=!1,l=!1,d=!1;if(o&&(l=_(o.grades,(function(t){return!t})),d=_(o.type,(function(t){return!t})),u=u||o.nameSearch,u=u||o.minLevel>0,u=u||100!=o.maxLevel,u=u||l,u=u||d),u){var p={p:r,sz:c};if(o.nameSearch&&(p.name=o.nameSearch),o.minLevel&&(p.lmin=o.minLevel),100!=o.maxLevel&&(p.lmax=o.maxLevel),l){var A="";for(var E in o.grades)o.grades[E]&&(A+=E.substr(0,1));p.g=A}if(d){var v="";for(var h in o.type)if(o.type[h])switch(h){case"weapon":v+="1,2,";break;case"parts":v+="3,4,5,6,7,8,9,10,";break;case"crest":v+="33,34,35,56,";break;case"dragonGem":v+="54,55,";break;case"talisman":v+="52,";break;case"fairy":v+="29,";break;case"wtd":v+="26,27,28,";break;case"source":v+="51,";break;case"buff":v+="11,";break;case"vehicle":v+="47,";break;case"mercenary":v+="74,";break;case"title":v+="71,";break;default:break}p.t=v}i["a"].get("itemsearch.php?lan=".concat(m),{params:p}).then((function(t){a(t.data)}),s)}else i["a"].get("itemsearch.php?lan=".concat(m),{params:{p:r,sz:c}}).then((function(t){a(t.data)}),s)},itemEasyUrl:function(t,e){var a="".concat(t);if(e){if(e.level>1&&(a+="-L".concat(e.level)),e.rank)switch(e.rank){case"NORMAL":a+="-D";break;case"MAGIC":a+="-C";break;case"RARE":a+="-B";break;case"EPIC":a+="-A";break;case"UNIQUE":a+="-S";break;case"LEGENDARY":a+="-L";break;case"DIVINE":a+="-R";break;case"ANCIENT":a+="-Q";break;default:break}e.tier&&(-1!=e.tier.indexOf(" 1")?a+="-T1":-1!=e.tier.indexOf(" 2")&&(a+="-T2")),e.name.name&&(a+="-".concat(e.name.name.substr(0,40).trim().replace(/\s|\.|\/|\?/g,"-").replace(/[%]/g,"").replace(/--/g,"-")))}return a},rarityCompare:function(t,e){var a={NORMAL:0,MAGIC:1,RARE:2,EPIC:3,UNIQUE:4,LEGENDARY:5,DIVINE:6},n=a[t.rank],i=a[e.rank];return n-i},getItemChatLink:function(t){}}},"6ebb":function(t,e,a){"use strict";a("99af"),a("a15b"),a("96cf");var n=a("1da1"),i=a("d4ec"),s=a("bee2"),r=a("27c7"),c=a("3a0b"),o=function(){function t(){Object(i["a"])(this,t)}return Object(s["a"])(t,[{key:"getTableSchema",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this._ensureRegion(a),t.next=3,r["a"].get("/server/".concat(a,"/tables/").concat(e));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"getTableRow",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,n,i){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this._ensureRegion(n),t.next=3,r["a"].get("table.php?lan=".concat(n,"&id=").concat(a,"&table=").concat(e),{});case 3:return s=t.sent,t.abrupt("return",s.data);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,n,i){return t.apply(this,arguments)}return e}()},{key:"getTableRows",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,n,i){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this._ensureRegion(n),t.next=3,r["a"].get("/server/".concat(n,"/tables/").concat(e,"/").concat(a.join(",")),{params:{uiresolve:i&&i.uiresolve?i.uiresolve.join(","):void 0,fileresolve:i&&i.fileresolve?i.fileresolve.join(","):void 0,select:i&&i.select?i.select.join(","):void 0,limit:i&&i.limit?i.limit:void 0}});case 3:return s=t.sent,t.abrupt("return",s.data);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,n,i){return t.apply(this,arguments)}return e}()},{key:"getTableRowIdsMatching",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,n,i,s){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=this._ensureRegion(s),t.next=3,r["a"].get("/server/".concat(s,"/tables/").concat(e,"/columns/").concat(a,"/").concat(n,"/").concat(i));case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,n,i,s){return t.apply(this,arguments)}return e}()},{key:"getTableRowsMatching",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a,n,i,s,c){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=this._ensureRegion(s),t.next=3,r["a"].get("/table.php?lan=".concat(s,"&id=").concat(i,"&table=").concat(e),{params:{uiresolve:c&&c.uiresolve?c.uiresolve.join(","):void 0,fileresolve:c&&c.fileresolve?c.fileresolve.join(","):void 0,select:c&&c.select?c.select.join(","):void 0,limit:c&&c.limit?c.limit:void 0}});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}}),t,this)})));function e(e,a,n,i,s,r){return t.apply(this,arguments)}return e}()},{key:"getTable",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){var n,i,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:9e3,a=this._ensureRegion(a),t.next=4,r["a"].get("/server/".concat(a,"/tables/").concat(e),{params:{limit:n}});case 4:return i=t.sent,t.abrupt("return",i.data);case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"_ensureRegion",value:function(t){return t||c["a"].state.regionCode}}]),t}();e["a"]=new o},"7ea2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.valid?a("div",{staticClass:"item-card"},[t.noLink?a("div",{on:{click:t.onClick}},[a("transition",{attrs:{name:"fade"}},[t.loading?a("div",{staticClass:"loading"},[a("div",{staticClass:"loader-box"},[a("div",{staticClass:"loader"}),a("div",{staticClass:"label"},[t._v("Loading #"+t._s(t.itemId))])])]):t._e()]),a("transition",{attrs:{name:"fade"}},[t.loading?t._e():a("div",{staticClass:"entry"},[a("div",{staticClass:"icon"},[a("item-icon",{staticClass:"centering",attrs:{iconIndex:t.itemData.iconIndex,rank:t.itemData.rank,count:t.stackSize,type:t.itemData.type.type}})],1),t.rate?a("div",{staticClass:"rate"},[t._v(" "+t._s(t._f("rate")(t.rate))+"% ")]):t._e(),a("div",{staticClass:"title"},[a("div",{staticClass:"remark"},[a("span",{staticClass:"iid"},[t._v("#"+t._s(t.itemId))])]),a("div",{staticClass:"head"},[t.goldAmt?a("span",[t._v(t._s(t._f("thousands")(t.goldAmt)))]):t._e(),t._v(" "+t._s(t.name)+" ")]),a("div",{staticClass:"remark"},[t.itemData.level>1?a("span",{staticClass:"level"},[t._v(t._s(t.itemData.level)+" ")]):t._e(),t.itemData.tier?a("span",{staticClass:"tier",domProps:{innerHTML:t._s(t.itemData.tier+" ")}}):t._e(),a("span",{class:"rank-"+t.itemData.rank.toLowerCase()},[t._v(t._s(t._f("rankname")(t.itemData.rank))+" ")]),t.timeLimit?a("span",[t._v(t._s(t.timeLimit)+"-天 ")]):t.itemData.durationDays?a("span",[t._v(t._s(t.itemData.durationDays)+"-天 ")]):t._e(),t.canUse?a("span",{staticClass:"can-use"},[t._v(t._s(t.canUse)+" ")]):t._e(),t.itemData.cashItem?a("span",{staticClass:"cash"},[t._v("点券 ")]):t._e(),t._v(" "+t._s(t.category)+" ")])]),t.potentialNum?a("div",{staticClass:"potential"},[a("div",{staticClass:"wrapper"},[t._v(" Option "),t._l(t.potentialStatList,(function(e){return a("div",{key:e.abbv,staticClass:"potential-entry"},[t._v(" "+t._s(e.abbv)+" ")])}))],2)]):t._e()])])],1):a("router-link",{attrs:{to:{path:"/items/"+t.itemEasyUrl,query:t.itemQuery}}},[a("transition",{attrs:{name:"fade"}}),a("transition",{attrs:{name:"fade"}},[t.loading?t._e():a("div",{staticClass:"entry"},[a("div",{staticClass:"icon"},[a("item-icon",{staticClass:"centering",attrs:{iconIndex:t.itemData.iconIndex,rank:t.itemData.rank,count:t.stackSize,type:t.itemData.type.type}})],1),t.rate?a("div",{staticClass:"rate"},[t._v(" "+t._s(t._f("rate")(t.rate))+"% ")]):t._e(),a("div",{staticClass:"title"},[a("div",{staticClass:"remark"},[a("span",{staticClass:"iid"},[t._v("#"+t._s(t.itemId))])]),a("div",{staticClass:"head"},[t.goldAmt?a("span",[t._v(t._s(t._f("thousands")(t.goldAmt)))]):t._e(),t._v(" "+t._s(t.name)+" ")]),a("div",{staticClass:"remark"},[t.itemData.level>1?a("span",{staticClass:"level"},[t._v(t._s(t.itemData.level)+" ")]):t._e(),t.itemData.tier?a("span",{staticClass:"tier",domProps:{innerHTML:t._s(t.itemData.tier+" ")}}):t._e(),a("span",{class:"rank-"+t.itemData.rank.toLowerCase()},[t._v(t._s(t._f("rankname")(t.itemData.rank))+" ")]),t.timeLimit?a("span",[t._v(t._s(t.timeLimit)+"-天 ")]):t.itemData.durationDays?a("span",[t._v(t._s(t.itemData.durationDays)+"-天 ")]):t._e(),t.canUse?a("span",{staticClass:"can-use"},[t._v(t._s(t.canUse)+" ")]):t._e(),t.itemData.cashItem?a("span",{staticClass:"cash"},[t._v("点券 ")]):t._e(),t._v(" "+t._s(t.category)+" ")]),t.seafishLength?a("div",{staticClass:"skill"},[t._v(" "+t._s(t.seafishLength)+"cm ")]):t._e(),t.itemData.skillInfo?a("div",{staticClass:"skill"},[t.itemData.skillInfo.name?a("span",[t._v(" "+t._s(t.itemData.skillInfo.name.message)+" ")]):a("span",[t._v(" Skill "+t._s(t.itemData.skillInfo.id)+" ")]),t.itemData.skillInfo.job?a("span",{staticClass:"job"},[t._v(" ("+t._s(t.itemData.skillInfo.job.displayName)+") ")]):t._e()]):t._e()]),t.potentialNum?a("div",{staticClass:"potential"},[a("div",{staticClass:"wrapper"},[t._v(" Option "),t._l(t.potentialStatList,(function(e){return a("div",{key:e.abbv,staticClass:"potential-entry"},[t._v(" "+t._s(e.abbv)+" ")])}))],2)]):t._e()])])],1)],1):t._e()},i=[],s=(a("4de4"),a("a15b"),a("d81d"),a("fb6a"),a("b0c0"),a("2b0e")),r=a("5489"),c=a("ae0c"),o=a("5a8f");s["a"].component("item-icon",r["a"]);var m={props:["itemId","count","itemStub","noLink","onClick","timeLimit","goldAmt","potentialNum","rate"],name:"item-card",data:function(){return{stackSize:0,loading:!0,itemData:null,valid:!0}},created:function(){this.fetchData()},watch:{itemId:function(t,e){t!=e&&this.fetchData()},count:function(t,e){t!=e&&(this.stackSize=t)}},computed:{seafishLength:function(){return 175===this.itemData.type.typeId&&this.itemData.type.weight},name:function(){if(this.itemData.name){if(this.itemData.name.name&&this.itemData.name._NameID)return this.itemData.name.name;if(this.itemData.name._NameID)return"Item MID: "+this.itemData.name._NameID}return"未知物品"+this.itemId},canUse:function(){return this.itemData.needClass?this.itemData.needClass.filter((function(t){return 0!=t.id})).map((function(t){return t.displayName})).join("/​"):null},category:function(){return o["a"].getItemDetailedCategory(this.itemData)},statSet:function(){return c["a"].joinStatSet(this.itemData.stats)},itemQuery:function(){var t={};return this.potentialNum&&(t.potential=this.potentialNum),t},potentialStatList:function(){if(!this.itemData.potentials||!this.potentialNum)return[];var t=this.itemData.potentials;for(var e in t){var a=t[e];if(a.potentialNumber==this.potentialNum){var n=[],i=a.states,s={};for(var r in i){var o=i[r].state,m=c["a"].getStateInfo(o);m.minmax&&(o=m.minmax,m=c["a"].getStateInfo(o)),s[o]||(s[o]=m,n.push(m))}return n.slice(0,Math.min(3,n.length))}}},itemEasyUrl:function(){return o["a"].itemEasyUrl(this.itemId,this.itemData?this.itemData:this.itemStub)}},methods:{fetchData:function(){var t=this;if(this.loading=!0,this.itemData=null,this.stackSize=this.count,this.valid=!0,this.itemStub)return this.itemData=this.itemStub,this.itemStub.count&&(this.stackSize=this.itemStub.count),this.itemData.type?void(this.loading=!1):void(this.valid=!1);o["a"].getItem(this.itemId,this.$store.state.regionCode,(function(e){t.itemData=e,t.loading=!1}),(function(t){}))}}},_=m,u=(a("18f1"),a("2877")),l=Object(u["a"])(_,n,i,!1,null,"58fa4d7b",null);e["a"]=l.exports},9359:function(t,e,a){},"9e50":function(t,e,a){"use strict";a("dd3b")},a498:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"embed-shop"},[t.valid?a("shop-browser",{attrs:{shopId:t.shopId,useClick:!1,highlight:t.highlight},on:{click:t.itemClick}}):t._e(),a("a",{ref:"link",staticClass:"hidden",attrs:{href:"#",target:"_blank"}})],1)},s=[],r=(a("99af"),a("4de4"),a("d81d"),a("a9e3"),a("ac1f"),a("1276"),a("9911"),a("c003")),c=n["a"].extend({components:{ShopBrowser:r["a"]},data:function(){return{shopId:0,domain:"",highlight:[]}},computed:{valid:function(){return!!this.shopId&&!isNaN(this.shopId)&&!!this.domain}},mounted:function(){this.shopId=Number(this.$route.query.shopId),this.domain=this.$route.query.domain;var t=this.$route.query.hl;t&&(this.highlight=String(t).split(",").map((function(t){return Number(t)})).filter((function(t){return!isNaN(t)})))},methods:{itemClick:function(t){var e="https://".concat(this.domain,"/items/").concat(t.itemId),a=this.$refs.link;a&&(a.href=e,a.click())}}}),o=c,m=(a("063f"),a("2877")),_=Object(m["a"])(o,i,s,!1,null,null,null),u=_.exports,l=a("3a0b"),d=a("a0c2"),p=a("1b9a"),A=a("b908"),E=a("8c4f");n["a"].use(E["a"]);var v=new E["a"]({mode:"history",base:"/",routes:[]}),h=(a("2ca0"),a("27c7")),f=a("85ee"),C=function(t){return function(e){var a=window.localStorage.getItem(f["a"]);if(a||e.query[f["a"]]){var n=e.query[f["a"]]||a||f["b"];if("local"===n&&(n="http://localhost:8081/api",t(d["a"].SetRegion,"local")),e.query[f["d"]]){var i=e.query[f["d"]];t(d["a"].SetRegion,i)}n.startsWith("/")||n.startsWith("http")||(n="/"+n),h["a"].defaults.baseURL=n,n!==f["b"]?window.localStorage.setItem(f["a"],n):window.localStorage.removeItem(f["a"])}else h["a"].defaults.baseURL=f["b"]}};n["a"].use(p),n["a"].use(A),new n["a"]({store:l["a"],router:v,render:function(t){return t(u)},data:function(){return{}},created:function(){this.$store.dispatch(d["a"].Init),A["init"](),C(this.$store.dispatch)(this.$route)},methods:{}}).$mount("#app")},a8f7:function(t,e,a){},ae0c:function(t,e,a){"use strict";a("a9e3");var n=a("53ca"),i={STRENGTH:{name:"Strength",abbv:"力量",type:"stat"},AGILITY:{name:"Agility",abbv:"敏捷",type:"stat"},INTELLECT:{name:"Intellect",abbv:"智力",type:"stat"},VITALITY:{name:"Vitality",abbv:"体质",type:"stat"},PHYSICAL_DAMAGE_MIN:{name:"Physical Damage (Min)",abbv:"物理攻击力 (Min)",type:"stat",minmax:"PHYSICAL_DAMAGE_MINMAX",mxt:"min"},PHYSICAL_DAMAGE_MAX:{name:"Physical Damage (Max)",abbv:"物理攻击力 (Max)",type:"stat",minmax:"PHYSICAL_DAMAGE_MINMAX",mxt:"max"},MAGICAL_DAMAGE_MIN:{name:"Magic Damage (Min)",abbv:"魔法攻击力 (Min)",type:"stat",minmax:"MAGICAL_DAMAGE_MINMAX",mxt:"min"},MAGICAL_DAMAGE_MAX:{name:"Magic Damage (Max)",abbv:"魔法攻击力 (Max)",type:"stat",minmax:"MAGICAL_DAMAGE_MINMAX",mxt:"max"},PHYSICAL_DEFENSE:{name:"Defense",abbv:"物理防御力",type:"stat"},MAGICAL_DEFENSE:{name:"Magic Defense",abbv:"魔法防御力",type:"stat"},PARALYZE:{name:"Paralyze",abbv:"硬直",type:"stat"},PARALYZE_RESIST:{name:"Paralyze Resist",abbv:"硬直抵抗",type:"stat"},CRITICAL:{name:"Critical",abbv:"致命一击",type:"stat"},CRITICAL_RESIST:{name:"Critical Resist",abbv:"致命抵抗",type:"stat"},STUN:{name:"Stun",abbv:"眩晕",type:"stat"},STUN_RESIST:{name:"Stun Resist",abbv:"眩晕抵抗",type:"stat"},FIRE_ATTACK:{name:"Fire",abbv:"火攻击",type:"percent"},ICE_ATTACK:{name:"Ice",abbv:"水攻击",type:"percent"},LIGHT_ATTACK:{name:"Light",abbv:"光攻击",type:"percent"},DARK_ATTACK:{name:"Dark",abbv:"暗攻击",type:"percent"},FIRE_DEFENSE:{name:"Fire",abbv:"火防御",type:"percent"},ICE_DEFENSE:{name:"Ice Defense",abbv:"水防御",type:"percent"},LIGHT_DEFENSE:{name:"Light Defense",abbv:"光防御",type:"percent"},DARK_DEFENSE:{name:"Dark Defense",abbv:"暗防御",type:"percent"},HP:{name:"HEALTH",abbv:"HP",type:"stat"},MANA:{name:"MANA",abbv:"MP",type:"stat"},TWENTY_SEVEN:{name:"27",abbv:"27",type:"stat"},FINAL_DAMAGE:{name:"Final Damage",abbv:"最终伤害",type:"stat"},THIRTY:{name:"30",abbv:"30",type:"stat"},PHYSICAL_DAMAGE_MINMAX:{name:"Physical Damage",abbv:"物理攻击力",type:"stat",combined:!0,children:["PHYSICAL_DAMAGE_MIN","PHYSICAL_DAMAGE_MAX"]},MAGICAL_DAMAGE_MINMAX:{name:"Magic Damage",abbv:"魔法攻击力",type:"stat",combined:!0,children:["MAGICAL_DAMAGE_MIN","MAGICAL_DAMAGE_MAX"]},MOVEMENT_SPEED:{name:"Movement Speed",abbv:"移动速度",type:"stat"},MANA_RECOVERY:{name:"Mana Recovery",abbv:"MP 恢复",type:"stat"},SAFE_ZONE_MOVEMENT_SPEED:{name:"Safe Zone Movement Speed",abbv:"安全地区移动速度",type:"stat"},STRENGTH_PERCENT:{name:"% Strength",abbv:"力量 %",type:"percent"},AGILITY_PERCENT:{name:"% Agility",abbv:"敏捷 %",type:"percent"},INTELLECT_PERCENT:{name:"% Intellect",abbv:"智力 %",type:"percent"},VITALITY_PERCENT:{name:"% Vitalty",abbv:"体质 %",type:"percent"},PHYSICAL_DAMAGE_MIN_PERCENT:{name:"% Physical Damage (Min)",abbv:"物攻%  (Min)",type:"percent",minmax:"PHYSICAL_DAMAGE_MINMAX_PERCENT",mxt:"min"},PHYSICAL_DAMAGE_MAX_PERCENT:{name:"% Physical Damage (Max)",abbv:"物攻%  (Max)",type:"percent",minmax:"PHYSICAL_DAMAGE_MINMAX_PERCENT",mxt:"max"},MAGICAL_DAMAGE_MIN_PERCENT:{name:"% Magic Damage (Min)",abbv:"魔攻% (Min)",type:"percent",minmax:"MAGICAL_DAMAGE_MINMAX_PERCENT",mxt:"min"},MAGICAL_DAMAGE_MAX_PERCENT:{name:"% Magic Damage (Max)",abbv:"魔攻%  (Max)",type:"percent",minmax:"MAGICAL_DAMAGE_MINMAX_PERCENT",mxt:"max"},PHYSICAL_DEFENSE_PERCENT:{name:"% Physical Defense",abbv:"物防 %",type:"percent"},MAGICAL_DEFENSE_PERCENT:{name:"% Magic Defense",abbv:"魔防 %",type:"percent"},PARALYZE_PERCENT:{name:"% Paralyze",abbv:"硬直 %",type:"percent"},PARALYZE_RESIST_PERCENT:{name:"% Paralyze Resist",abbv:"硬直抵抗 %",type:"percent"},CRITICAL_PERCENT:{name:"% Critical",abbv:"致命一击 %",type:"percent"},CRITICAL_RESIST_PERCENT:{name:"% Critical Resist",abbv:"致命抵抗 %",type:"percent"},STUN_PERCENT:{name:"% Stun",abbv:"眩晕 %",type:"percent"},STUN_RESIST_PERCENT:{name:"% Stun Resist",abbv:"眩晕抵抗 %",type:"percent"},MOVEMENT_SPEED_PERCENT:{name:"% Movement Speed",abbv:"移动速度 %",type:"percent"},HP_PERCENT:{name:"% Health",abbv:"HP %",type:"percent"},MP_PERCENT:{name:"% Mana",abbv:"MP %",type:"percent"},MANA_RECOVERY_PERCENT:{name:"% Mana Recovery",abbv:"MP恢复%",type:"percent"},FINAL_DAMAGE_PERCENT:{name:"% Final Damage",abbv:"最终伤害 %",type:"percent"},SAFE_ZONE_MOVEMENT_SPEED_PERCENT:{name:"% Safe Zone Movement Speed",abbv:"安全地区移动速度 %",type:"percent"},PHYSICAL_DAMAGE_MINMAX_PERCENT:{name:"% Physical Damage",abbv:"物攻 % ",type:"percent",combined:!0,children:["PHYSICAL_DAMAGE_MIN_PERCENT","PHYSICAL_DAMAGE_MAX_PERCENT"]},MAGICAL_DAMAGE_MINMAX_PERCENT:{name:"% Magic Damage",abbv:"魔攻 %",type:"percent",combined:!0,children:["MAGICAL_DAMAGE_MIN_PERCENT","MAGICAL_DAMAGE_MAX_PERCENT"]},CRITICAL_DAMAGE:{name:"Critical Damage",abbv:"暴击伤害",type:"stat"},CRITICAL_DAMAGE_PERCENT:{name:"% Critical Damage",abbv:"暴击伤害%",type:"percent"},ONE_HUNDRED_SEVEN:{name:"107",abbv:"107",type:"stat",obsolete:!0},STAT:{name:"STR/AGI/INT/VIT",abbv:"四维",type:"stat",children:["STRENGTH","AGILITY","INTELLECT","VITALITY"]},ELE:{name:"Elemental ATK",abbv:"四属攻",type:"percent",children:["LIGHT_ATTACK","DARK_ATTACK","FIRE_ATTACK","ICE_ATTACK"]},STAT_PERCENT:{name:"STR%/AGI%/INT%/VIT%",abbv:"四维%",type:"percent",children:["STRENGTH_PERCENT","AGILITY_PERCENT","INTELLECT_PERCENT","VITALITY_PERCENT"]}},s={88:"ELE",37:"STAT",87:"STAT_PERCENT"};e["a"]={getStateInfo:function(t){var e=-1;"object"===Object(n["a"])(t)&&(e=t.id,t=t.state);if("UNKNOWN"==t.toUpperCase()){var a=s[String(e)];a&&(t=a)}var r=t.toUpperCase();return i[r]?i[r]:{name:t,abbv:t,type:"stat"}},joinStatSet:function(t,e){e||(e="min");var a={};for(var n in t){var i=t[n],r=Number(i[e]),c=i.state;if("UNKNOWN"==c.toUpperCase()){var o=s[String(i.id)];o&&(c=o)}var m=this.getStateInfo(c);if("PHYSICAL_DAMAGE_MINMAX"===c)a.PHYSICAL_DAMAGE_MIN?a.PHYSICAL_DAMAGE_MIN+=r:a.PHYSICAL_DAMAGE_MIN=r,a.PHYSICAL_DAMAGE_MAX?a.PHYSICAL_DAMAGE_MAX+=r:a.PHYSICAL_DAMAGE_MAX=r;else if("MAGICAL_DAMAGE_MINMAX"===c)a.MAGICAL_DAMAGE_MIN?a.MAGICAL_DAMAGE_MIN+=r:a.MAGICAL_DAMAGE_MIN=r,a.MAGICAL_DAMAGE_MAX?a.MAGICAL_DAMAGE_MAX+=r:a.MAGICAL_DAMAGE_MAX=r;else if("PHYSICAL_DAMAGE_MINMAX_PERCENT"===c)a.PHYSICAL_DAMAGE_MIN_PERCENT?a.PHYSICAL_DAMAGE_MIN_PERCENT+=r:a.PHYSICAL_DAMAGE_MIN_PERCENT=r,a.PHYSICAL_DAMAGE_MAX_PERCENT?a.PHYSICAL_DAMAGE_MAX_PERCENT+=r:a.PHYSICAL_DAMAGE_MAX_PERCENT=r;else if("MAGICAL_DAMAGE_MINMAX_PERCENT"===c)a.MAGICAL_DAMAGE_MIN_PERCENT?a.MAGICAL_DAMAGE_MIN_PERCENT+=r:a.MAGICAL_DAMAGE_MIN_PERCENT=r,a.MAGICAL_DAMAGE_MAX_PERCENT?a.MAGICAL_DAMAGE_MAX_PERCENT+=r:a.MAGICAL_DAMAGE_MAX_PERCENT=r;else if("STAT"===c)a.STRENGTH=(a.STRENGTH?a.STRENGTH:0)+r,a.AGILITY=(a.AGILITY?a.AGILITY:0)+r,a.INTELLECT=(a.INTELLECT?a.INTELLECT:0)+r,a.VITALITY=(a.VITALITY?a.VITALITY:0)+r;else if("ELE"===c)a.LIGHT_ATTACK=(a.LIGHT_ATTACK?a.LIGHT_ATTACK:0)+r,a.DARK_ATTACK=(a.DARK_ATTACK?a.DARK_ATTACK:0)+r,a.FIRE_ATTACK=(a.FIRE_ATTACK?a.FIRE_ATTACK:0)+r,a.ICE_ATTACK=(a.ICE_ATTACK?a.ICE_ATTACK:0)+r;else if("STAT_PERCENT"===c)a.STRENGTH_PERCENT=(a.STRENGTH_PERCENT?a.STRENGTH_PERCENT:0)+r,a.AGILITY_PERCENT=(a.AGILITY_PERCENT?a.AGILITY_PERCENT:0)+r,a.INTELLECT_PERCENT=(a.INTELLECT_PERCENT?a.INTELLECT_PERCENT:0)+r,a.VITALITY_PERCENT=(a.VITALITY_PERCENT?a.VITALITY_PERCENT:0)+r;else{if(m.obsolete)continue;a[c]?a[c]+=r:a[c]=r}}return a},zipStatSets:function(t,e){var a=Object.assign({},t);for(var n in e)a[n]?a[n]+=e[n]:a[n]=e[n];return a}}},c003:function(t,e,a){"use strict";var n,i,s,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-shop"},[t.shopData.loading?a("div",{staticClass:"loading"},[a("loader",{attrs:{"load-text":"正在加载商店"}})],1):t._e(),t.shopData.value?a("div",{staticClass:"result"},[a("div",{staticClass:"shop-pane"},[a("div",{staticClass:"pages"},t._l(t.numPages,(function(e,n){return a("div",{key:e,staticClass:"page-tab",attrs:{active:n===t.pageNumber},on:{click:function(e){return t.setPage(n)}}},[t._v(" "+t._s(e)+" ")])})),0),a("div",{staticClass:"item-grid"},t._l(t.currentPageSlots,(function(e,n){return a("div",{key:n,staticClass:"grid-entry",class:-1!==t.highlight.findIndex((function(t){return n===t}))?"highlight":""},[e?[a("item-icon-tooltip",{attrs:{itemId:e.itemId,count:e.quantity,userData:e,noLink:!t.useClick,directionHint:n>9?"up":"down"},on:{click:t.clickItem}},[a("div",{staticClass:"purchase-details"},[e.seals>=0?a("div",{staticClass:"seals section"},[0==e.seals?[t._v(" Item can have bindings added ")]:[t._v(" Item has "),a("strong",[t._v(t._s(e.seals))]),t._v(" unbinds ")]],2):t._e(),a("div",{staticClass:"costs section"},[a("div",{staticClass:"cost-label"},[t._v("购买")]),t._l(e.cost,(function(e,n){return a("div",{key:n,staticClass:"cost"},[1==e.costType?a("div",{staticClass:"gold"},[e.costParam?[t._v(t._s(t._f("gold")(e.costParam)))]:t._e()],2):2==e.costType?a("div",{staticClass:"card-container"},[a("item-card",{attrs:{itemId:e.costItemId,count:e.costParam,noLink:!0,onClick:function(){}}})],1):3==e.costType?[a("strong",[t._v(t._s(e.costParam)+" 天梯点数")])]:4==e.costType?[a("strong",[t._v(t._s(e.costParam)+" 联盟点数")])]:a("div",{staticClass:"point-container"},[a("point-tag",{attrs:{pointId:e.costType,amount:e.costParam,noTip:!0}})],1)],2)}))],2),e.limitReset?a("div",{staticClass:"limits section"},[t._v(" 限制 "),a("strong",[t._v(t._s(t.limitString(e)))])]):t._e(),e.limitType?a("div",{staticClass:"requirements section"},[2==e.limitType?[t._v(" 需要 Lv "),a("strong",[t._v(t._s(e.limitParam)+"+")])]:3==e.limitType?[t._v(" 需要 PvP 等级 "),a("strong",[t._v(t._s(e.limitParam)+"+")])]:6==e.limitType?[a("strong",[t._v(t._s(e.limitParam)+"+")]),t._v(" 需要成就点数 ")]:7==e.limitType?[t._v(" 需要天梯等级 "),a("strong",[t._v(t._s(t._f("LadderRank")(e.limitParam))+"以上")])]:t._e()],2):t._e()])])]:t._e()],2)})),0)]),a("div",{staticClass:"tabs"},t._l(t.shopData.value.tabs,(function(e){return a("div",{key:e.id,staticClass:"tab",attrs:{active:t.tabIndex===e.id},on:{click:function(a){return t.setTab(e.id)}}},[t._v(" "+t._s(e.name.message)+" ")])})),0)]):t._e()])},c=[],o=(a("99af"),a("4de4"),a("7db0"),a("d81d"),a("a9e3"),a("d3b7"),a("ddb0"),a("96cf"),a("1da1")),m=a("2909"),_=a("2b0e"),u=a("bfe8"),l=(a("13d5"),a("07ac"),a("3ca3"),a("b85c")),d=a("d4ec"),p=a("bee2"),A=a("ae36"),E=a("3a0b"),v=a("7e55"),h=a("6ebb"),f=function(){function t(){Object(d["a"])(this,t),this._shopCache={},this._shopReqCache=new A["a"]}return Object(p["a"])(t,[{key:"getShop",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this._ensureRegion(a),n=this._cacheKey(e,a),i=this._shopCache[n],!i){t.next=5;break}return t.abrupt("return",Promise.resolve(i));case 5:return t.abrupt("return",this._shopReqCache.tryCache(n,Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,s,r,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h["a"].getTableRowsMatching("virt.combinedshoptable","_ShopID","eq",e,a,{limit:2e3});case 2:n=t.sent,i={id:e,tabs:[]},s=Object.values(n.reduce((function(t,e){return t[e._TabID]=e._TabID,t}),{})),r=regeneratorRuntime.mark((function t(){var e,s,r,m,_,u,d,p,A;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=o[c],s=n.find((function(t){return t._TabID===e})),!s){t.next=14;break}return r=s._TabNameID,t.t0=e,t.next=7,v["a"].get(r,a);case 7:t.t1=t.sent,t.t2=[],m={id:t.t0,name:t.t1,entries:t.t2},_=n.filter((function(t){return t._TabID===e})),u=Object(l["a"])(_);try{for(u.s();!(d=u.n()).done;)p=d.value,A={id:p.id,index:p._ListID,itemId:p._itemindex,quantity:p._Quantity,cost:[{costType:p._PurchaseType1,costItemId:p._PurchaseItem1,costParam:p._PurchaseItemValue1},{costType:p._PurchaseType2,costItemId:p._PurchaseItem2,costParam:p._PurchaseItemValue2}].filter((function(t){return t.costType})),limitType:p._PurchaseLimitType,limitParam:p._PurchaseLimitValue,limitCount:p._buyLimitCount,limitReset:p._ShopLimitReset,itemOption:p._ItemOptionID,RepurchaseTime:p._RepurchaseTime,seals:p._ShopSealCount,rollPotentialOnPurchase:p._PotentialList},m.entries.push(A)}catch(E){u.e(E)}finally{u.f()}i.tabs.push(m);case 14:case"end":return t.stop()}}),t)})),c=0,o=s;case 7:if(!(c<o.length)){t.next=12;break}return t.delegateYield(r(),"t0",9);case 9:c++,t.next=7;break;case 12:return t.abrupt("return",i);case 13:case"end":return t.stop()}}),t)})))));case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"_ensureRegion",value:function(t){return t||E["a"].state.regionCode}},{key:"_cacheKey",value:function(t,e){return"".concat(e,":").concat(t)}}]),t}(),C=new f,I=a("40a3");(function(t){t[t["NONE"]=0]="NONE",t[t["COIN"]=1]="COIN",t[t["ITEM"]=2]="ITEM",t[t["LADDER_POINTS"]=3]="LADDER_POINTS",t[t["FRIENDSHIP"]=4]="FRIENDSHIP",t[t["BEGIN_POINTS"]=8]="BEGIN_POINTS"})(n||(n={})),function(t){t[t["NONE"]=0]="NONE",t[t["MIN_LEVEL"]=2]="MIN_LEVEL",t[t["MIN_PVP_RANK"]=3]="MIN_PVP_RANK",t[t["ACHIEVEMENT_POINTS"]=6]="ACHIEVEMENT_POINTS",t[t["MIN_LADDER_RANK"]=7]="MIN_LADDER_RANK"}(i||(i={})),function(t){t[t["NONE"]=0]="NONE",t[t["DAILY"]=1]="DAILY",t[t["WEEKLY"]=2]="WEEKLY",t[t["DAILY_ACCOUNT"]=3]="DAILY_ACCOUNT",t[t["WEEKLY_ACCOUNT"]=4]="WEEKLY_ACCOUNT",t[t["WEEKLY_ACCOUNT_PER"]=5]="WEEKLY_ACCOUNT_PER"}(s||(s={}));var S=a("f62c"),g=a("7ea2"),M=a("343a");_["a"].component("point-tag",M["a"]);var b=_["a"].extend({props:{shopId:{type:Number},useClick:{type:Boolean,default:!1},highlight:{type:Array,default:function(){return[]}}},components:{Loader:I["a"],ItemIconTooltip:S["a"],ItemCard:g["a"]},data:function(){return{shopData:new u["a"],tabIndex:0,pageNumber:0}},watch:{shopId:function(){this.load()}},computed:{numPages:function(){if(this.shopData.value){var t=this.currentTab;if(t)return Math.max(1,Math.ceil(Math.max.apply(Math,Object(m["a"])(t.entries.map((function(t){return t.index}))))/30))}return 0},currentTab:function(){var t=this;return this.shopData.value&&this.shopData.value.tabs.find((function(e){return e.id===t.tabIndex}))||null},currentTabItems:function(){var t=this.currentTab;return t?t.entries:[]},currentPageItems:function(){var t=this;return this.currentTabItems.filter((function(e){return e.index>=30*t.pageNumber&&e.index<30*(t.pageNumber+1)}))},currentPageSlots:function(){for(var t=this,e=[],a=function(a){var n=30*t.pageNumber+a;e[a]=t.currentPageItems.find((function(t){return t.index===n}))||null},n=0;n<30;++n)a(n);return e}},mounted:function(){this.load()},methods:{load:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.shopData.loading){e.next=2;break}return e.abrupt("return");case 2:return t.shopData.startLoad(),e.prev=3,e.t0=t.shopData,e.next=7,C.getShop(t.shopId);case 7:e.t1=e.sent,e.t0.done.call(e.t0,e.t1),t.shopData.value&&t.shopData.value.tabs[0]&&(t.tabIndex=t.shopData.value.tabs[0].id),e.next=15;break;case 12:e.prev=12,e.t2=e["catch"](3),t.shopData.failed(e.t2);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))()},setTab:function(t){this.tabIndex=t,this.pageNumber=0},setPage:function(t){this.pageNumber=t},limitString:function(t){if(t.RepurchaseTime>0)return this.formattingTime(t.RepurchaseTime)+"可以再次购买";switch(t.limitReset){case s.DAILY:return"每天可购买 ".concat(t.limitCount," 个");case s.DAILY_ACCOUNT:return"账号每天可购买 ".concat(t.limitCount," 个");case s.WEEKLY:return"每周可购买 ".concat(t.limitCount," 个");case s.WEEKLY_ACCOUNT:return"账号每周可购买 ".concat(t.limitCount," 个");case s.WEEKLY_ACCOUNT_PER:return"账号每周可购买 ".concat(t.limitCount," 个");default:return"".concat(t.limitCount," per unknown:").concat(t.limitReset)}},clickItem:function(t){this.$emit("click",t)},formattingTime:function(t){var e="",a=t%60,n=t/60%60;e=a+"秒",n>=1&&(e=n+"分"+a+"秒");var i=t/60/60%24;i>=1&&(e=i+"小时"+n+"分"+a+"秒");var s=t/60/60/24;return s>=1&&(e=s+"天"+i+"小时"+n+"分"+a+"秒"),e}}}),P=b,T=(a("9e50"),a("2877")),D=Object(T["a"])(P,r,c,!1,null,"20fe35eb",null);e["a"]=D.exports},d249:function(t,e,a){},dd3b:function(t,e,a){},ec72:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stat-grid"},[Object.keys(t.statSet).length?a("table",{staticClass:"stat-table"},[t.hideHeader?t._e():a("thead",[a("th",{staticClass:"first"},[t._v("属性")]),a("th",[t._v("基础值")]),t.enhanceStatSet?a("th",[t._v("强化")]):t._e(),t.enhanceStatSet?a("th",[t._v("共")]):t._e()]),t.pdmgSet||t.pdmgESet?a("tr",[a("th",{staticClass:"stat"},[t._v(t._s(t.statList["PHYSICAL_DAMAGE_MINMAX"].abbv))]),t.pdmgSet&&t.pdmgSet.min?a("td",[t.pdmgSet.min==t.pdmgSet.max?a("span",[t._v(" "+t._s(t._f("stat")(t.pdmgSet.min))+" ")]):a("span",[t._v(" "+t._s(t._f("stat")(t.pdmgSet.min))+" - "+t._s(t._f("stat")(t.pdmgSet.max))+" ")])]):a("td",[t._v(" ‒ ")]),t.pdmgESet&&t.enhanceStatSet?a("td",{staticClass:"enhance"},[t.pdmgESet.min==t.pdmgESet.max?a("span",[t._v(" +"+t._s(t._f("stat")(t.pdmgESet.min))+" ")]):a("span",[t._v(" +"+t._s(t._f("stat")(t.pdmgESet.min))+" - +"+t._s(t._f("stat")(t.pdmgESet.max))+" ")])]):t.enhanceStatSet?a("td",[t._v(" ‒ ")]):t._e(),t.enhanceStatSet?a("td",{staticClass:"total"},[t.safeSum(t.pdmgESet,t.pdmgSet,"min")==t.safeSum(t.pdmgESet,t.pdmgSet,"max")?a("span",[t._v(" "+t._s(t._f("stat")(t.safeSum(t.pdmgESet,t.pdmgSet,"min")))+" ")]):a("span",[t._v(" "+t._s(t._f("stat")(t.safeSum(t.pdmgESet,t.pdmgSet,"min")))+" - "+t._s(t._f("stat")(t.safeSum(t.pdmgESet,t.pdmgSet,"max")))+" ")])]):t._e()]):t._e(),t.mdmgSet||t.mdmgESet?a("tr",[a("th",{staticClass:"stat"},[t._v(t._s(t.statList["MAGICAL_DAMAGE_MINMAX"].abbv))]),t.mdmgSet&&t.mdmgSet.min?a("td",[t.mdmgSet.min==t.mdmgSet.max?a("span",[t._v(" "+t._s(t._f("stat")(t.mdmgSet.min))+" ")]):a("span",[t._v(" "+t._s(t._f("stat")(t.mdmgSet.min))+" - "+t._s(t._f("stat")(t.mdmgSet.max))+" ")])]):a("td",[t._v(" ‒ ")]),t.mdmgESet&&t.enhanceStatSet?a("td",{staticClass:"enhance"},[t.mdmgESet.min==t.mdmgESet.max?a("span",[t._v(" +"+t._s(t._f("stat")(t.mdmgESet.min))+" ")]):a("span",[t._v(" +"+t._s(t._f("stat")(t.mdmgESet.min))+" - +"+t._s(t._f("stat")(t.mdmgESet.max))+" ")])]):t.enhanceStatSet?a("td",[t._v(" ‒ ")]):t._e(),t.enhanceStatSet?a("td",{staticClass:"total"},[t.safeSum(t.mdmgESet,t.mdmgSet,"min")==t.safeSum(t.mdmgESet,t.mdmgSet,"max")?a("span",[t._v(" "+t._s(t._f("stat")(t.safeSum(t.mdmgESet,t.mdmgSet,"min")))+" ")]):a("span",[t._v(" "+t._s(t._f("stat")(t.safeSum(t.mdmgESet,t.mdmgSet,"min")))+" - "+t._s(t._f("stat")(t.safeSum(t.mdmgESet,t.mdmgSet,"max")))+" ")])]):t._e()]):t._e(),t.pdmgPSet||t.pdmgPESet?a("tr",[a("th",{staticClass:"stat"},[t._v(t._s(t.statList["PHYSICAL_DAMAGE_MINMAX_PERCENT"].abbv))]),t.pdmgPSet.min||t.pdmgPSet.max?a("td",[t.pdmgPSet.min==t.pdmgPSet.max?a("span",[t._v(" "+t._s(t._f("statPercent")(t.pdmgPSet.min))+" ")]):a("span",[t._v(" "+t._s(t._f("statPercent")(t.pdmgPSet.min))+" - "+t._s(t._f("statPercent")(t.pdmgPSet.max))+" ")])]):a("td",[t._v(" ‒ ")]),t.enhanceStatSet&&t.pdmgPESet?a("td",{staticClass:"enhance"},[t.pdmgPESet.min==t.pdmgPESet.max?a("span",[t._v(" +"+t._s(t._f("statPercent")(t.pdmgPESet.min))+" ")]):a("span",[t._v(" +"+t._s(t._f("statPercent")(t.pdmgPESet.min))+" - +"+t._s(t._f("statPercent")(t.pdmgPESet.max))+" ")])]):t.enhanceStatSet?a("td",[t._v(" ‒ ")]):t._e(),t.enhanceStatSet&&t.pdmgPESet?a("td",{staticClass:"total"},[t.pdmgPESet.min+t.pdmgPSet.min==t.pdmgPESet.max+t.pdmgPSet.max?a("span",[t._v(" "+t._s(t._f("statPercent")(t.pdmgPESet.min+t.pdmgPSet.min))+" ")]):a("span",[t._v(" "+t._s(t._f("statPercent")(t.pdmgPESet.min+t.pdmgPSet.min))+" - "+t._s(t._f("statPercent")(t.pdmgPESet.max+t.pdmgPSet.max))+" ")])]):t.enhanceStatSet&&t.pdmgPSet?a("td",{staticClass:"total"},[t.pdmgPSet.min==t.pdmgPSet.max?a("span",[t._v(" "+t._s(t._f("statPercent")(t.pdmgPSet.min))+" ")]):a("span",[t._v(" "+t._s(t._f("statPercent")(t.pdmgPSet.min))+" - "+t._s(t._f("statPercent")(t.pdmgPSet.max))+" ")])]):t.enhanceStatSet&&t.pdmgPESet?a("td",{staticClass:"total"},[t.pdmgPESet.min==t.pdmgPESet.max?a("span",[t._v(" "+t._s(t._f("statPercent")(t.pdmgPESet.min))+" ")]):a("span",[t._v(" "+t._s(t._f("statPercent")(t.pdmgPESet.min))+" - "+t._s(t._f("statPercent")(t.pdmgPESet.max))+" ")])]):t._e()]):t._e(),t.mdmgPSet||t.mdmgPESet?a("tr",[a("th",{staticClass:"stat"},[t._v(t._s(t.statList["MAGICAL_DAMAGE_MINMAX_PERCENT"].abbv))]),t.mdmgPSet.min||t.pdmgPSet.max?a("td",[t.mdmgPSet.min==t.mdmgPSet.max?a("span",[t._v(" "+t._s(t._f("statPercent")(t.mdmgPSet.min))+" ")]):a("span",[t._v(" "+t._s(t._f("statPercent")(t.mdmgPSet.min))+" - "+t._s(t._f("statPercent")(t.mdmgPSet.max))+" ")])]):a("td",[t._v(" ‒ ")]),t.enhanceStatSet&&t.mdmgPESet?a("td",{staticClass:"enhance"},[t.mdmgPESet.min==t.mdmgPESet.max?a("span",[t._v(" +"+t._s(t._f("statPercent")(t.mdmgPESet.min))+" ")]):a("span",[t._v(" +"+t._s(t._f("statPercent")(t.mdmgPESet.min))+" - +"+t._s(t._f("statPercent")(t.mdmgPESet.max))+" ")])]):t.enhanceStatSet?a("td",[t._v(" ‒ ")]):t._e(),t.enhanceStatSet&&t.mdmgPESet?a("td",{staticClass:"total"},[t.mdmgPESet.min+t.mdmgPSet.min==t.mdmgPESet.max+t.mdmgPSet.max?a("span",[t._v(" "+t._s(t._f("statPercent")(t.mdmgPESet.min+t.mdmgPSet.min))+" ")]):a("span",[t._v(" "+t._s(t._f("statPercent")(t.mdmgPESet.min+t.mdmgPSet.min))+" - "+t._s(t._f("statPercent")(t.mdmgPESet.max+t.mdmgPSet.max))+" ")])]):t.enhanceStatSet&&t.mdmgPSet?a("td",{staticClass:"total"},[t.mdmgPSet.min==t.mdmgPSet.max?a("span",[t._v(" "+t._s(t._f("statPercent")(t.mdmgPSet.min))+" ")]):a("span",[t._v(" "+t._s(t._f("statPercent")(t.mdmgPSet.min))+" - "+t._s(t._f("statPercent")(t.mdmgPSet.max))+" ")])]):t.enhanceStatSet&&t.mdmgPESet?a("td",{staticClass:"total"},[t.mdmgPESet.min==t.mdmgPESet.max?a("span",[t._v(" "+t._s(t._f("statPercent")(t.mdmgPESet.min))+" ")]):a("span",[t._v(" "+t._s(t._f("statPercent")(t.mdmgPESet.min))+" - "+t._s(t._f("statPercent")(t.mdmgPESet.max))+" ")])]):t._e()]):t._e(),t._l(t.statList,(function(e,n){return t.cleanedStatSet[n]||t.cleanedEStatSet[n]?a("tr",{key:n},[a("th",[t._v(t._s(e.abbv))]),"stat"==e.type?a("td",[t.cleanedStatSet[n]?a("span",[t._v(" "+t._s(t._f("stat")(t.cleanedStatSet[n]))+" ")]):a("span",[t._v(" ‒ ")])]):t._e(),"percent"==e.type?a("td",[t.cleanedStatSet[n]?a("span",[t._v(" "+t._s(t._f("statPercent")(t.cleanedStatSet[n]))+" ")]):a("span",[t._v(" ‒ ")])]):t._e(),t.cleanedEStatSet&&t.cleanedEStatSet[n]&&"stat"==e.type?a("td",{staticClass:"enhance"},[t._v(" +"+t._s(t._f("stat")(t.cleanedEStatSet[n]))+" ")]):t.cleanedEStatSet&&t.cleanedEStatSet[n]&&"percent"==e.type?a("td",{staticClass:"enhance"},[t._v(" +"+t._s(t._f("statPercent")(t.cleanedEStatSet[n]))+" ")]):t.enhanceStatSet?a("td",[t._v(" ‒ ")]):t._e(),"stat"==e.type&&t.enhanceStatSet?a("td",{staticClass:"total"},[t._v(" "+t._s(t._f("stat")(t.sumStat(n)))+" ")]):t._e(),"percent"==e.type&&t.enhanceStatSet?a("td",{staticClass:"total"},[t._v(" "+t._s(t._f("statPercent")(t.sumStat(n)))+" ")]):t._e()]):t._e()}))],2):a("div",{staticClass:"no-stats"},[t._v("无")])])},i=[],s=a("ae0c"),r={props:["statSet","enhanceStatSet","hideHeader"],data:function(){return{}},computed:{pdmgSet:function(){return this.extractPdmg(this.statSet)},mdmgSet:function(){return this.extractMdmg(this.statSet)},pdmgESet:function(){return this.extractPdmg(this.enhanceStatSet)},mdmgESet:function(){return this.extractMdmg(this.enhanceStatSet)},pdmgPSet:function(){return this.extractPdmgPercent(this.statSet)},mdmgPSet:function(){return this.extractMdmgPercent(this.statSet)},pdmgPESet:function(){return this.extractPdmgPercent(this.enhanceStatSet)},mdmgPESet:function(){return this.extractMdmgPercent(this.enhanceStatSet)},cleanedStatSet:function(){return this.clean(this.statSet)},cleanedEStatSet:function(){return this.clean(this.enhanceStatSet)},statList:function(){var t={};if(this.statSet)for(var e in this.statSet)"PHYSICAL_DAMAGE_MIN"!==e&&"PHYSICAL_DAMAGE_MAX"!==e?"MAGICAL_DAMAGE_MIN"!==e&&"MAGICAL_DAMAGE_MAX"!==e?"PHYSICAL_DAMAGE_MIN_PERCENT"!==e&&"PHYSICAL_DAMAGE_MAX_PERCENT"!==e?"MAGICAL_DAMAGE_MIN_PERCENT"!==e&&"MAGICAL_DAMAGE_MAX_PERCENT"!==e?t[e]=s["a"].getStateInfo(e):t["MAGICAL_DAMAGE_MINMAX_PERCENT"]=s["a"].getStateInfo("MAGICAL_DAMAGE_MINMAX_PERCENT"):t["PHYSICAL_DAMAGE_MINMAX_PERCENT"]=s["a"].getStateInfo("PHYSICAL_DAMAGE_MINMAX_PERCENT"):t["MAGICAL_DAMAGE_MINMAX"]=s["a"].getStateInfo("MAGICAL_DAMAGE_MINMAX"):t["PHYSICAL_DAMAGE_MINMAX"]=s["a"].getStateInfo("PHYSICAL_DAMAGE_MINMAX");if(this.enhanceStatSet)for(var a in this.enhanceStatSet)"PHYSICAL_DAMAGE_MIN"!==a&&"PHYSICAL_DAMAGE_MAX"!==a?"MAGICAL_DAMAGE_MIN"!==a&&"MAGICAL_DAMAGE_MAX"!==a?"PHYSICAL_DAMAGE_MIN_PERCENT"!==a&&"PHYSICAL_DAMAGE_MAX_PERCENT"!==a?"MAGICAL_DAMAGE_MIN_PERCENT"!==a&&"MAGICAL_DAMAGE_MAX_PERCENT"!==a?t[a]=s["a"].getStateInfo(a):t["MAGICAL_DAMAGE_MINMAX_PERCENT"]=s["a"].getStateInfo("MAGICAL_DAMAGE_MINMAX_PERCENT"):t["PHYSICAL_DAMAGE_MINMAX_PERCENT"]=s["a"].getStateInfo("PHYSICAL_DAMAGE_MINMAX_PERCENT"):t["MAGICAL_DAMAGE_MINMAX"]=s["a"].getStateInfo("MAGICAL_DAMAGE_MINMAX"):t["PHYSICAL_DAMAGE_MINMAX"]=s["a"].getStateInfo("PHYSICAL_DAMAGE_MINMAX");return t}},methods:{extractPdmg:function(t){if(!t)return null;var e={min:0,max:0};return e.min=t.PHYSICAL_DAMAGE_MIN,e.max=t.PHYSICAL_DAMAGE_MAX,void 0==e.min||void 0==e.max?null:e},extractMdmg:function(t){if(!t)return null;var e={min:0,max:0};return e.min=t.MAGICAL_DAMAGE_MIN,e.max=t.MAGICAL_DAMAGE_MAX,void 0==e.min||void 0==e.max?null:e},extractPdmgPercent:function(t){if(!t)return null;var e={min:0,max:0};return e.min=t.PHYSICAL_DAMAGE_MIN_PERCENT,e.max=t.PHYSICAL_DAMAGE_MAX_PERCENT,void 0==e.min&&void 0==e.max?null:(e.min=e.min?e.min:0,e.max=e.max?e.max:0,e)},extractMdmgPercent:function(t){if(!t)return null;var e={min:0,max:0};return e.min=t.MAGICAL_DAMAGE_MIN_PERCENT,e.max=t.MAGICAL_DAMAGE_MAX_PERCENT,void 0==e.min&&void 0==e.max?null:(e.min=e.min?e.min:0,e.max=e.max?e.max:0,e)},clean:function(t){if(!t)return{};var e={};for(var a in t)"PHYSICAL_DAMAGE_MIN"!==a&&"PHYSICAL_DAMAGE_MAX"!==a&&"PHYSICAL_DAMAGE_MINMAX"!==a&&"MAGICAL_DAMAGE_MIN"!==a&&"MAGICAL_DAMAGE_MAX"!==a&&"MAGICAL_DAMAGE_MINMAX"!==a&&"PHYSICAL_DAMAGE_MIN_PERCENT"!==a&&"PHYSICAL_DAMAGE_MAX_PERCENT"!==a&&"PHYSICAL_DAMAGE_MINMAX_PERCENT"!==a&&"MAGICAL_DAMAGE_MIN_PERCENT"!==a&&"MAGICAL_DAMAGE_MAX_PERCENT"!==a&&"MAGICAL_DAMAGE_MINMAX_PERCENT"!==a&&(e[a]=t[a]);return e},sumStat:function(t){var e=this.cleanedStatSet[t],a=this.cleanedEStatSet[t];return void 0==e?a:void 0==a?e:e+a},safeSum:function(t,e,a){return t&&void 0!=t[a]?e&&void 0!=e[a]?t[a]+e[a]:t[a]:e[a]}}},c=r,o=(a("3b55"),a("2877")),m=Object(o["a"])(c,n,i,!1,null,"01e48670",null);e["a"]=m.exports},ef94:function(t,e,a){"use strict";a("a8f7")},f62c:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.valid?a("div",{staticClass:"item-icon-tooltip"},[t.noLink?[a("transition",{attrs:{name:"fade"}},[t.loading?a("div",{staticClass:"loading"},[a("load-indicator",{attrs:{loadText:""}})],1):t._e()]),a("transition",{attrs:{name:"fade"}},[t.loading?t._e():a("div",{staticClass:"entry",on:{click:function(e){return t.$emit("click",t.userData)}}},[a("div",{staticClass:"icon"},[a("item-icon",{staticClass:"centering",attrs:{iconIndex:t.itemData.iconIndex,rank:t.itemData.rank,count:t.stackSize,type:t.itemData.type.type}})],1),t.noTip?t._e():a("div",{class:"itemtip "+t.directionHint},[a("div",{staticClass:"remark"},[a("span",{staticClass:"iid"},[t._v("#"+t._s(t.itemId))])]),a("div",{staticClass:"head"},[t.goldAmt?a("span",[t._v(t._s(t._f("thousands")(t.goldAmt)))]):t._e(),t._v(" "+t._s(t.name)+" "),t.count&&t.count>1?a("span",{staticClass:"count"},[t._v(t._s(t.count))]):t._e()]),a("div",{staticClass:"remark"},[t.itemData.level>1?a("span",{staticClass:"level"},[t._v(t._s(t.itemData.level)+" ")]):t._e(),t.itemData.tier?a("span",{staticClass:"tier"},[a("span",{domProps:{innerHTML:t._s(t.itemData.tier)}})]):t._e(),a("span",{class:"rank-"+t.itemData.rank.toLowerCase()},[t._v(t._s(t._f("rankname")(t.itemData.rank))+" ")]),t.timeLimit?a("span",[t._v(t._s(t.timeLimit)+"-天 ")]):t.itemData.durationDays?a("span",[t._v(t._s(t.itemData.durationDays)+"-天 ")]):t._e()]),a("div",{staticClass:"remark"},[t.canUse?a("span",{staticClass:"can-use"},[t._v(t._s(t.canUse)+" ")]):t._e()]),a("div",{staticClass:"remark"},[t.itemData.cashItem?a("span",{staticClass:"cash"},[t._v("点券 ")]):t._e(),t._v(" "+t._s(t.category)+" ")]),t._t("default")],2),t.potentialNum?a("div",{staticClass:"potential"},[a("div",{staticClass:"wrapper"},[t._v(" Option "),t._l(t.potentialStatList,(function(e){return a("div",{key:e.abbv,staticClass:"potential-entry"},[t._v(" "+t._s(e.abbv)+" ")])}))],2)]):t._e()])])]:a("router-link",{attrs:{to:{path:"/items/"+t.itemEasyUrl,query:t.itemQuery}}},[a("transition",{attrs:{name:"fade"}},[t.loading?a("div",{staticClass:"loading"},[a("load-indicator",{attrs:{loadText:""}})],1):t._e()]),a("transition",{attrs:{name:"fade"}},[t.loading?t._e():a("div",{staticClass:"entry"},[a("div",{staticClass:"icon"},[a("item-icon",{staticClass:"centering",attrs:{iconIndex:t.itemData.iconIndex,rank:t.itemData.rank,count:t.stackSize,type:t.itemData.type.type}})],1),t.noTip?t._e():a("div",{class:"itemtip "+t.directionHint},[a("div",{staticClass:"remark"},[a("span",{staticClass:"iid"},[t._v("#"+t._s(t.itemId))])]),a("div",{staticClass:"head"},[t.goldAmt?a("span",[t._v(t._s(t._f("thousands")(t.goldAmt)))]):t._e(),t._v(" "+t._s(t.name)+" "),t.count&&t.count>1?a("span",{staticClass:"count"},[t._v(t._s(t.count))]):t._e()]),a("div",{staticClass:"remark"},[t.itemData.level>1?a("span",{staticClass:"level"},[t._v(t._s(t.itemData.level)+" ")]):t._e(),t.itemData.tier?a("span",{staticClass:"tier"},[a("span",{domProps:{innerHTML:t._s(t.itemData.tier)}})]):t._e(),a("span",{class:"rank-"+t.itemData.rank.toLowerCase()},[t._v(t._s(t._f("rankname")(t.itemData.rank))+" ")]),t.timeLimit?a("span",[t._v(t._s(t.timeLimit)+"-天 ")]):t.itemData.durationDays?a("span",[t._v(t._s(t.itemData.durationDays)+"-天 ")]):t._e()]),a("div",{staticClass:"remark"},[t.canUse?a("span",{staticClass:"can-use"},[t._v(t._s(t.canUse)+" ")]):t._e()]),a("div",{staticClass:"remark"},[t.itemData.cashItem?a("span",{staticClass:"cash"},[t._v("点券 ")]):t._e(),t._v(" "+t._s(t.category)+" ")]),t.itemData.desc.desc?a("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.itemData.desc.desc)}}):t._e(),0!=Object.keys(t.statSet).length?a("div",[a("div",[a("stat-grid",{attrs:{statSet:t.statSet}})],1)]):t._e(),0!=Object.keys(t.titleState).length?a("div",[a("div",[a("div",{staticClass:"desc"},[t._v("能力称号")]),a("stat-grid",{attrs:{statSet:t.titleState}})],1)]):t._e(),0!=Object.keys(t.fixState).length?a("div",[a("div",[a("div",{staticClass:"desc"},[t._v("英雄称号")]),a("stat-grid",{attrs:{statSet:t.fixState}})],1)]):t._e(),t._t("default")],2),t.potentialNum?a("div",{staticClass:"potential"},[a("div",{staticClass:"wrapper"},[t._v(" Option "),t._l(t.potentialStatList,(function(e){return a("div",{key:e.abbv,staticClass:"potential-entry"},[t._v(" "+t._s(e.abbv)+" ")])}))],2)]):t._e()])])],1)],2):t._e()},i=[],s=(a("a15b"),a("d81d"),a("b0c0"),a("2b0e")),r=a("5489"),c=a("ae0c"),o=a("5a8f"),m=a("40a3"),_=a("ec72");s["a"].component("item-icon",r["a"]),s["a"].component("load-indicator",m["a"]),s["a"].component("stat-grid",_["a"]);var u={props:["itemId","count","itemStub","noLink","timeLimit","goldAmt","potentialNum","rate","userData","noTip","directionHint"],name:"item-icon-tooltip",data:function(){return{stackSize:0,loading:!0,itemData:null,valid:!0}},created:function(){this.fetchData()},watch:{itemId:function(t,e){t!=e&&this.fetchData()},count:function(t,e){t!=e&&(this.stackSize=t)}},computed:{name:function(){if(this.itemData.name){if(this.itemData.name.name&&this.itemData.name._NameID)return this.itemData.name.name;if(this.itemData.name._NameID)return"Item MID: "+this.itemData.name._NameID}return"未知物品"+this.itemId},canUse:function(){return this.itemData.needClass?this.itemData.needClass.map((function(t){return t.displayName})).join("/"):null},category:function(){return o["a"].getItemDetailedCategory(this.itemData)},statSet:function(){return c["a"].joinStatSet(this.itemData.stats)},titleState:function(){return c["a"].joinStatSet(this.itemData.titleState,"value")},fixState:function(){return c["a"].joinStatSet(this.itemData.fixstate,"value")},itemQuery:function(){var t={};return this.potentialNum&&(t.potential=this.potentialNum),t},potentialStatList:function(){if(!this.itemData.potentials||!this.potentialNum)return[];var t=this.itemData.potentials;for(var e in t){var a=t[e];if(a.potentialNumber==this.potentialNum){var n=[],i=a.states;for(var s in i)n.push(c["a"].getStateInfo(i[s]));return n}}},itemEasyUrl:function(){return o["a"].itemEasyUrl(this.itemId,this.itemData?this.itemData:this.itemStub)}},methods:{fetchData:function(){var t=this;if(this.loading=!0,this.itemData=null,this.stackSize=this.count,this.valid=!0,this.itemStub)return this.itemData=this.itemStub,this.itemData.type?void(this.loading=!1):void(this.valid=!1);o["a"].getItem(this.itemId,this.$store.state.regionCode,(function(e){t.itemData=e,t.loading=!1}),(function(t){}))}}},l=u,d=(a("4925"),a("2877")),p=Object(d["a"])(l,n,i,!1,null,"c1f39d7e",null);e["a"]=p.exports}});
//# sourceMappingURL=embedShop.6f3934be.js.map